{
  "filename": "open-api.md",
  "__html": "<h1>Open API 指南</h1>\n<p>Nacos 2.X 版本兼容 Nacos1.X 版本的OpenAPI, 请参考文档<a href=\"../../../open-api.md\">Nacos1.X OpenAPI</a>使用。</p>\n<blockquote>\n<p>注意：未特殊注明支持版本的OpenAPI均从2.2.0版本开始支持。</p>\n</blockquote>\n<ul>\n<li>\n<p>文档约定</p>\n<ul>\n<li><a href=\"#0.1\">API 统一返回体格式</a></li>\n<li><a href=\"#0.2\">API 错误码汇总</a></li>\n</ul>\n</li>\n<li>\n<p>配置管理</p>\n<ul>\n<li><a href=\"#1.1\">获取配置</a></li>\n<li><a href=\"#1.2\">发布配置</a></li>\n<li><a href=\"#1.3\">删除配置</a></li>\n<li><a href=\"#1.4\">查询配置历史版本列表</a></li>\n<li><a href=\"#1.5\">查询具体版本的历史配置</a></li>\n<li><a href=\"#1.6\">查询配置上一版本信息</a></li>\n<li><a href=\"#1.7\">查询指定命名空间下的配置列表</a></li>\n</ul>\n</li>\n<li>\n<p>服务发现</p>\n<ul>\n<li><a href=\"#2.1\">注册实例</a></li>\n<li><a href=\"#2.2\">注销实例</a></li>\n<li><a href=\"#2.3\">更新实例</a></li>\n<li><a href=\"#2.4\">查询实例详情</a></li>\n<li><a href=\"#2.5\">查询指定服务下的实例列表</a></li>\n<li><a href=\"#2.6\">批量更新实例元数据(Beta)</a></li>\n<li><a href=\"#2.7\">批量删除实例元数据(Beta)</a></li>\n<li><a href=\"#2.8\">创建服务</a></li>\n<li><a href=\"#2.9\">删除服务</a></li>\n<li><a href=\"#2.10\">修改服务</a></li>\n<li><a href=\"#2.11\">查询服务详情</a></li>\n<li><a href=\"#2.12\">查询服务列表</a></li>\n<li><a href=\"#2.13\">查询系统开关</a></li>\n<li><a href=\"#2.14\">修改系统开关</a></li>\n<li><a href=\"#2.15\">查看系统当前数据指标</a></li>\n<li><a href=\"#2.16\">更新实例的健康状态</a></li>\n<li><a href=\"#2.17\">查询客户端列表（新）</a></li>\n<li><a href=\"#2.18\">查询客户端信息（新）</a></li>\n<li><a href=\"#2.19\">查询客户端的注册信息（新）</a></li>\n<li><a href=\"#2.20\">查询客户端的订阅信息（新）</a></li>\n<li><a href=\"#2.21\">查询注册指定服务的客户端信息（新）</a></li>\n<li><a href=\"#2.22\">查询订阅指定服务的客户端信息（新）</a></li>\n</ul>\n</li>\n<li>\n<p>命名空间</p>\n<ul>\n<li><a href=\"#3.1\">查询命名空间列表</a></li>\n<li><a href=\"#3.2\">查询具体命名空间</a></li>\n<li><a href=\"#3.3\">新增命名空间</a></li>\n<li><a href=\"#3.4\">编辑命名空间</a></li>\n<li><a href=\"#3.5\">删除命名空间</a></li>\n</ul>\n</li>\n<li>\n<p>集群管理</p>\n<ul>\n<li><a href=\"#4.1\">查询当前节点信息</a></li>\n<li><a href=\"#4.2\">查询集群节点列表</a></li>\n<li><a href=\"#4.3\">查询当前节点健康状态</a></li>\n<li><a href=\"#4.4\">切换寻址模式</a></li>\n</ul>\n</li>\n</ul>\n<h2>文档规定</h2>\n<h2 id=\"0.1\">API 统一返回体格式</h2>\n<p>2.0版本Open API，所有接口请求的响应均为<code>json</code>类型的返回体，返回体具有相同的格式</p>\n<pre><code class=\"language-json\">{\n  <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n  <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n  <span class=\"hljs-attr\">\"data\"</span>: {}\n}\n</code></pre>\n<p>返回体中各字段的含义如下表所示</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">名称</th>\n<th style=\"text-align:center\">类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>code</code></td>\n<td style=\"text-align:center\"><code>int</code></td>\n<td>错误码，<code>0</code>代表执行成功，非<code>0</code>代表执行失败的某一种情况</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>message</code></td>\n<td style=\"text-align:center\"><code>String</code></td>\n<td>错误码提示信息，执行成功为&quot;<code>success</code>&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>data</code></td>\n<td style=\"text-align:center\">任意类型</td>\n<td>返回数据，执行失败时为详细出错信息</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>由于执行成功的情况下code字段与message字段相同，后续在介绍接口的返回结果时，只介绍返回数据的data字段</p>\n</blockquote>\n<h2 id=\"0.2\">API 错误码汇总</h2>\n<p>API接口返回体中的错误码及对应提示信息汇总见下表</p>\n<table>\n<thead>\n<tr>\n<th>错误码</th>\n<th>提示信息</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>0</code></td>\n<td><code>success</code></td>\n<td>成功执行</td>\n</tr>\n<tr>\n<td><code>10000</code></td>\n<td><code>parameter missing</code></td>\n<td>参数缺失</td>\n</tr>\n<tr>\n<td><code>10001</code></td>\n<td><code>access denied</code></td>\n<td>访问拒绝</td>\n</tr>\n<tr>\n<td><code>10002</code></td>\n<td><code>data access error</code></td>\n<td>数据访问错误</td>\n</tr>\n<tr>\n<td><code>20001</code></td>\n<td><code>'tenant' parameter error</code></td>\n<td><code>tenant</code>参数错误</td>\n</tr>\n<tr>\n<td><code>20002</code></td>\n<td><code>parameter validate error</code></td>\n<td>参数验证错误</td>\n</tr>\n<tr>\n<td><code>20003</code></td>\n<td><code>MediaType Error</code></td>\n<td>请求的<code>MediaType</code>错误</td>\n</tr>\n<tr>\n<td><code>20004</code></td>\n<td><code>resource not found</code></td>\n<td>资源未找到</td>\n</tr>\n<tr>\n<td><code>20005</code></td>\n<td><code>resource conflict</code></td>\n<td>资源访问冲突</td>\n</tr>\n<tr>\n<td><code>20006</code></td>\n<td><code>config listener is null</code></td>\n<td>监听配置为空</td>\n</tr>\n<tr>\n<td><code>20007</code></td>\n<td><code>config listener error</code></td>\n<td>监听配置错误</td>\n</tr>\n<tr>\n<td><code>20008</code></td>\n<td><code>invalid dataId</code></td>\n<td>无效的<code>dataId</code>（鉴权失败）</td>\n</tr>\n<tr>\n<td><code>20009</code></td>\n<td><code>parameter mismatch</code></td>\n<td>请求参数不匹配</td>\n</tr>\n<tr>\n<td><code>21000</code></td>\n<td><code>service name error</code></td>\n<td><code>serviceName</code>服务名错误</td>\n</tr>\n<tr>\n<td><code>21001</code></td>\n<td><code>weight error</code></td>\n<td><code>weight</code>权重参数错误</td>\n</tr>\n<tr>\n<td><code>21002</code></td>\n<td><code>instance metadata error</code></td>\n<td>实例<code>metadata</code>元数据错误</td>\n</tr>\n<tr>\n<td><code>21003</code></td>\n<td><code>instance not found</code></td>\n<td><code>instance</code>实例不存在</td>\n</tr>\n<tr>\n<td><code>21004</code></td>\n<td><code>instance error</code></td>\n<td><code>instance</code>实例信息错误</td>\n</tr>\n<tr>\n<td><code>21005</code></td>\n<td><code>service metadata error</code></td>\n<td>服务<code>metadata</code>元数据错误</td>\n</tr>\n<tr>\n<td><code>21006</code></td>\n<td><code>selector error</code></td>\n<td>访问策略<code>selector</code>错误</td>\n</tr>\n<tr>\n<td><code>21007</code></td>\n<td><code>service already exist</code></td>\n<td>服务已存在</td>\n</tr>\n<tr>\n<td><code>21008</code></td>\n<td><code>service not exist</code></td>\n<td>服务不存在</td>\n</tr>\n<tr>\n<td><code>21009</code></td>\n<td><code>service delete failure</code></td>\n<td>存在服务实例，服务删除失败</td>\n</tr>\n<tr>\n<td><code>21010</code></td>\n<td><code>healthy param miss</code></td>\n<td><code>healthy</code>参数缺失</td>\n</tr>\n<tr>\n<td><code>21011</code></td>\n<td><code>health check still running</code></td>\n<td>健康检查仍在运行</td>\n</tr>\n<tr>\n<td><code>22000</code></td>\n<td><code>illegal namespace</code></td>\n<td>命名空间<code>namespace</code>不合法</td>\n</tr>\n<tr>\n<td><code>22001</code></td>\n<td><code>namespace not exist</code></td>\n<td>命名空间不存在</td>\n</tr>\n<tr>\n<td><code>22002</code></td>\n<td><code>namespace already exist</code></td>\n<td>命名空间已存在</td>\n</tr>\n<tr>\n<td><code>23000</code></td>\n<td><code>illegal state</code></td>\n<td>状态<code>state</code>不合法</td>\n</tr>\n<tr>\n<td><code>23001</code></td>\n<td><code>node info error</code></td>\n<td>节点信息错误</td>\n</tr>\n<tr>\n<td><code>23002</code></td>\n<td><code>node down failure</code></td>\n<td>节点离线操作出错</td>\n</tr>\n<tr>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n</tr>\n<tr>\n<td>30000</td>\n<td><code>server error</code></td>\n<td>其他内部错误</td>\n</tr>\n</tbody>\n</table>\n<h2>配置管理</h2>\n<h2 id=\"1.1\">获取配置</h2>\n<h3>接口描述</h3>\n<p>获取指定配置</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/cs/config</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>类型</th>\n<th>必填</th>\n<th>参数描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间，默认为<code>public</code>与 <code>''</code>相同</td>\n</tr>\n<tr>\n<td><code>group</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>配置分组名</td>\n</tr>\n<tr>\n<td><code>dataId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>配置名</td>\n</tr>\n<tr>\n<td><code>tag</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>标签</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>String</code></td>\n<td>配置内容</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/cs/config?dataId=nacos.example&amp;group=DEFAULT_GROUP&amp;namespaceId=public'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-string\">\"contentTest\"</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"1.2\">发布配置</h2>\n<h3>接口描述</h3>\n<p>发布指定配置</p>\n<blockquote>\n<p>当配置已存在时，则对配置进行更新</p>\n</blockquote>\n<h3>请求方式</h3>\n<p><code>POST</code></p>\n<p><code>Content-Type:application/x-www-form-urlencoded</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/cs/config</code></p>\n<h3>请求Body</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>类型</th>\n<th>必填</th>\n<th>参数描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间，默认为<code>public</code>与 <code>''</code>相同</td>\n</tr>\n<tr>\n<td><code>group</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>配置组名</td>\n</tr>\n<tr>\n<td><code>dataId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>配置名</td>\n</tr>\n<tr>\n<td><code>content</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>配置内容</td>\n</tr>\n<tr>\n<td><code>tag</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>标签</td>\n</tr>\n<tr>\n<td><code>appName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>应用名</td>\n</tr>\n<tr>\n<td><code>srcUser</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>源用户</td>\n</tr>\n<tr>\n<td><code>configTags</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>配置标签列表，可多个，逗号分隔</td>\n</tr>\n<tr>\n<td><code>desc</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>配置描述</td>\n</tr>\n<tr>\n<td><code>use</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>-</td>\n</tr>\n<tr>\n<td><code>effect</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>-</td>\n</tr>\n<tr>\n<td><code>type</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>配置类型</td>\n</tr>\n<tr>\n<td><code>schema</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'dataId=nacos.example' \\\n  -d 'group=DEFAULT_GROUP' \\\n  -d 'namespaceId=public' \\\n  -d 'content=contentTest' \\\n  -X POST 'http://127.0.0.1:8848/nacos/v2/cs/config'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"1.3\">删除配置</h2>\n<h3>接口描述</h3>\n<p>删除指定配置</p>\n<h3>请求方式</h3>\n<p><code>DELETE</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/cs/config</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>类型</th>\n<th>必填</th>\n<th>参数描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间，默认为<code>public</code>与 <code>''</code>相同</td>\n</tr>\n<tr>\n<td><code>group</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>配置分组名</td>\n</tr>\n<tr>\n<td><code>dataId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>配置名</td>\n</tr>\n<tr>\n<td><code>tag</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>标签</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X DELETE 'http://127.0.0.1:8848/nacos/v2/cs/config?dataId=nacos.example&amp;group=DEFAULT_GROUP&amp;namespaceId=public'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"1.4\">查询配置历史列表</h2>\n<h3>接口描述</h3>\n<p>获取指定配置的历史版本列表</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/cs/history/list</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>类型</th>\n<th>必填</th>\n<th>参数描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间，默认为<code>public</code>与 <code>''</code>相同</td>\n</tr>\n<tr>\n<td><code>group</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>配置分组名</td>\n</tr>\n<tr>\n<td><code>dataId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>配置名</td>\n</tr>\n<tr>\n<td><code>pageNo</code></td>\n<td><code>int</code></td>\n<td>否</td>\n<td>当前页，默认为<code>1</code></td>\n</tr>\n<tr>\n<td><code>pageSize</code></td>\n<td><code>int</code></td>\n<td>否</td>\n<td>页条目数，默认为<code>100</code>，最大为<code>500</code></td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object</code></td>\n<td>分页查询结果</td>\n</tr>\n<tr>\n<td><code>data.totalCount</code></td>\n<td><code>int</code></td>\n<td>总数</td>\n</tr>\n<tr>\n<td><code>data.pageNumber</code></td>\n<td><code>int</code></td>\n<td>当前页</td>\n</tr>\n<tr>\n<td><code>data.pagesAvailable</code></td>\n<td><code>int</code></td>\n<td>总页数</td>\n</tr>\n<tr>\n<td><code>data.pageItems</code></td>\n<td><code>Object[]</code></td>\n<td>历史配置项列表，参见<a href=\"#ConfigHistoryInfo\">历史配置项信息</a></td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/cs/history/list?dataId=nacos.example&amp;group=com.alibaba.nacos&amp;namespaceId='\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: {\n\t\t<span class=\"hljs-attr\">\"totalCount\"</span>: <span class=\"hljs-number\">1</span>,\n\t\t<span class=\"hljs-attr\">\"pageNumber\"</span>: <span class=\"hljs-number\">1</span>,\n\t\t<span class=\"hljs-attr\">\"pagesAvailable\"</span>: <span class=\"hljs-number\">1</span>,\n\t\t<span class=\"hljs-attr\">\"pageItems\"</span>: [\n\t\t\t{\n                <span class=\"hljs-attr\">\"id\"</span>: <span class=\"hljs-string\">\"203\"</span>,\n                <span class=\"hljs-attr\">\"lastId\"</span>: <span class=\"hljs-number\">-1</span>,\n                <span class=\"hljs-attr\">\"dataId\"</span>: <span class=\"hljs-string\">\"nacos.example\"</span>,\n                <span class=\"hljs-attr\">\"group\"</span>: <span class=\"hljs-string\">\"com.alibaba.nacos\"</span>,\n                <span class=\"hljs-attr\">\"tenant\"</span>: <span class=\"hljs-string\">\"\"</span>,\n                <span class=\"hljs-attr\">\"appName\"</span>: <span class=\"hljs-string\">\"\"</span>,\n                <span class=\"hljs-attr\">\"md5\"</span>: <span class=\"hljs-string\">\"9f67e6977b100e00cab385a75597db58\"</span>,\n  \t\t\t\t<span class=\"hljs-attr\">\"content\"</span>: <span class=\"hljs-string\">\"contentTest\"</span>,\n                <span class=\"hljs-attr\">\"srcIp\"</span>: <span class=\"hljs-string\">\"0:0:0:0:0:0:0:1\"</span>,\n                <span class=\"hljs-attr\">\"srcUser\"</span>: <span class=\"hljs-literal\">null</span>,\n                <span class=\"hljs-attr\">\"opType\"</span>: <span class=\"hljs-string\">\"I\"</span>,\n                <span class=\"hljs-attr\">\"createdTime\"</span>: <span class=\"hljs-string\">\"2010-05-04T16:00:00.000+0000\"</span>,\n                <span class=\"hljs-attr\">\"lastModifiedTime\"</span>: <span class=\"hljs-string\">\"2020-12-05T01:48:03.380+0000\"</span>\n\t\t\t}\n\t\t]\n\t}\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"1.5\">查询具体版本的历史配置</h2>\n<h3>接口描述</h3>\n<p>获取指定版本的历史配置</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/cs/history</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>类型</th>\n<th>必填</th>\n<th>参数描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间，默认为<code>public</code>与 <code>''</code>相同</td>\n</tr>\n<tr>\n<td><code>group</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>配置分组名</td>\n</tr>\n<tr>\n<td><code>dataId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>配置名</td>\n</tr>\n<tr>\n<td><code>nid</code></td>\n<td><code>long</code></td>\n<td><strong>是</strong></td>\n<td>历史配置id</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"ConfigHistoryInfo\">返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object</code></td>\n<td>历史配置项</td>\n</tr>\n<tr>\n<td><code>data.id</code></td>\n<td><code>String</code></td>\n<td>配置<code>id</code></td>\n</tr>\n<tr>\n<td><code>data.lastId</code></td>\n<td><code>int</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>data.dataId</code></td>\n<td><code>String</code></td>\n<td>配置名</td>\n</tr>\n<tr>\n<td><code>data.group</code></td>\n<td><code>String</code></td>\n<td>配置分组</td>\n</tr>\n<tr>\n<td><code>data.tenant</code></td>\n<td><code>String</code></td>\n<td>租户信息（命名空间）</td>\n</tr>\n<tr>\n<td><code>data.appName</code></td>\n<td><code>String</code></td>\n<td>应用名</td>\n</tr>\n<tr>\n<td><code>data.md5</code></td>\n<td><code>String</code></td>\n<td>配置内容的md5值</td>\n</tr>\n<tr>\n<td><code>data.content</code></td>\n<td><code>String</code></td>\n<td>配置内容</td>\n</tr>\n<tr>\n<td><code>data.srcIp</code></td>\n<td><code>String</code></td>\n<td>源ip</td>\n</tr>\n<tr>\n<td><code>data.srcUser</code></td>\n<td><code>String</code></td>\n<td>源用户</td>\n</tr>\n<tr>\n<td><code>data.opType</code></td>\n<td><code>String</code></td>\n<td>操作类型</td>\n</tr>\n<tr>\n<td><code>data.createdTime</code></td>\n<td><code>String</code></td>\n<td>创建时间</td>\n</tr>\n<tr>\n<td><code>data.lastModifiedTime</code></td>\n<td><code>String</code></td>\n<td>上次修改时间</td>\n</tr>\n<tr>\n<td><code>data.encryptedDataKey</code></td>\n<td><code>String</code></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/cs/history?dataId=nacos.example&amp;group=com.alibaba.nacos&amp;namespaceId=&amp;nid=203'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: {\n        <span class=\"hljs-attr\">\"id\"</span>: <span class=\"hljs-string\">\"203\"</span>,\n        <span class=\"hljs-attr\">\"lastId\"</span>: <span class=\"hljs-number\">-1</span>,\n        <span class=\"hljs-attr\">\"dataId\"</span>: <span class=\"hljs-string\">\"nacos.example\"</span>,\n        <span class=\"hljs-attr\">\"group\"</span>: <span class=\"hljs-string\">\"com.alibaba.nacos\"</span>,\n        <span class=\"hljs-attr\">\"tenant\"</span>: <span class=\"hljs-string\">\"\"</span>,\n        <span class=\"hljs-attr\">\"appName\"</span>: <span class=\"hljs-string\">\"\"</span>,\n        <span class=\"hljs-attr\">\"md5\"</span>: <span class=\"hljs-string\">\"9f67e6977b100e00cab385a75597db58\"</span>,\n  \t\t<span class=\"hljs-attr\">\"content\"</span>: <span class=\"hljs-string\">\"contentTest\"</span>,\n        <span class=\"hljs-attr\">\"srcIp\"</span>: <span class=\"hljs-string\">\"0:0:0:0:0:0:0:1\"</span>,\n        <span class=\"hljs-attr\">\"srcUser\"</span>: <span class=\"hljs-literal\">null</span>,\n        <span class=\"hljs-attr\">\"opType\"</span>: <span class=\"hljs-string\">\"I\"</span>,\n        <span class=\"hljs-attr\">\"createdTime\"</span>: <span class=\"hljs-string\">\"2010-05-04T16:00:00.000+0000\"</span>,\n        <span class=\"hljs-attr\">\"lastModifiedTime\"</span>: <span class=\"hljs-string\">\"2020-12-05T01:48:03.380+0000\"</span>\n\t}\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"1.6\">查询配置上一版本信息</h2>\n<h3>接口描述</h3>\n<p>获取指定配置的上一版本</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/cs/history/previous</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>类型</th>\n<th>必填</th>\n<th>参数描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间，默认为<code>public</code>与 <code>''</code>相同</td>\n</tr>\n<tr>\n<td><code>group</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>配置分组名</td>\n</tr>\n<tr>\n<td><code>dataId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>配置名</td>\n</tr>\n<tr>\n<td><code>id</code></td>\n<td><code>long</code></td>\n<td><strong>是</strong></td>\n<td>配置id</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"ConfigHistoryInfo\">返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object</code></td>\n<td>历史配置项，参见<a href=\"#ConfigHistoryInfo\">历史配置项信息</a></td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/cs/history/previous?id=309135486247505920&amp;dataId=nacos.example&amp;group=com.alibaba.nacos&amp;namespaceId='\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: {\n        <span class=\"hljs-attr\">\"id\"</span>: <span class=\"hljs-string\">\"203\"</span>,\n        <span class=\"hljs-attr\">\"lastId\"</span>: <span class=\"hljs-number\">-1</span>,\n        <span class=\"hljs-attr\">\"dataId\"</span>: <span class=\"hljs-string\">\"nacos.example\"</span>,\n        <span class=\"hljs-attr\">\"group\"</span>: <span class=\"hljs-string\">\"com.alibaba.nacos\"</span>,\n        <span class=\"hljs-attr\">\"tenant\"</span>: <span class=\"hljs-string\">\"\"</span>,\n        <span class=\"hljs-attr\">\"appName\"</span>: <span class=\"hljs-string\">\"\"</span>,\n        <span class=\"hljs-attr\">\"md5\"</span>: <span class=\"hljs-string\">\"9f67e6977b100e00cab385a75597db58\"</span>,\n  \t\t<span class=\"hljs-attr\">\"content\"</span>: <span class=\"hljs-string\">\"contentTest\"</span>,\n        <span class=\"hljs-attr\">\"srcIp\"</span>: <span class=\"hljs-string\">\"0:0:0:0:0:0:0:1\"</span>,\n        <span class=\"hljs-attr\">\"srcUser\"</span>: <span class=\"hljs-literal\">null</span>,\n        <span class=\"hljs-attr\">\"opType\"</span>: <span class=\"hljs-string\">\"I\"</span>,\n        <span class=\"hljs-attr\">\"createdTime\"</span>: <span class=\"hljs-string\">\"2010-05-04T16:00:00.000+0000\"</span>,\n        <span class=\"hljs-attr\">\"lastModifiedTime\"</span>: <span class=\"hljs-string\">\"2020-12-05T01:48:03.380+0000\"</span>\n\t}\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"1.7\">查询指定命名空间下的配置列表</h2>\n<h3>接口描述</h3>\n<p>获取指定命名空间下的配置信息列表</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/cs/history/configs</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>类型</th>\n<th>必填</th>\n<th>参数描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>命名空间</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object[]</code></td>\n<td>配置信息列表</td>\n</tr>\n<tr>\n<td><code>data.id</code></td>\n<td><code>String</code></td>\n<td>配置<code>id</code></td>\n</tr>\n<tr>\n<td><code>data.dataId</code></td>\n<td><code>String</code></td>\n<td>配置名</td>\n</tr>\n<tr>\n<td><code>data.group</code></td>\n<td><code>String</code></td>\n<td>配置分组</td>\n</tr>\n<tr>\n<td><code>data.content</code></td>\n<td><code>String</code></td>\n<td>配置内容</td>\n</tr>\n<tr>\n<td><code>data.md5</code></td>\n<td><code>String</code></td>\n<td>配置内容的md5值</td>\n</tr>\n<tr>\n<td><code>data.encryptedDataKey</code></td>\n<td><code>String</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>data.tenant</code></td>\n<td><code>String</code></td>\n<td>租户信息（命名空间）</td>\n</tr>\n<tr>\n<td><code>data.appName</code></td>\n<td><code>String</code></td>\n<td>应用名</td>\n</tr>\n<tr>\n<td><code>data.type</code></td>\n<td><code>String</code></td>\n<td>配置文件类型</td>\n</tr>\n<tr>\n<td><code>data.lastModified</code></td>\n<td><code>long</code></td>\n<td>上次修改时间</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>返回数据中的配置信息只有<code>dataId</code>, <code>group</code>, <code>tenant</code>, <code>appName</code>, <code>type</code>字段有效，其他字段为默认值</p>\n</blockquote>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/cs/history/configs?namespaceId='\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: [\n\t\t{\n\t\t\t<span class=\"hljs-attr\">\"id\"</span>: <span class=\"hljs-string\">\"0\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"dataId\"</span>: <span class=\"hljs-string\">\"nacos.example\"</span>,\n        \t<span class=\"hljs-attr\">\"group\"</span>: <span class=\"hljs-string\">\"com.alibaba.nacos\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"content\"</span>: <span class=\"hljs-literal\">null</span>,\n\t\t\t<span class=\"hljs-attr\">\"md5\"</span>: <span class=\"hljs-literal\">null</span>,\n\t\t\t<span class=\"hljs-attr\">\"encryptedDataKey\"</span>: <span class=\"hljs-literal\">null</span>,\n\t\t\t<span class=\"hljs-attr\">\"tenant\"</span>: <span class=\"hljs-string\">\"\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"appName\"</span>: <span class=\"hljs-string\">\"\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"type\"</span>: <span class=\"hljs-string\">\"yaml\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"lastModified\"</span>: <span class=\"hljs-number\">0</span>\n\t\t}\n    ]\n}\n</code></pre>\n</li>\n</ul>\n<h2>服务发现</h2>\n<h2 id=\"2.1\">注册实例</h2>\n<h3>接口描述</h3>\n<p>注册一个实例</p>\n<h3>请求方式</h3>\n<p><code>POST</code></p>\n<p><code>Content-Type:application/x-www-form-urlencoded</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/instance</code></p>\n<h3>请求Body</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>ip</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td><code>IP</code>地址</td>\n</tr>\n<tr>\n<td><code>port</code></td>\n<td><code>int</code></td>\n<td><strong>是</strong></td>\n<td>端口号</td>\n</tr>\n<tr>\n<td><code>clusterName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>集群名称，默认为<code>DEFAULT</code></td>\n</tr>\n<tr>\n<td><code>healthy</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>是否只查找健康实例，默认为<code>true</code></td>\n</tr>\n<tr>\n<td><code>weight</code></td>\n<td><code>double</code></td>\n<td>否</td>\n<td>实例权重，默认为<code>1.0</code></td>\n</tr>\n<tr>\n<td><code>enabled</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>是否可用，默认为<code>true</code></td>\n</tr>\n<tr>\n<td><code>metadata</code></td>\n<td><code>JSON格式String</code></td>\n<td>否</td>\n<td>实例元数据</td>\n</tr>\n<tr>\n<td><code>ephemeral</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>是否为临时实例</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'serviceName=test_service' \\\n  -d 'ip=127.0.0.1' \\\n  -d 'port=8090' \\\n  -d 'weight=0.9' \\\n  -d 'ephemeral=true' \\\n  -X POST 'http://127.0.0.1:8848/nacos/v2/ns/instance'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.2\">注销实例</h2>\n<h3>接口描述</h3>\n<p>注销指定实例</p>\n<h3>请求方式</h3>\n<p><code>DELETE</code></p>\n<p><code>Content-Type:application/x-www-form-urlencoded</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/instance</code></p>\n<h3>请求Body</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>ip</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td><code>IP</code>地址</td>\n</tr>\n<tr>\n<td><code>port</code></td>\n<td><code>int</code></td>\n<td><strong>是</strong></td>\n<td>端口号</td>\n</tr>\n<tr>\n<td><code>clusterName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>集群名称，默认为<code>DEFAULT</code></td>\n</tr>\n<tr>\n<td><code>healthy</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>是否只查找健康实例，默认为<code>true</code></td>\n</tr>\n<tr>\n<td><code>weight</code></td>\n<td><code>double</code></td>\n<td>否</td>\n<td>实例权重，默认为<code>1.0</code></td>\n</tr>\n<tr>\n<td><code>enabled</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>是否可用，默认为<code>true</code></td>\n</tr>\n<tr>\n<td><code>metadata</code></td>\n<td><code>JSON格式String</code></td>\n<td>否</td>\n<td>实例元数据</td>\n</tr>\n<tr>\n<td><code>ephemeral</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>是否为临时实例</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'serviceName=test_service' \\\n  -d 'ip=127.0.0.1' \\\n  -d 'port=8090' \\\n  -d 'weight=0.9' \\\n  -d 'ephemeral=true' \\\n  -X DELETE 'http://127.0.0.1:8848/nacos/v2/ns/instance'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.3\">更新实例</h2>\n<h3>接口描述</h3>\n<p>修改实例信息</p>\n<blockquote>\n<p>通过该接口更新的元数据拥有更高的优先级，且具有记忆能力；会在对应实例删除后，依旧存在一段时间，如果在此期间实例重新注册，该元数据依旧生效；您可以通过<code>nacos.naming.clean.expired-metadata.expired-time</code>及<code>nacos.naming.clean.expired-metadata.interval</code>对记忆时间进行修改</p>\n</blockquote>\n<h3>请求方式</h3>\n<p><code>PUT</code></p>\n<p><code>Content-Type:application/x-www-form-urlencoded</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/instance</code></p>\n<h3>请求Body</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>ip</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td><code>IP</code>地址</td>\n</tr>\n<tr>\n<td><code>port</code></td>\n<td><code>int</code></td>\n<td><strong>是</strong></td>\n<td>端口号</td>\n</tr>\n<tr>\n<td><code>clusterName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>集群名称，默认为<code>DEFAULT</code></td>\n</tr>\n<tr>\n<td><code>healthy</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>是否只查找健康实例，默认为<code>true</code></td>\n</tr>\n<tr>\n<td><code>weight</code></td>\n<td><code>double</code></td>\n<td>否</td>\n<td>实例权重，默认为<code>1.0</code></td>\n</tr>\n<tr>\n<td><code>enabled</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>是否可用，默认为<code>true</code></td>\n</tr>\n<tr>\n<td><code>metadata</code></td>\n<td><code>JSON格式String</code></td>\n<td>否</td>\n<td>实例元数据</td>\n</tr>\n<tr>\n<td><code>ephemeral</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>是否为临时实例</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'serviceName=test_service' \\\n  -d 'ip=127.0.0.1' \\\n  -d 'port=8090' \\\n  -d 'weight=0.9' \\\n  -d 'ephemeral=true' \\\n  -X PUT 'http://127.0.0.1:8848/nacos/v2/ns/instance'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.4\">查询实例详情</h2>\n<h3>接口描述</h3>\n<p>查询某个具体实例的详情信息</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/instance</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>clusterName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>集群名称，默认为<code>DEFAULT</code></td>\n</tr>\n<tr>\n<td><code>ip</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td><code>IP</code>地址</td>\n</tr>\n<tr>\n<td><code>port</code></td>\n<td><code>int</code></td>\n<td><strong>是</strong></td>\n<td>端口号</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object</code></td>\n<td>实例详情信息</td>\n</tr>\n<tr>\n<td><code>data.serviceName</code></td>\n<td><code>String</code></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>data.ip</code></td>\n<td><code>String</code></td>\n<td><code>IP</code>地址</td>\n</tr>\n<tr>\n<td><code>data.port</code></td>\n<td><code>int</code></td>\n<td>端口号</td>\n</tr>\n<tr>\n<td><code>data.clusterName</code></td>\n<td><code>String</code></td>\n<td>集群名称</td>\n</tr>\n<tr>\n<td><code>data.weight</code></td>\n<td><code>double</code></td>\n<td>实例权重</td>\n</tr>\n<tr>\n<td><code>data.healthy</code></td>\n<td><code>boolean</code></td>\n<td>是否健康</td>\n</tr>\n<tr>\n<td><code>data.instanceId</code></td>\n<td><code>String</code></td>\n<td>实例<code>id</code></td>\n</tr>\n<tr>\n<td><code>data.metadata</code></td>\n<td><code>map</code></td>\n<td>实例元数据</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/instance?namespaceId=public&amp;groupName=&amp;serviceName=test_service&amp;ip=127.0.0.1&amp;port=8080'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: {\n\t\t<span class=\"hljs-attr\">\"serviceName\"</span>: <span class=\"hljs-string\">\"DEFAULT_GROUP@@test_service\"</span>,\n\t\t<span class=\"hljs-attr\">\"ip\"</span>: <span class=\"hljs-string\">\"127.0.0.1\"</span>,\n\t\t<span class=\"hljs-attr\">\"port\"</span>: <span class=\"hljs-number\">8080</span>,\n\t\t<span class=\"hljs-attr\">\"clusterName\"</span>: <span class=\"hljs-string\">\"DEFAULT\"</span>,\n\t\t<span class=\"hljs-attr\">\"weight\"</span>: <span class=\"hljs-number\">1.0</span>,\n\t\t<span class=\"hljs-attr\">\"healthy\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t<span class=\"hljs-attr\">\"instanceId\"</span>: <span class=\"hljs-literal\">null</span>,\n\t\t<span class=\"hljs-attr\">\"metadata\"</span>: {\n\t\t\t<span class=\"hljs-attr\">\"value\"</span>: <span class=\"hljs-string\">\"1\"</span>\n\t\t}\n\t}\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.5\">查询指定服务的实例列表</h2>\n<h3>接口描述</h3>\n<p>查询指定服务下的实例详情信息列表</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/instance/list</code></p>\n<h3>请求头</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>User-Agent</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>用户代理，默认为空</td>\n</tr>\n<tr>\n<td><code>Client-Version</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>客户端版本，默认为空</td>\n</tr>\n</tbody>\n</table>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>clusterName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>集群名称，默认为<code>DEFAULT</code></td>\n</tr>\n<tr>\n<td><code>ip</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td><code>IP</code>地址，默认为空，表示不限制<code>IP</code>地址</td>\n</tr>\n<tr>\n<td><code>port</code></td>\n<td><code>int</code></td>\n<td>否</td>\n<td>端口号，默认为<code>0</code>，表示不限制端口号</td>\n</tr>\n<tr>\n<td><code>healthyOnly</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>是否只获取健康实例，默认为<code>false</code></td>\n</tr>\n<tr>\n<td><code>app</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>应用名，默认为空</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td></td>\n<td>指定服务的实例列表</td>\n</tr>\n<tr>\n<td><code>data.name</code></td>\n<td><code>String</code></td>\n<td>分组名@@服务名</td>\n</tr>\n<tr>\n<td><code>data.groupName</code></td>\n<td><code>String</code></td>\n<td>分组名</td>\n</tr>\n<tr>\n<td><code>data.clusters</code></td>\n<td><code>String</code></td>\n<td>集群名</td>\n</tr>\n<tr>\n<td><code>data.cacheMillis</code></td>\n<td><code>int</code></td>\n<td>缓存时间</td>\n</tr>\n<tr>\n<td><code>data.hosts</code></td>\n<td><code>Object[]</code></td>\n<td>实例列表</td>\n</tr>\n<tr>\n<td><code>data.hosts.ip</code></td>\n<td><code>String</code></td>\n<td>实例<code>IP</code></td>\n</tr>\n<tr>\n<td><code>data.hosts.port</code></td>\n<td><code>int</code></td>\n<td>实例端口号</td>\n</tr>\n<tr>\n<td><code>data.hosts.weight</code></td>\n<td><code>double</code></td>\n<td>实例权重</td>\n</tr>\n<tr>\n<td><code>data.hosts.healthy</code></td>\n<td><code>boolean</code></td>\n<td>实例是否健康</td>\n</tr>\n<tr>\n<td><code>data.hosts.enabled</code></td>\n<td><code>boolean</code></td>\n<td>实例是否可用</td>\n</tr>\n<tr>\n<td><code>data.hosts.ephemeral</code></td>\n<td><code>boolean</code></td>\n<td>是否为临时实例</td>\n</tr>\n<tr>\n<td><code>data.hosts.clusterName</code></td>\n<td><code>String</code></td>\n<td>实例所在的集群名称</td>\n</tr>\n<tr>\n<td><code>data.hosts.serviceName</code></td>\n<td><code>String</code></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>data.hosts.metadata</code></td>\n<td><code>map</code></td>\n<td>实例元数据</td>\n</tr>\n<tr>\n<td><code>data.hosts.instanceHeartBeatTimeOut</code></td>\n<td><code>int</code></td>\n<td>实例心跳超时时间</td>\n</tr>\n<tr>\n<td><code>data.hosts.ipDeleteTimeout</code></td>\n<td><code>int</code></td>\n<td>实例删除超时时间</td>\n</tr>\n<tr>\n<td><code>data.hosts.instanceHeartBeatInterval</code></td>\n<td><code>int</code></td>\n<td>实例心跳间隔</td>\n</tr>\n<tr>\n<td><code>data.lastRefTime</code></td>\n<td><code>int</code></td>\n<td>上次刷新时间</td>\n</tr>\n<tr>\n<td><code>data.checksum</code></td>\n<td><code>int</code></td>\n<td>校验码</td>\n</tr>\n<tr>\n<td><code>data.allIPs</code></td>\n<td><code>boolean</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>data.reachProtectionThreshold</code></td>\n<td><code>boolean</code></td>\n<td>是否到达保护阈值</td>\n</tr>\n<tr>\n<td><code>data.valid</code></td>\n<td><code>boolean</code></td>\n<td>是否有效</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/instance/list?serviceName=test_service&amp;ip=127.0.0.1'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: {\n\t\t<span class=\"hljs-attr\">\"name\"</span>: <span class=\"hljs-string\">\"DEFAULT_GROUP@@test_service\"</span>,\n\t\t<span class=\"hljs-attr\">\"groupName\"</span>: <span class=\"hljs-string\">\"DEFAULT_GROUP\"</span>,\n\t\t<span class=\"hljs-attr\">\"clusters\"</span>: <span class=\"hljs-string\">\"\"</span>,\n\t\t<span class=\"hljs-attr\">\"cacheMillis\"</span>: <span class=\"hljs-number\">10000</span>,\n\t\t<span class=\"hljs-attr\">\"hosts\"</span>: [\n\t\t\t{\n\t\t\t\t<span class=\"hljs-attr\">\"ip\"</span>: <span class=\"hljs-string\">\"127.0.0.1\"</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"port\"</span>: <span class=\"hljs-number\">8080</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"weight\"</span>: <span class=\"hljs-number\">1.0</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"healthy\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"enabled\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"ephemeral\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"clusterName\"</span>: <span class=\"hljs-string\">\"DEFAULT\"</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"serviceName\"</span>: <span class=\"hljs-string\">\"DEFAULT_GROUP@@test_service\"</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"metadata\"</span>: {\n\t\t\t\t\t<span class=\"hljs-attr\">\"value\"</span>: <span class=\"hljs-string\">\"1\"</span>\n\t\t\t\t},\n\t\t\t\t<span class=\"hljs-attr\">\"instanceHeartBeatTimeOut\"</span>: <span class=\"hljs-number\">15000</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"ipDeleteTimeout\"</span>: <span class=\"hljs-number\">30000</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"instanceHeartBeatInterval\"</span>: <span class=\"hljs-number\">5000</span>\n\t\t\t}\n\t\t],\n\t\t<span class=\"hljs-attr\">\"lastRefTime\"</span>: <span class=\"hljs-number\">1662554390814</span>,\n\t\t<span class=\"hljs-attr\">\"checksum\"</span>: <span class=\"hljs-string\">\"\"</span>,\n\t\t<span class=\"hljs-attr\">\"allIPs\"</span>: <span class=\"hljs-literal\">false</span>,\n\t\t<span class=\"hljs-attr\">\"reachProtectionThreshold\"</span>: <span class=\"hljs-literal\">false</span>,\n\t\t<span class=\"hljs-attr\">\"valid\"</span>: <span class=\"hljs-literal\">true</span>\n\t}\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.6\">批量更新实例元数据</h2>\n<h3>接口描述</h3>\n<p>批量更新实例的元数据,</p>\n<blockquote>\n<p>对应元数据的键不存在时，则添加对应元数据</p>\n</blockquote>\n<h3>请求方式</h3>\n<p><code>PUT</code></p>\n<p><code>Content-Type:application/x-www-form-urlencoded</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/instance/metadata/batch</code></p>\n<h3>请求Body</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>consistencyType</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>持久化类型，默认为空</td>\n</tr>\n<tr>\n<td><code>instances</code></td>\n<td><code>JSON格式String</code></td>\n<td>否</td>\n<td>需要更新的实例列表，默认为空</td>\n</tr>\n<tr>\n<td><code>metadata</code></td>\n<td><code>JSON格式String</code></td>\n<td><strong>是</strong></td>\n<td>实例元数据</td>\n</tr>\n</tbody>\n</table>\n<h3>参数说明</h3>\n<blockquote>\n<ul>\n<li><code>consistencyType</code>: 实例的持久化类型，当为‘<code>persist</code>’，表示对持久化实例的元数据进行更新；否则表示对临时实例的元数据进行更新</li>\n<li><code>instances</code>: 待更新的实例列表，<code>json</code>数组，通过<code>ip+port+ephemeral+cluster</code>定位到某一实例，为空则表示更新指定服务下所有实例的元数据</li>\n</ul>\n</blockquote>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'serviceName=test_service' \\\n  -d 'consistencyType=ephemeral' \\\n  -d 'instances=[{\"ip\":\"3.3.3.3\",\"port\": \"8080\",\"ephemeral\":\"true\",\"clusterName\":\"xxxx-cluster\"},{\"ip\":\"2.2.2.2\",\"port\":\"8080\",\"ephemeral\":\"true\",\"clusterName\":\"xxxx-cluster\"}]' \\\n  -d 'metadata={\"age\":\"20\",\"name\":\"cocolan\"}' \\\n  -X PUT 'http://127.0.0.1:8848/nacos/v2/ns/instance/metadata/batch'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.7\">批量删除实例元数据</h2>\n<h3>接口描述</h3>\n<p>批量删除实例的元数据,</p>\n<blockquote>\n<p>对应元数据的键不存在时，则不做操作</p>\n</blockquote>\n<h3>请求方式</h3>\n<p><code>DELETE</code></p>\n<p><code>Content-Type:application/x-www-form-urlencoded</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/instance/metadata/batch</code></p>\n<h3>请求Body</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>consistencyType</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>持久化类型，默认为空</td>\n</tr>\n<tr>\n<td><code>instances</code></td>\n<td><code>JSON格式String</code></td>\n<td>否</td>\n<td>需要更新的实例列表，默认为空</td>\n</tr>\n<tr>\n<td><code>metadata</code></td>\n<td><code>JSON格式String</code></td>\n<td><strong>是</strong></td>\n<td>实例元数据</td>\n</tr>\n</tbody>\n</table>\n<h3>参数说明</h3>\n<blockquote>\n<ul>\n<li><code>consistencyType</code>: 实例的持久化类型，当为‘<code>persist</code>’，表示对持久化实例的元数据进行删除；否则表示对临时实例的元数据进行</li>\n<li><code>instances</code>: 待更新的实例列表，<code>json</code>数组，通过<code>ip+port+ephemeral+cluster</code>定位到某一实例，为空则表示更新指定服务下所有实例的元数据</li>\n</ul>\n</blockquote>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'serviceName=test_service' \\\n  -d 'consistencyType=ephemeral' \\\n  -d 'instances=[{\"ip\":\"3.3.3.3\",\"port\": \"8080\",\"ephemeral\":\"true\",\"clusterName\":\"xxxx-cluster\"},{\"ip\":\"2.2.2.2\",\"port\":\"8080\",\"ephemeral\":\"true\",\"clusterName\":\"xxxx-cluster\"}]' \\\n  -d 'metadata={\"age\":\"20\",\"name\":\"cocolan\"}' \\\n  -X DELETE 'http://127.0.0.1:8848/nacos/v2/ns/instance/metadata/batch'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.8\">创建服务</h2>\n<h3>接口描述</h3>\n<p>创建一个服务</p>\n<blockquote>\n<p>服务已存在时会创建失败</p>\n</blockquote>\n<h3>请求方式</h3>\n<p><code>POST</code></p>\n<p><code>Content-Type:application/x-www-form-urlencoded</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/service</code></p>\n<h3>请求Body</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>metadata</code></td>\n<td><code>JSON格式String</code></td>\n<td>否</td>\n<td>服务元数据，默认为空</td>\n</tr>\n<tr>\n<td><code>ephemeral</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>是否为临时实例，默认为<code>false</code></td>\n</tr>\n<tr>\n<td><code>protectThreshold</code></td>\n<td><code>float</code></td>\n<td>否</td>\n<td>保护阈值，默认为<code>0</code></td>\n</tr>\n<tr>\n<td><code>selector</code></td>\n<td><code>JSON格式String</code></td>\n<td>否</td>\n<td>访问策略，默认为空</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'serviceName=nacos.test.1' \\\n  -d 'ephemeral=true' \\\n  -d 'metadata={\"k1\":\"v1\"}' \\\n  -X POST 'http://127.0.0.1:8848/nacos/v2/ns/service'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.9\">删除服务</h2>\n<h3>接口描述</h3>\n<p>删除指定服务</p>\n<blockquote>\n<p>服务不存在时会报错，且服务还存在实例时会删除失败</p>\n</blockquote>\n<h3>请求方式</h3>\n<p><code>DELETE</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/service</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X DELETE 'http://127.0.0.1:8848/nacos/v2/ns/service?serviceName=nacos.test.1'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.10\">修改服务</h2>\n<h3>接口描述</h3>\n<p>更新指定服务</p>\n<blockquote>\n<p>服务不存在时会报错</p>\n</blockquote>\n<h3>请求方式</h3>\n<p><code>POST</code></p>\n<p><code>Content-Type:application/x-www-form-urlencoded</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/service</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>metadata</code></td>\n<td><code>JSON格式String</code></td>\n<td>否</td>\n<td>服务元数据，默认为空</td>\n</tr>\n<tr>\n<td><code>protectThreshold</code></td>\n<td><code>float</code></td>\n<td>否</td>\n<td>保护阈值，默认为<code>0</code></td>\n</tr>\n<tr>\n<td><code>selector</code></td>\n<td><code>JSON格式String</code></td>\n<td>否</td>\n<td>访问策略，默认为空</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'serviceName=nacos.test.1' \\\n  -d 'metadata={\"k1\":\"v2\"}' \\\n  -X PUT 'http://127.0.0.1:8848/nacos/v2/ns/service'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.11\">查询服务详情</h2>\n<h3>接口描述</h3>\n<p>查询某个具体服务的详情信息</p>\n<blockquote>\n<p>服务不存在时会报错</p>\n</blockquote>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/service</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td></td>\n<td>服务信息</td>\n</tr>\n<tr>\n<td><code>data.namespace</code></td>\n<td><code>String</code></td>\n<td>命名空间</td>\n</tr>\n<tr>\n<td><code>data.groupName</code></td>\n<td><code>String</code></td>\n<td>分组名</td>\n</tr>\n<tr>\n<td><code>data.serviceName</code></td>\n<td><code>String</code></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>data.clusterMap</code></td>\n<td><code>map</code></td>\n<td>集群信息</td>\n</tr>\n<tr>\n<td><code>data.metadata</code></td>\n<td><code>map</code></td>\n<td>服务元数据</td>\n</tr>\n<tr>\n<td><code>data.protectThreshold</code></td>\n<td><code>float</code></td>\n<td>保护阈值</td>\n</tr>\n<tr>\n<td><code>data.selector</code></td>\n<td><code>Object</code></td>\n<td>访问策略</td>\n</tr>\n<tr>\n<td><code>data.ephemeral</code></td>\n<td><code>Boolean</code></td>\n<td>是否为临时实例</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/service?serviceName=nacos.test.1'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: {\n\t\t<span class=\"hljs-attr\">\"namespace\"</span>: <span class=\"hljs-string\">\"public\"</span>,\n\t\t<span class=\"hljs-attr\">\"serviceName\"</span>: <span class=\"hljs-string\">\"nacos.test.1\"</span>,\n\t\t<span class=\"hljs-attr\">\"groupName\"</span>: <span class=\"hljs-string\">\"DEFAULT_GROUP\"</span>,\n\t\t<span class=\"hljs-attr\">\"clusterMap\"</span>: {},\n\t\t<span class=\"hljs-attr\">\"metadata\"</span>: {},\n\t\t<span class=\"hljs-attr\">\"protectThreshold\"</span>: <span class=\"hljs-number\">0</span>,\n\t\t<span class=\"hljs-attr\">\"selector\"</span>: {\n\t\t\t<span class=\"hljs-attr\">\"type\"</span>: <span class=\"hljs-string\">\"none\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"contextType\"</span>: <span class=\"hljs-string\">\"NONE\"</span>\n\t\t},\n\t\t<span class=\"hljs-attr\">\"ephemeral\"</span>: <span class=\"hljs-literal\">false</span>\n\t}\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.12\">查询服务列表</h2>\n<h3>接口描述</h3>\n<p>查询符合条件的服务列表</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/service/list</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>selector</code></td>\n<td><code>JSON格式String</code></td>\n<td><strong>是</strong></td>\n<td>访问策略</td>\n</tr>\n<tr>\n<td><code>pageNo</code></td>\n<td><code>int</code></td>\n<td>否</td>\n<td>当前页，默认为<code>1</code></td>\n</tr>\n<tr>\n<td><code>pageSize</code></td>\n<td><code>int</code></td>\n<td>否</td>\n<td>页条目数，默认为<code>20</code>，最大为<code>500</code></td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td></td>\n<td>服务列表信息</td>\n</tr>\n<tr>\n<td><code>data.count</code></td>\n<td><code>String</code></td>\n<td>服务数目</td>\n</tr>\n<tr>\n<td><code>data.services</code></td>\n<td><code>String[]</code></td>\n<td>分页后的服务列表</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/service/list'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: {\n\t\t<span class=\"hljs-attr\">\"count\"</span>: <span class=\"hljs-number\">2</span>,\n\t\t<span class=\"hljs-attr\">\"services\"</span>: [\n\t\t\t<span class=\"hljs-string\">\"nacos.test.1\"</span>,\n\t\t\t<span class=\"hljs-string\">\"nacos.test.2\"</span>\n\t\t]\n\t}\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.13\">查询系统开关</h2>\n<h3>接口描述</h3>\n<p>查询系统开关</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/operator/switches</code></p>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object</code></td>\n<td>系统开关信息</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/operator/switches'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: {\n\t\t<span class=\"hljs-attr\">\"masters\"</span>: <span class=\"hljs-literal\">null</span>,\n\t\t<span class=\"hljs-attr\">\"adWeightMap\"</span>: {},\n\t\t<span class=\"hljs-attr\">\"defaultPushCacheMillis\"</span>: <span class=\"hljs-number\">10000</span>,\n\t\t<span class=\"hljs-attr\">\"clientBeatInterval\"</span>: <span class=\"hljs-number\">5000</span>,\n\t\t<span class=\"hljs-attr\">\"defaultCacheMillis\"</span>: <span class=\"hljs-number\">3000</span>,\n\t\t<span class=\"hljs-attr\">\"distroThreshold\"</span>: <span class=\"hljs-number\">0.7</span>,\n\t\t<span class=\"hljs-attr\">\"healthCheckEnabled\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t<span class=\"hljs-attr\">\"autoChangeHealthCheckEnabled\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t<span class=\"hljs-attr\">\"distroEnabled\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t<span class=\"hljs-attr\">\"enableStandalone\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t<span class=\"hljs-attr\">\"pushEnabled\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t<span class=\"hljs-attr\">\"checkTimes\"</span>: <span class=\"hljs-number\">3</span>,\n\t\t<span class=\"hljs-attr\">\"httpHealthParams\"</span>: {\n\t\t\t<span class=\"hljs-attr\">\"max\"</span>: <span class=\"hljs-number\">5000</span>,\n\t\t\t<span class=\"hljs-attr\">\"min\"</span>: <span class=\"hljs-number\">500</span>,\n\t\t\t<span class=\"hljs-attr\">\"factor\"</span>: <span class=\"hljs-number\">0.85</span>\n\t\t},\n\t\t<span class=\"hljs-attr\">\"tcpHealthParams\"</span>: {\n\t\t\t<span class=\"hljs-attr\">\"max\"</span>: <span class=\"hljs-number\">5000</span>,\n\t\t\t<span class=\"hljs-attr\">\"min\"</span>: <span class=\"hljs-number\">1000</span>,\n\t\t\t<span class=\"hljs-attr\">\"factor\"</span>: <span class=\"hljs-number\">0.75</span>\n\t\t},\n\t\t<span class=\"hljs-attr\">\"mysqlHealthParams\"</span>: {\n\t\t\t<span class=\"hljs-attr\">\"max\"</span>: <span class=\"hljs-number\">3000</span>,\n\t\t\t<span class=\"hljs-attr\">\"min\"</span>: <span class=\"hljs-number\">2000</span>,\n\t\t\t<span class=\"hljs-attr\">\"factor\"</span>: <span class=\"hljs-number\">0.65</span>\n\t\t},\n\t\t<span class=\"hljs-attr\">\"incrementalList\"</span>: [],\n\t\t<span class=\"hljs-attr\">\"serverStatusSynchronizationPeriodMillis\"</span>: <span class=\"hljs-number\">2000</span>,\n\t\t<span class=\"hljs-attr\">\"serviceStatusSynchronizationPeriodMillis\"</span>: <span class=\"hljs-number\">5000</span>,\n\t\t<span class=\"hljs-attr\">\"disableAddIP\"</span>: <span class=\"hljs-literal\">false</span>,\n\t\t<span class=\"hljs-attr\">\"sendBeatOnly\"</span>: <span class=\"hljs-literal\">false</span>,\n\t\t<span class=\"hljs-attr\">\"lightBeatEnabled\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t<span class=\"hljs-attr\">\"doubleWriteEnabled\"</span>: <span class=\"hljs-literal\">false</span>,\n\t\t<span class=\"hljs-attr\">\"limitedUrlMap\"</span>: {},\n\t\t<span class=\"hljs-attr\">\"distroServerExpiredMillis\"</span>: <span class=\"hljs-number\">10000</span>,\n\t\t<span class=\"hljs-attr\">\"pushGoVersion\"</span>: <span class=\"hljs-string\">\"0.1.0\"</span>,\n\t\t<span class=\"hljs-attr\">\"pushJavaVersion\"</span>: <span class=\"hljs-string\">\"0.1.0\"</span>,\n\t\t<span class=\"hljs-attr\">\"pushPythonVersion\"</span>: <span class=\"hljs-string\">\"0.4.3\"</span>,\n\t\t<span class=\"hljs-attr\">\"pushCVersion\"</span>: <span class=\"hljs-string\">\"1.0.12\"</span>,\n\t\t<span class=\"hljs-attr\">\"pushCSharpVersion\"</span>: <span class=\"hljs-string\">\"0.9.0\"</span>,\n\t\t<span class=\"hljs-attr\">\"enableAuthentication\"</span>: <span class=\"hljs-literal\">false</span>,\n\t\t<span class=\"hljs-attr\">\"overriddenServerStatus\"</span>: <span class=\"hljs-literal\">null</span>,\n\t\t<span class=\"hljs-attr\">\"defaultInstanceEphemeral\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t<span class=\"hljs-attr\">\"healthCheckWhiteList\"</span>: [],\n\t\t<span class=\"hljs-attr\">\"name\"</span>: <span class=\"hljs-string\">\"00-00---000-NACOS_SWITCH_DOMAIN-000---00-00\"</span>,\n\t\t<span class=\"hljs-attr\">\"checksum\"</span>: <span class=\"hljs-literal\">null</span>\n\t}\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.14\">修改系统开关</h2>\n<h3>接口描述</h3>\n<p>修改系统开关</p>\n<h3>请求方式</h3>\n<p><code>PUT</code></p>\n<p><code>Content-Type:application/x-www-form-urlencoded</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/operator/switches</code></p>\n<h3>请求Body</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>entry</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>开关名</td>\n</tr>\n<tr>\n<td><code>value</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>开关值</td>\n</tr>\n<tr>\n<td><code>debug</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>是否只在本机生效,<code>true</code>表示本机生效,<code>false</code>表示集群生效</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>String</code></td>\n<td>“<code>ok</code>”表示执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'entry=pushEnabled' \\\n  -d 'value=false' \\\n  -d 'debug=true' \\\n  -X PUT 'http://127.0.0.1:8848/nacos/v2/ns/operator/switches'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-string\">\"ok\"</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.15\">查询系统当前数据指标</h2>\n<h3>接口描述</h3>\n<p>查询系统当前数据指标</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/operator/metrics</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>onlyStatus</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>只显示状态，默认为<code>true</code></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>当<code>onlyStatus</code>设置为<code>true</code>时，只返回表示系统状态的字符串</p>\n</blockquote>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object</code></td>\n<td>系统当前数据指标</td>\n</tr>\n<tr>\n<td><code>data.status</code></td>\n<td><code>String</code></td>\n<td>系统状态</td>\n</tr>\n<tr>\n<td><code>data.serviceCount</code></td>\n<td><code>int</code></td>\n<td>服务数量</td>\n</tr>\n<tr>\n<td><code>data.instanceCount</code></td>\n<td><code>int</code></td>\n<td>实例数量</td>\n</tr>\n<tr>\n<td><code>data.subscribeCount</code></td>\n<td><code>int</code></td>\n<td>订阅数量</td>\n</tr>\n<tr>\n<td><code>data.raftNotifyTaskCount</code></td>\n<td><code>int</code></td>\n<td><code>Raft</code>通知任务数量</td>\n</tr>\n<tr>\n<td><code>data.responsibleServiceCount</code></td>\n<td><code>int</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>data.responsibleInstanceCount</code></td>\n<td><code>int</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>data.clientCount</code></td>\n<td><code>int</code></td>\n<td>客户端数量</td>\n</tr>\n<tr>\n<td><code>data.connectionBasedClientCount</code></td>\n<td><code>int</code></td>\n<td>连接数量</td>\n</tr>\n<tr>\n<td><code>data.ephemeralIpPortClientCount</code></td>\n<td><code>int</code></td>\n<td>临时客户端数量</td>\n</tr>\n<tr>\n<td><code>data.persistentIpPortClientCount</code></td>\n<td><code>int</code></td>\n<td>持久客户端数量</td>\n</tr>\n<tr>\n<td><code>data.responsibleClientCount</code></td>\n<td><code>int</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>data.cpu</code></td>\n<td><code>float</code></td>\n<td><code>cpu</code>使用率</td>\n</tr>\n<tr>\n<td><code>data.load</code></td>\n<td><code>float</code></td>\n<td>负载</td>\n</tr>\n<tr>\n<td><code>data.mem</code></td>\n<td><code>float</code></td>\n<td>内存使用率</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/operator/metrics'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: {\n\t\t<span class=\"hljs-attr\">\"status\"</span>: <span class=\"hljs-string\">\"UP\"</span>,\n\t\t<span class=\"hljs-attr\">\"serviceCount\"</span>: <span class=\"hljs-number\">2</span>,\n\t\t<span class=\"hljs-attr\">\"instanceCount\"</span>: <span class=\"hljs-number\">2</span>,\n\t\t<span class=\"hljs-attr\">\"subscribeCount\"</span>: <span class=\"hljs-number\">2</span>,\n\t\t<span class=\"hljs-attr\">\"raftNotifyTaskCount\"</span>: <span class=\"hljs-number\">0</span>,\n\t\t<span class=\"hljs-attr\">\"responsibleServiceCount\"</span>: <span class=\"hljs-number\">0</span>,\n\t\t<span class=\"hljs-attr\">\"responsibleInstanceCount\"</span>: <span class=\"hljs-number\">0</span>,\n\t\t<span class=\"hljs-attr\">\"clientCount\"</span>: <span class=\"hljs-number\">2</span>,\n\t\t<span class=\"hljs-attr\">\"connectionBasedClientCount\"</span>: <span class=\"hljs-number\">2</span>,\n\t\t<span class=\"hljs-attr\">\"ephemeralIpPortClientCount\"</span>: <span class=\"hljs-number\">0</span>,\n\t\t<span class=\"hljs-attr\">\"persistentIpPortClientCount\"</span>: <span class=\"hljs-number\">0</span>,\n\t\t<span class=\"hljs-attr\">\"responsibleClientCount\"</span>: <span class=\"hljs-number\">2</span>,\n\t\t<span class=\"hljs-attr\">\"cpu\"</span>: <span class=\"hljs-number\">0</span>,\n\t\t<span class=\"hljs-attr\">\"load\"</span>: <span class=\"hljs-number\">-1</span>,\n\t\t<span class=\"hljs-attr\">\"mem\"</span>: <span class=\"hljs-number\">1</span>\n\t}\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.16\">更新实例健康状态</h2>\n<h3>接口描述</h3>\n<p>更新实例的健康状态</p>\n<h3>请求方式</h3>\n<p><code>PUT</code></p>\n<p><code>Content-Type:application/x-www-form-urlencoded</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/health/instance</code></p>\n<h3>请求Body</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>clusterName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>集群名，默认为<code>DEFAULT</code></td>\n</tr>\n<tr>\n<td><code>ip</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td><code>IP</code>地址</td>\n</tr>\n<tr>\n<td><code>port</code></td>\n<td><code>int</code></td>\n<td><strong>是</strong></td>\n<td>端口号</td>\n</tr>\n<tr>\n<td><code>healthy</code></td>\n<td><code>boolean</code></td>\n<td><strong>是</strong></td>\n<td>是否健康</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>String</code></td>\n<td>“<code>ok</code>”表示执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'serviceName=nacos.test.1' \\\n  -d 'ip=127.0.0.1' \\\n  -d 'port=8080' \\\n  -d 'healthy=false' \\\n  -X PUT 'http://127.0.0.1:8848/nacos/v2/ns/health/instance'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-string\">\"ok\"</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.17\">查询客户端列表（新）</h2>\n<h3>接口描述</h3>\n<p>查询当前所有的客户端列表</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/client/list</code></p>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>String[]</code></td>\n<td>客户端<code>id</code>列表</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/client/list'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: [\n\t\t<span class=\"hljs-string\">\"10.128.164.35:9956#true\"</span>,\n\t\t<span class=\"hljs-string\">\"1664358687402_127.0.0.1_2300\"</span>,\n\t\t<span class=\"hljs-string\">\"1664358642902_127.0.0.1_2229\"</span>,\n\t\t<span class=\"hljs-string\">\"192.168.139.1:49825#true\"</span>,\n\t\t<span class=\"hljs-string\">\"10.128.164.35:9954#true\"</span>,\n\t\t<span class=\"hljs-string\">\"192.168.139.1:53556#true\"</span>\n\t]\n}\n</code></pre>\n</li>\n</ul>\n<blockquote>\n<p>对于不同版本的nacos client，建立客户端的方式不同。</p>\n<p>对于<code>1.x</code>版本，每个实例会建立两个基于<code>ip+port</code>的客户端，分别对应实例注册与服务订阅，<code>clientId</code>格式为 <code>ip:port#ephemeral</code></p>\n<p>对于<code>2.x</code>版本的<code>nacos client</code>, 每个实例会建立一个<code>RPC</code>连接，对应一个基于<code>RPC</code>连接的客户端，兼具注册与订阅功能，<code>clientId</code>\n格式为<code>time_ip_port</code></p>\n</blockquote>\n<h2 id=\"2.18\">查询客户端信息（新）</h2>\n<h3>接口描述</h3>\n<p>查询指定客户端的详细信息</p>\n<blockquote>\n<p>客户端不存在时会报错</p>\n</blockquote>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/client</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>clientId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>客户端<code>id</code></td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object</code></td>\n<td>客户端信息</td>\n</tr>\n<tr>\n<td><code>data.clientId</code></td>\n<td><code>String</code></td>\n<td>客户端<code>id</code></td>\n</tr>\n<tr>\n<td><code>data.ephemeral</code></td>\n<td><code>boolean</code></td>\n<td>是否为临时实例</td>\n</tr>\n<tr>\n<td><code>data.lastUpdatedTime</code></td>\n<td><code>int</code></td>\n<td>上次更新时间</td>\n</tr>\n<tr>\n<td><code>data.clientType</code></td>\n<td><code>String</code></td>\n<td>客户端类型</td>\n</tr>\n<tr>\n<td><code>data.clientIp</code></td>\n<td><code>String</code></td>\n<td>客户端<code>IP</code></td>\n</tr>\n<tr>\n<td><code>data.clientPort</code></td>\n<td><code>String</code></td>\n<td>客户端端口</td>\n</tr>\n<tr>\n<td><code>data.connectType</code></td>\n<td><code>String</code></td>\n<td>连接类型</td>\n</tr>\n<tr>\n<td><code>data.appName</code></td>\n<td><code>String</code></td>\n<td>应用名</td>\n</tr>\n<tr>\n<td><code>data.Version</code></td>\n<td><code>String</code></td>\n<td>客户端版本</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>只有当<code>clientType</code>为<code>connection</code>时，会显示<code>connectType</code>，<code>appName</code>和<code>appName</code>字段</p>\n</blockquote>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/client?clientId=1664527081276_127.0.0.1_4400'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: {\n\t\t<span class=\"hljs-attr\">\"clientId\"</span>: <span class=\"hljs-string\">\"1664527081276_127.0.0.1_4400\"</span>,\n\t\t<span class=\"hljs-attr\">\"ephemeral\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t<span class=\"hljs-attr\">\"lastUpdatedTime\"</span>: <span class=\"hljs-number\">1664527081642</span>,\n\t\t<span class=\"hljs-attr\">\"clientType\"</span>: <span class=\"hljs-string\">\"connection\"</span>,\n\t\t<span class=\"hljs-attr\">\"connectType\"</span>: <span class=\"hljs-string\">\"GRPC\"</span>,\n\t\t<span class=\"hljs-attr\">\"appName\"</span>: <span class=\"hljs-string\">\"-\"</span>,\n\t\t<span class=\"hljs-attr\">\"version\"</span>: <span class=\"hljs-string\">\"Nacos-Java-Client:v2.1.0\"</span>,\n\t\t<span class=\"hljs-attr\">\"clientIp\"</span>: <span class=\"hljs-string\">\"10.128.164.35\"</span>,\n\t\t<span class=\"hljs-attr\">\"clientPort\"</span>: <span class=\"hljs-string\">\"4400\"</span>\n\t}\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.19\">查询客户端的注册信息（新）</h2>\n<h3>接口描述</h3>\n<p>查询指定客户端的注册信息</p>\n<blockquote>\n<p>客户端不存在时会报错</p>\n</blockquote>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/client/publish/list</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>clientId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>客户端<code>id</code></td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object[]</code></td>\n<td>客户端注册的服务列表</td>\n</tr>\n<tr>\n<td><code>data.namespace</code></td>\n<td><code>String</code></td>\n<td>命名空间</td>\n</tr>\n<tr>\n<td><code>data.group</code></td>\n<td><code>String</code></td>\n<td>分组名</td>\n</tr>\n<tr>\n<td><code>data.serviceName</code></td>\n<td><code>String</code></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>data.registeredInstance</code></td>\n<td><code>Object</code></td>\n<td>该服务下注册的实例</td>\n</tr>\n<tr>\n<td><code>data.registeredInstance.ip</code></td>\n<td><code>String</code></td>\n<td><code>IP</code>地址</td>\n</tr>\n<tr>\n<td><code>data.registeredInstance.port</code></td>\n<td><code>int</code></td>\n<td>端口号</td>\n</tr>\n<tr>\n<td><code>data.registeredInstance.cluster</code></td>\n<td><code>String</code></td>\n<td>集群名</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/client/publish/list?clientId=1664527081276_127.0.0.1_4400'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: [\n\t\t{\n\t\t\t<span class=\"hljs-attr\">\"namespace\"</span>: <span class=\"hljs-string\">\"public\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"group\"</span>: <span class=\"hljs-string\">\"DEFAULT_GROUP\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"serviceName\"</span>: <span class=\"hljs-string\">\"nacos.test.1\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"registeredInstance\"</span>: {\n\t\t\t\t<span class=\"hljs-attr\">\"ip\"</span>: <span class=\"hljs-string\">\"10.128.164.35\"</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"port\"</span>: <span class=\"hljs-number\">9950</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"cluster\"</span>: <span class=\"hljs-string\">\"DEFAULT\"</span>\n\t\t\t}\n\t\t}\n\t]\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.20\">查询客户端的订阅信息（新）</h2>\n<h3>接口描述</h3>\n<p>查询指定客户端的订阅信息</p>\n<blockquote>\n<p>客户端不存在时会报错</p>\n</blockquote>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/client/subscribe/list</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>clientId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>客户端<code>id</code></td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object[]</code></td>\n<td>客户端订阅的服务列表</td>\n</tr>\n<tr>\n<td><code>data.namespace</code></td>\n<td><code>String</code></td>\n<td>命名空间</td>\n</tr>\n<tr>\n<td><code>data.group</code></td>\n<td><code>String</code></td>\n<td>分组名</td>\n</tr>\n<tr>\n<td><code>data.serviceName</code></td>\n<td><code>String</code></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>data.subscriberInfo</code></td>\n<td><code>Object</code></td>\n<td>订阅信息</td>\n</tr>\n<tr>\n<td><code>data.subscriberInfo.app</code></td>\n<td><code>String</code></td>\n<td>应用</td>\n</tr>\n<tr>\n<td><code>data.subscriberInfo.agent</code></td>\n<td><code>String</code></td>\n<td>客户端信息</td>\n</tr>\n<tr>\n<td><code>data.subscriberInfo.addr</code></td>\n<td><code>String</code></td>\n<td>地址</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/client/subscribe/list?clientId=1664527081276_127.0.0.1_4400'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: [\n\t\t{\n\t\t\t<span class=\"hljs-attr\">\"namespace\"</span>: <span class=\"hljs-string\">\"public\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"group\"</span>: <span class=\"hljs-string\">\"DEFAULT_GROUP\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"serviceName\"</span>: <span class=\"hljs-string\">\"nacos.test.1\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"subscriberInfo\"</span>: {\n\t\t\t\t<span class=\"hljs-attr\">\"app\"</span>: <span class=\"hljs-string\">\"unknown\"</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"agent\"</span>: <span class=\"hljs-string\">\"Nacos-Java-Client:v2.1.0\"</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"addr\"</span>: <span class=\"hljs-string\">\"10.128.164.35\"</span>\n\t\t\t}\n\t\t}\n\t]\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.21\">查询注册指定服务的客户端信息（新）</h2>\n<h3>接口描述</h3>\n<p>查询注册指定服务的客户端信息</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/client/service/publisher/list</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>ephemeral</code></td>\n<td><code>boolean</code></td>\n<td>否</td>\n<td>是否为临时实例</td>\n</tr>\n<tr>\n<td><code>ip</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td><code>IP</code>地址，默认为空，不限制<code>IP</code>地址</td>\n</tr>\n<tr>\n<td><code>port</code></td>\n<td><code>int</code></td>\n<td>否</td>\n<td>端口号，默认为空，表示不限制端口号</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td></td>\n<td>客户端列表</td>\n</tr>\n<tr>\n<td><code>data.clientId</code></td>\n<td><code>String</code></td>\n<td>客户端<code>id</code></td>\n</tr>\n<tr>\n<td><code>data.ip</code></td>\n<td><code>String</code></td>\n<td>客户端<code>IP</code></td>\n</tr>\n<tr>\n<td><code>data.port</code></td>\n<td><code>int</code></td>\n<td>客户端端口</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/client/service/publisher/list?serviceName=nacos.test.1&amp;ip=&amp;port='\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: [\n\t\t{\n\t\t\t<span class=\"hljs-attr\">\"clientId\"</span>: <span class=\"hljs-string\">\"1664527081276_127.0.0.1_4400\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"ip\"</span>: <span class=\"hljs-string\">\"10.128.164.35\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"port\"</span>: <span class=\"hljs-number\">9950</span>\n\t\t},\n\t\t{\n\t\t\t<span class=\"hljs-attr\">\"clientId\"</span>: <span class=\"hljs-string\">\"10.128.164.35:9954#true\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"ip\"</span>: <span class=\"hljs-string\">\"10.128.164.35\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"port\"</span>: <span class=\"hljs-number\">9954</span>\n\t\t}\n\t]\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"2.22\">查询订阅指定服务的客户端信息（新）</h2>\n<h3>接口描述</h3>\n<p>查询订阅指定服务的客户端信息</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/ns/client/service/subscriber/list</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td>String</td>\n<td>否</td>\n<td>命名空间<code>Id</code>，默认为<code>public</code></td>\n</tr>\n<tr>\n<td><code>groupName</code></td>\n<td>String</td>\n<td>否</td>\n<td>分组名，默认为<code>DEFAULT_GROUP</code></td>\n</tr>\n<tr>\n<td><code>serviceName</code></td>\n<td>String</td>\n<td><strong>是</strong></td>\n<td>服务名</td>\n</tr>\n<tr>\n<td><code>ephemeral</code></td>\n<td>boolean</td>\n<td>否</td>\n<td>是否为临时实例</td>\n</tr>\n<tr>\n<td><code>ip</code></td>\n<td>String</td>\n<td>否</td>\n<td><code>IP</code>地址，默认为空，不限制<code>IP</code>地址</td>\n</tr>\n<tr>\n<td><code>port</code></td>\n<td>int</td>\n<td>否</td>\n<td>端口号，默认为空，表示不限制端口号</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td></td>\n<td>客户端列表</td>\n</tr>\n<tr>\n<td><code>data.clientId</code></td>\n<td><code>String</code></td>\n<td>客户端<code>id</code></td>\n</tr>\n<tr>\n<td><code>data.ip</code></td>\n<td><code>String</code></td>\n<td>客户端<code>IP</code></td>\n</tr>\n<tr>\n<td><code>data.port</code></td>\n<td><code>int</code></td>\n<td>客户端端口</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/client/service/subscriber/list?serviceName=nacos.test.1&amp;ip=&amp;port='\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: [\n\t\t{\n\t\t\t<span class=\"hljs-attr\">\"clientId\"</span>: <span class=\"hljs-string\">\"1664527125645_127.0.0.1_4443\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"ip\"</span>: <span class=\"hljs-string\">\"10.128.164.35\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"port\"</span>: <span class=\"hljs-number\">0</span>\n\t\t},\n\t\t{\n\t\t\t<span class=\"hljs-attr\">\"clientId\"</span>: <span class=\"hljs-string\">\"172.24.144.1:54126#true\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"ip\"</span>: <span class=\"hljs-string\">\"172.24.144.1\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"port\"</span>: <span class=\"hljs-number\">54126</span>\n\t\t}\n\t]\n}\n</code></pre>\n</li>\n</ul>\n<h2>命名空间</h2>\n<h2 id=\"3.1\">查询命名空间列表</h2>\n<h3>接口描述</h3>\n<p>查询当前所有的命名空间</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/console/namespace/list</code></p>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object[]</code></td>\n<td>命名空间列表</td>\n</tr>\n<tr>\n<td><code>data.namespace</code></td>\n<td><code>String</code></td>\n<td>命名空间<code>ID</code></td>\n</tr>\n<tr>\n<td><code>data.namespaceShowName</code></td>\n<td><code>String</code></td>\n<td>命名空间名称</td>\n</tr>\n<tr>\n<td><code>data.namespaceDesc</code></td>\n<td><code>String</code></td>\n<td>命名空间描述</td>\n</tr>\n<tr>\n<td><code>data.quota</code></td>\n<td><code>int</code></td>\n<td>命名空间的容量</td>\n</tr>\n<tr>\n<td><code>data.configCount</code></td>\n<td><code>int</code></td>\n<td>命名空间下的配置数量</td>\n</tr>\n<tr>\n<td><code>data.type</code></td>\n<td><code>int</code></td>\n<td>命名空间类型</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>命名空间分为3种类型，<code>0</code>- 全局命名空间   <code>1</code> - 默认私有命名空间  <code>2</code>- 自定义命名空间</p>\n</blockquote>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/console/namespace/list'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: [\n\t\t{\n\t\t\t<span class=\"hljs-attr\">\"namespace\"</span>: <span class=\"hljs-string\">\"\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"namespaceShowName\"</span>: <span class=\"hljs-string\">\"public\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"namespaceDesc\"</span>: <span class=\"hljs-literal\">null</span>,\n\t\t\t<span class=\"hljs-attr\">\"quota\"</span>: <span class=\"hljs-number\">200</span>,\n\t\t\t<span class=\"hljs-attr\">\"configCount\"</span>: <span class=\"hljs-number\">1</span>,\n\t\t\t<span class=\"hljs-attr\">\"type\"</span>: <span class=\"hljs-number\">0</span>\n\t\t}\n\t]\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"3.2\">查询具体命名空间</h2>\n<h3>接口描述</h3>\n<p>查询具体命名空间的信息</p>\n<blockquote>\n<p>命名空间不存在时会报错</p>\n</blockquote>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/console/namespace</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>命名空间<code>Id</code></td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object</code></td>\n<td>命名空间信息</td>\n</tr>\n<tr>\n<td><code>data.namespace</code></td>\n<td><code>String</code></td>\n<td>命名空间<code>ID</code></td>\n</tr>\n<tr>\n<td><code>data.namespaceShowName</code></td>\n<td><code>String</code></td>\n<td>命名空间名称</td>\n</tr>\n<tr>\n<td><code>data.namespaceDesc</code></td>\n<td><code>String</code></td>\n<td>命名空间描述</td>\n</tr>\n<tr>\n<td><code>data.quota</code></td>\n<td><code>int</code></td>\n<td>命名空间的容量</td>\n</tr>\n<tr>\n<td><code>data.configCount</code></td>\n<td><code>int</code></td>\n<td>命名空间下的配置数量</td>\n</tr>\n<tr>\n<td><code>data.type</code></td>\n<td><code>int</code></td>\n<td>命名空间类型</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>命名空间分为3种类型，<code>0</code> - 全局命名空间   <code>1</code> - 默认私有命名空间  <code>2</code> - 自定义命名空间</p>\n</blockquote>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/console/namespace?namespaceId=test_namespace'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: {\n\t\t<span class=\"hljs-attr\">\"namespace\"</span>: <span class=\"hljs-string\">\"test_namespace\"</span>,\n\t\t<span class=\"hljs-attr\">\"namespaceShowName\"</span>: <span class=\"hljs-string\">\"test\"</span>,\n\t\t<span class=\"hljs-attr\">\"namespaceDesc\"</span>: <span class=\"hljs-literal\">null</span>,\n\t\t<span class=\"hljs-attr\">\"quota\"</span>: <span class=\"hljs-number\">200</span>,\n\t\t<span class=\"hljs-attr\">\"configCount\"</span>: <span class=\"hljs-number\">0</span>,\n\t\t<span class=\"hljs-attr\">\"type\"</span>: <span class=\"hljs-number\">2</span>\n\t}\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"3.3\">创建命名空间</h2>\n<h3>接口描述</h3>\n<p>创建一个命名空间</p>\n<blockquote>\n<p>命名空间已存在时会报错</p>\n</blockquote>\n<h3>请求方式</h3>\n<p><code>POST</code></p>\n<p><code>Content-Type:application/x-www-form-urlencoded</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/console/namespace</code></p>\n<h3>请求Body</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>命名空间<code>Id</code></td>\n</tr>\n<tr>\n<td><code>namespaceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>命名空间名称</td>\n</tr>\n<tr>\n<td><code>namespaceDesc</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间描述</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'namespaceId=test_namespace' \\\n  -d 'namespaceName=test' \\\n  -X POST 'http://127.0.0.1:8848/nacos/v2/console/namespace'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"3.4\">编辑命名空间</h2>\n<h3>接口描述</h3>\n<p>编辑命名空间信息</p>\n<h3>请求方式</h3>\n<p><code>PUT</code></p>\n<p><code>Content-Type:application/x-www-form-urlencoded</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/console/namespace</code></p>\n<h3>请求Body</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>命名空间<code>Id</code></td>\n</tr>\n<tr>\n<td><code>namespaceName</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>命名空间名称</td>\n</tr>\n<tr>\n<td><code>namespaceDesc</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>命名空间描述</td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'namespaceId=test_namespace' \\\n  -d 'namespaceName=test.nacos' \\\n  -X PUT 'http://127.0.0.1:8848/nacos/v2/console/namespace'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"3.5\">删除命名空间</h2>\n<h3>接口描述</h3>\n<p>删除指定命名空间</p>\n<h3>请求方式</h3>\n<p><code>DELETE</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/console/namespace</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>namespaceId</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>命名空间<code>Id</code></td>\n</tr>\n</tbody>\n</table>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'namespaceId=test_namespace' \\\n  -X DELETE 'http://127.0.0.1:8848/nacos/v2/console/namespace'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n      <span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n      <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n      <span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2>集群管理</h2>\n<h2 id=\"4.1\">查询当前节点信息</h2>\n<h3>接口描述</h3>\n<p>查询当前<code>nacos</code>节点信息</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/core/cluster/node/self</code></p>\n<h3 id=\"Member\">返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object</code></td>\n<td>当前节点信息</td>\n</tr>\n<tr>\n<td><code>data.ip</code></td>\n<td><code>String</code></td>\n<td>节点<code>IP</code>地址</td>\n</tr>\n<tr>\n<td><code>data.port</code></td>\n<td><code>int</code></td>\n<td>节点端口</td>\n</tr>\n<tr>\n<td><code>data.state</code></td>\n<td><code>String</code></td>\n<td>节点状态</td>\n</tr>\n<tr>\n<td><code>data.extendInfo</code></td>\n<td><code>Object</code></td>\n<td>节点扩展信息</td>\n</tr>\n<tr>\n<td><code>data.address</code></td>\n<td><code>String</code></td>\n<td>节点地址（<code>IP:port</code>）</td>\n</tr>\n<tr>\n<td><code>data.failAccessCnt</code></td>\n<td><code>int</code></td>\n<td>失败访问次数</td>\n</tr>\n<tr>\n<td><code>data.abilities</code></td>\n<td><code>Object</code></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/core/cluster/node/self'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: {\n\t\t<span class=\"hljs-attr\">\"ip\"</span>: <span class=\"hljs-string\">\"10.128.164.35\"</span>,\n\t\t<span class=\"hljs-attr\">\"port\"</span>: <span class=\"hljs-number\">8848</span>,\n\t\t<span class=\"hljs-attr\">\"state\"</span>: <span class=\"hljs-string\">\"UP\"</span>,\n\t\t<span class=\"hljs-attr\">\"extendInfo\"</span>: {\n\t\t\t<span class=\"hljs-attr\">\"lastRefreshTime\"</span>: <span class=\"hljs-number\">1664521263623</span>,\n\t\t\t<span class=\"hljs-attr\">\"raftMetaData\"</span>: {\n\t\t\t\t<span class=\"hljs-attr\">\"metaDataMap\"</span>: {\n\t\t\t\t\t<span class=\"hljs-attr\">\"naming_instance_metadata\"</span>: {\n\t\t\t\t\t\t<span class=\"hljs-attr\">\"leader\"</span>: <span class=\"hljs-string\">\"10.128.164.35:7848\"</span>,\n\t\t\t\t\t\t<span class=\"hljs-attr\">\"raftGroupMember\"</span>: [\n\t\t\t\t\t\t\t<span class=\"hljs-string\">\"10.128.164.35:7848\"</span>\n\t\t\t\t\t\t],\n\t\t\t\t\t\t<span class=\"hljs-attr\">\"term\"</span>: <span class=\"hljs-number\">12</span>\n\t\t\t\t\t},\n\t\t\t\t\t<span class=\"hljs-attr\">\"naming_persistent_service_v2\"</span>: {\n\t\t\t\t\t\t<span class=\"hljs-attr\">\"leader\"</span>: <span class=\"hljs-string\">\"10.128.164.35:7848\"</span>,\n\t\t\t\t\t\t<span class=\"hljs-attr\">\"raftGroupMember\"</span>: [\n\t\t\t\t\t\t\t<span class=\"hljs-string\">\"10.128.164.35:7848\"</span>\n\t\t\t\t\t\t],\n\t\t\t\t\t\t<span class=\"hljs-attr\">\"term\"</span>: <span class=\"hljs-number\">12</span>\n\t\t\t\t\t},\n\t\t\t\t\t<span class=\"hljs-attr\">\"naming_service_metadata\"</span>: {\n\t\t\t\t\t\t<span class=\"hljs-attr\">\"leader\"</span>: <span class=\"hljs-string\">\"10.128.164.35:7848\"</span>,\n\t\t\t\t\t\t<span class=\"hljs-attr\">\"raftGroupMember\"</span>: [\n\t\t\t\t\t\t\t<span class=\"hljs-string\">\"10.128.164.35:7848\"</span>\n\t\t\t\t\t\t],\n\t\t\t\t\t\t<span class=\"hljs-attr\">\"term\"</span>: <span class=\"hljs-number\">12</span>\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t<span class=\"hljs-attr\">\"raftPort\"</span>: <span class=\"hljs-string\">\"7848\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"readyToUpgrade\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t\t<span class=\"hljs-attr\">\"version\"</span>: <span class=\"hljs-string\">\"2.1.0\"</span>\n\t\t},\n\t\t<span class=\"hljs-attr\">\"address\"</span>: <span class=\"hljs-string\">\"10.128.164.35:8848\"</span>,\n\t\t<span class=\"hljs-attr\">\"failAccessCnt\"</span>: <span class=\"hljs-number\">0</span>,\n\t\t<span class=\"hljs-attr\">\"abilities\"</span>: {\n\t\t\t<span class=\"hljs-attr\">\"remoteAbility\"</span>: {\n\t\t\t\t<span class=\"hljs-attr\">\"supportRemoteConnection\"</span>: <span class=\"hljs-literal\">true</span>\n\t\t\t},\n\t\t\t<span class=\"hljs-attr\">\"configAbility\"</span>: {\n\t\t\t\t<span class=\"hljs-attr\">\"supportRemoteMetrics\"</span>: <span class=\"hljs-literal\">false</span>\n\t\t\t},\n\t\t\t<span class=\"hljs-attr\">\"namingAbility\"</span>: {\n\t\t\t\t<span class=\"hljs-attr\">\"supportJraft\"</span>: <span class=\"hljs-literal\">true</span>\n\t\t\t}\n\t\t}\n\t}\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"4.2\">查询集群节点列表</h2>\n<h3>接口描述</h3>\n<p>查询集群节点列表</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/core/cluster/node/list</code></p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>address</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>节点地址，默认为空</td>\n</tr>\n<tr>\n<td><code>state</code></td>\n<td><code>String</code></td>\n<td>否</td>\n<td>节点状态，默认为空</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><code>address</code>对应于需要查询的节点地址的前缀匹配条件，为空时不做限制</p>\n<p><code>state</code>对应节点状态的筛选条件，为空时不做限制</p>\n</blockquote>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>Object[]</code></td>\n<td>节点列表，详情参见<a href=\"#Member\">节点详情</a></td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/core/cluster/node/list'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: [\n\t\t{\n\t\t\t<span class=\"hljs-attr\">\"ip\"</span>: <span class=\"hljs-string\">\"10.128.164.35\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"port\"</span>: <span class=\"hljs-number\">8848</span>,\n\t\t\t<span class=\"hljs-attr\">\"state\"</span>: <span class=\"hljs-string\">\"UP\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"extendInfo\"</span>: {\n\t\t\t\t<span class=\"hljs-attr\">\"lastRefreshTime\"</span>: <span class=\"hljs-number\">1664521263623</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"raftMetaData\"</span>: {\n\t\t\t\t\t<span class=\"hljs-attr\">\"metaDataMap\"</span>: {\n\t\t\t\t\t\t<span class=\"hljs-attr\">\"naming_instance_metadata\"</span>: {\n\t\t\t\t\t\t\t<span class=\"hljs-attr\">\"leader\"</span>: <span class=\"hljs-string\">\"10.128.164.35:7848\"</span>,\n\t\t\t\t\t\t\t<span class=\"hljs-attr\">\"raftGroupMember\"</span>: [\n\t\t\t\t\t\t\t\t<span class=\"hljs-string\">\"10.128.164.35:7848\"</span>\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t<span class=\"hljs-attr\">\"term\"</span>: <span class=\"hljs-number\">12</span>\n\t\t\t\t\t\t},\n\t\t\t\t\t\t<span class=\"hljs-attr\">\"naming_persistent_service_v2\"</span>: {\n\t\t\t\t\t\t\t<span class=\"hljs-attr\">\"leader\"</span>: <span class=\"hljs-string\">\"10.128.164.35:7848\"</span>,\n\t\t\t\t\t\t\t<span class=\"hljs-attr\">\"raftGroupMember\"</span>: [\n\t\t\t\t\t\t\t\t<span class=\"hljs-string\">\"10.128.164.35:7848\"</span>\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t<span class=\"hljs-attr\">\"term\"</span>: <span class=\"hljs-number\">12</span>\n\t\t\t\t\t\t},\n\t\t\t\t\t\t<span class=\"hljs-attr\">\"naming_service_metadata\"</span>: {\n\t\t\t\t\t\t\t<span class=\"hljs-attr\">\"leader\"</span>: <span class=\"hljs-string\">\"10.128.164.35:7848\"</span>,\n\t\t\t\t\t\t\t<span class=\"hljs-attr\">\"raftGroupMember\"</span>: [\n\t\t\t\t\t\t\t\t<span class=\"hljs-string\">\"10.128.164.35:7848\"</span>\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t<span class=\"hljs-attr\">\"term\"</span>: <span class=\"hljs-number\">12</span>\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t<span class=\"hljs-attr\">\"raftPort\"</span>: <span class=\"hljs-string\">\"7848\"</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"readyToUpgrade\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t\t\t<span class=\"hljs-attr\">\"version\"</span>: <span class=\"hljs-string\">\"2.1.0\"</span>\n\t\t\t},\n\t\t\t<span class=\"hljs-attr\">\"address\"</span>: <span class=\"hljs-string\">\"10.128.164.35:8848\"</span>,\n\t\t\t<span class=\"hljs-attr\">\"failAccessCnt\"</span>: <span class=\"hljs-number\">0</span>,\n\t\t\t<span class=\"hljs-attr\">\"abilities\"</span>: {\n\t\t\t\t<span class=\"hljs-attr\">\"remoteAbility\"</span>: {\n\t\t\t\t\t<span class=\"hljs-attr\">\"supportRemoteConnection\"</span>: <span class=\"hljs-literal\">true</span>\n\t\t\t\t},\n\t\t\t\t<span class=\"hljs-attr\">\"configAbility\"</span>: {\n\t\t\t\t\t<span class=\"hljs-attr\">\"supportRemoteMetrics\"</span>: <span class=\"hljs-literal\">false</span>\n\t\t\t\t},\n\t\t\t\t<span class=\"hljs-attr\">\"namingAbility\"</span>: {\n\t\t\t\t\t<span class=\"hljs-attr\">\"supportJraft\"</span>: <span class=\"hljs-literal\">true</span>\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t]\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"4.3\">查询当前节点健康状态</h2>\n<h3>接口描述</h3>\n<p>查询当前<code>nacos</code>节点健康状态</p>\n<h3>请求方式</h3>\n<p><code>GET</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/core/cluster/node/self/health</code></p>\n<h3 id=\"Member\">返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>String</code></td>\n<td>当前节点健康状态</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>节点共有 <code>STARTING</code>， <code>UP</code>，<code>SUSPICIOUS</code>，<code>DOWN</code>，<code>ISOLATION</code>五种状态</p>\n</blockquote>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -X GET 'http://127.0.0.1:8848/nacos/v2/core/cluster/node/self/health'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-string\">\"UP\"</span>\n}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"4.4\">切换集群寻址模式</h2>\n<h3>接口描述</h3>\n<p>切换集群寻址模式</p>\n<h3>请求方式</h3>\n<p><code>PUT</code></p>\n<p><code>Content-Type:application/x-www-form-urlencoded</code></p>\n<h3>请求URL</h3>\n<p><code>/nacos/v2/core/cluster/lookup</code></p>\n<h3>请求Body</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>是否必填</th>\n<th>描述说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>type</code></td>\n<td><code>String</code></td>\n<td><strong>是</strong></td>\n<td>寻址模式</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>寻址模式有两种：<code>file</code>（文件配置）和 <code>address-server</code>（地址服务器）</p>\n</blockquote>\n<h3>返回数据</h3>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>参数类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>data</code></td>\n<td><code>boolean</code></td>\n<td>是否执行成功</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-shell\">curl -d 'type=file' \\\n  -X PUT 'http://127.0.0.1:8848/nacos/v2/core/cluster/lookup'\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"code\"</span>: <span class=\"hljs-number\">0</span>,\n\t<span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"success\"</span>,\n\t<span class=\"hljs-attr\">\"data\"</span>: <span class=\"hljs-literal\">true</span>\n}\n</code></pre>\n</li>\n</ul>\n",
  "link": "/zh-cn/docs/v2/guide/user/open-api.html",
  "meta": {
    "title": "Open API 指南",
    "keywords": "Open API,指南",
    "description": "Open API 指南"
  }
}