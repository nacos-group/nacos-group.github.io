<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-v2/upgrading/2.0.0-compatibility" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Nacos 2.0.0 compatibility | Nacos</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://nacos.io/en/img/nacos_colorful.png"><meta data-rh="true" name="twitter:image" content="https://nacos.io/en/img/nacos_colorful.png"><meta data-rh="true" property="og:url" content="https://nacos.io/en/docs/next/v2/upgrading/2.0.0-compatibility"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Nacos 2.0.0 compatibility | Nacos"><meta data-rh="true" name="description" content="Nacos 2.0.0 compatibility"><meta data-rh="true" property="og:description" content="Nacos 2.0.0 compatibility"><meta data-rh="true" name="keywords" content="Nacos,2.0.0"><link data-rh="true" rel="icon" href="https://img.alicdn.com/tfs/TB1hgJpHAPoK1RjSZKbXXX1IXXa-64-64.png"><link data-rh="true" rel="canonical" href="https://nacos.io/en/docs/next/v2/upgrading/2.0.0-compatibility"><link data-rh="true" rel="alternate" href="https://nacos.io/en/docs/next/v2/upgrading/2.0.0-compatibility" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://nacos.io/zh-cn/docs/next/v2/upgrading/2.0.0-compatibility" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://nacos.io/docs/next/v2/upgrading/2.0.0-compatibility" hreflang="default"><link data-rh="true" rel="alternate" href="https://nacos.io/docs/next/v2/upgrading/2.0.0-compatibility" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://1QV814950M-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="Nacos RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="Nacos Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Nacos" href="/en/opensearch.xml">


<meta name="aes-config" content="pid=xux-opensource&amp;user_type=101&amp;uid=&amp;username=&amp;dim10=nacos">
<meta name="referrer" content="no-referrer">
<link rel="stylesheet" href="//dev.g.alicdn.com/mamba/mse-arc-ui/0.0.20/umd/mse-arc-ui.min.css">
<script src="//dev.g.alicdn.com/mamba/mse-arc-ui/0.0.20/umd/mse-arc-ui.min.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=G-0YDFJ7LX7F" async></script><link rel="stylesheet" href="/en/assets/css/styles.ada177ca.css">
<link rel="preload" href="/en/assets/js/runtime~main.43e9faf3.js" as="script">
<link rel="preload" href="/en/assets/js/main.a43f0e65.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>



<script src="//g.alicdn.com/alilog/mlog/aplus_v2.js" id="beacon-aplus" exparams="clog=o&amp;aplus&amp;sidx=aplusSidx&amp;ckx=aplusCkx"></script>
<script src="//g.alicdn.com/aes/??tracker/1.0.34/index.js,tracker-plugin-pv/2.4.5/index.js,tracker-plugin-event/1.2.5/index.js,tracker-plugin-jserror/1.0.13/index.js,tracker-plugin-api/1.1.14/index.js,tracker-plugin-perf/1.1.8/index.js,tracker-plugin-eventTiming/1.0.4/index.js"></script>
<script src="//hm.baidu.com/hm.js?e3a5cec56ef8619cf9d7c2abebd509e3"></script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/nacos_colorful.png" alt="Nacos Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/img/nacos_colorful.png" alt="Nacos Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/en/">Home</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" docid="/what-is-nacos" href="/en/docs/next/v2/what-is-nacos">User Docs</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/en/docs/next/v2/upgrading/2.0.0-compatibility">User Docs</a></li><li><a class="dropdown__link" href="/en/docs/v2/upgrading/2.0.0-compatibility">2.X</a></li><li><a class="dropdown__link" href="/en/docs/1.X/v2/upgrading/2.0.0-compatibility">1.X</a></li></ul></div><a class="navbar__item navbar__link" href="/en/cloud">NACOS CLOUD</a><a href="https://developer.aliyun.com/ebook/36?spm=a2c6h.20345107.ebook-index.18.152c2984fsi5ST" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">E-BOOK-NACOS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/en/blog">BLOG</a><a class="navbar__item navbar__link" href="/en/community">COMMUNITY</a><a href="http://console.nacos.io/nacos/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">DEMO-CONSOLE<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_DSK9"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>En</a><ul class="dropdown__menu"><li><a href="/en/docs/next/v2/upgrading/2.0.0-compatibility" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">En</a></li><li><a href="/zh-cn/docs/next/v2/upgrading/2.0.0-compatibility" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">中</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">What is Nacos</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/what-is-nacos">What is Nacos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/concepts">Nacos Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/architecture">Nacos architecture</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Quick Start</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/quickstart/quick-start">Quick Start for Nacos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/quickstart/quick-start-docker">Quick Start for Nacos Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/quickstart/quick-start-kubernetes">Kubernetes Nacos</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Upgrading</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/docs/next/v2/upgrading/2.0.0-compatibility">Nacos 2.0.0 compatibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/upgrading/2.0.0-upgrading">Nacos 2.0 升级文档</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Plugin</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/plugin/auth-plugin">Authorization Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/plugin/config-encryption-plugin">CONFIGURE ENCRYPTION</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/plugin/datasource-plugin">多数据源</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/plugin/trace-plugin">Tracing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/plugin/custom-environment-plugin">CustomEnvironment</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">User Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/guide/user/sdk">Java SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/guide/user/other-language">Other languages SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/guide/user/open-api">Open API Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/guide/user/auth">Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/guide/user/faq">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Admin Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/guide/admin/deployment">Nacos supports three types of deployment modes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/guide/admin/cluster-mode-quick-start">Cluster deployment instructions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/guide/admin/system-configurations">Nacos system parameters introduce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/guide/admin/management-api">Management API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/guide/admin/console-guide">Console Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/guide/admin/monitor-guide">Nacos monitor guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/guide/admin/nacos2-config-benchmark">Nacos2.0服务配置性能测试报告</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/guide/admin/nacos2-naming-benchmark">Nacos2.0服务发现性能测试报告</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/ecology/use-nacos-sync">NacosSync user guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Ecology</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/ecology/use-nacos-with-dubbo">Nacos with Dubbo fusion become registry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/ecology/use-nacos-with-spring">Nacos with Spring Projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/ecology/use-nacos-with-spring-boot">Nacos with Spring Boot Projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/ecology/use-nacos-with-spring-cloud">Nacos with Spring Cloud Projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/ecology/use-nacos-sync">NacosSync user guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/ecology/use-nacos-with-coredns">Nacos push domain with CoreDNS</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Contributor Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/contribution/contributing">How to Contribute</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/contribution/contributing-flow">Contributing Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/contribution/pull-request">Pull request template</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/contribution/how-to-reporting-bugs">How to report bugs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Community</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/community/">Community</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/v2/community/nacos-dev">Developers</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Nacos<!-- --> <b>User Docs</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/en/docs/v2/upgrading/2.0.0-compatibility">latest version</a></b> (<!-- -->2.X<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Upgrading</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Nacos 2.0.0 compatibility</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: User Docs</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Nacos 2.0.0 compatibility</h1></header><blockquote><p>Document optimizing...</p></blockquote><h1>Nacos2.0 code storage location</h1><p>The Nacos code is currently stored in the feature_support_grpc_core branch. You need to switch to this branch and start again. The startup method is the same as Nacos 1.x, and Welcome to contribute.</p><h1>Nacos 2.0.0 compatibility</h1><p>After discussion and development in the community, the core features of Nacos 2.0.0 based on the long connection have been developed completely.</p><p>2.0.0 has released and welcome to use.</p><p>2.0.0 support to smoothly upgrade and downgrade with Nacos1.X server, please refer to <a href="/en/docs/next/v2/upgrading/2.0.0-upgrading">Nacos2.0 upgrade document</a> for details.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="benchmark-for-nacos-200">Benchmark for Nacos 2.0.0<a href="#benchmark-for-nacos-200" class="hash-link" aria-label="Direct link to Benchmark for Nacos 2.0.0" title="Direct link to Benchmark for Nacos 2.0.0">​</a></h2><p>Detail see: <a href="/en/docs/next/v2/guide/admin/nacos2-naming-benchmark">Nacos2.0 Naming Benchmark</a> and <a href="/en/docs/next/v2/guide/admin/nacos2-config-benchmark">Nacos2.0 Config Benchmark</a> .</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment">Deployment<a href="#deployment" class="hash-link" aria-label="Direct link to Deployment" title="Direct link to Deployment">​</a></h2><p>Compared with 1.X, Nacos2.0 adds gRPC communication mode, so there are 2 ports need to be added. The new ports are generated with a certain offset based on the configured main port (server.port).</p><table><thead><tr><th>port</th><th>offset from main port</th><th>description</th></tr></thead><tbody><tr><td>9848</td><td>1000</td><td>The client gRPC requests the server port, which is used by the client to initiate a connection and request to the server</td></tr><tr><td>9849</td><td>1001</td><td>Server-side gRPC requests server-side port, used for synchronization between services, etc.</td></tr></tbody></table><p><strong>When using VIP/nginx requests, you need to configure it as TCP forwarding, instead of http2 forwarding, otherwise the connection will be disconnected by nginx.</strong></p><p><img loading="lazy" alt="nacos2_port_exposure.png" src="/en/assets/images/nacos2_port_exposure-63f18a02b66c0cf15d993e2cfc9ef805.png" width="2000" height="1125" class="img_ev3q"> </p><p>The client has the same offset logic. The users configures the main port (default 8848) as in the use of 1.X, and calculates the corresponding gRPC port (default 9848) through the same offset.</p><p>Therefore, if there is a port forwarding or firewall between the client and the server, the port forwarding configuration and firewall configuration need to be adjusted accordingly.</p><p>Other detail refer to <a href="/en/docs/next/v2/guide/admin/deployment">Deployment Guide</a> and replace the version to 2.1.1.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="compatibility">Compatibility<a href="#compatibility" class="hash-link" aria-label="Direct link to Compatibility" title="Direct link to Compatibility">​</a></h2><p>The server of Nacos2.0 is fully compatible with 1.X clients. The Nacos2.0 client is not compatible with the Nacos1.X server because it uses gRPC. Please do not use the client of version 2.0 or higher to connect to the Nacos1.X server.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="features-completion-and-adaptation-for-the-old-client">Features completion and adaptation for the old client<a href="#features-completion-and-adaptation-for-the-old-client" class="hash-link" aria-label="Direct link to Features completion and adaptation for the old client" title="Direct link to Features completion and adaptation for the old client">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-management">Configuration Management<a href="#configuration-management" class="hash-link" aria-label="Direct link to Configuration Management" title="Direct link to Configuration Management">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="java-sdk">JAVA SDK<a href="#java-sdk" class="hash-link" aria-label="Direct link to JAVA SDK" title="Direct link to JAVA SDK">​</a></h4><ul><li>Completely compatible with all interfaces of 1.X client;</li><li>Completely implement all interfaces of 2.X client.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="other-sdk">Other SDK<a href="#other-sdk" class="hash-link" aria-label="Direct link to Other SDK" title="Direct link to Other SDK">​</a></h4><ul><li>Completely compatible</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="openapi">openAPI<a href="#openapi" class="hash-link" aria-label="Direct link to openAPI" title="Direct link to openAPI">​</a></h4><ul><li>Fully compatible with all openAPIs related to the configuration management.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-discovery">Service Discovery<a href="#service-discovery" class="hash-link" aria-label="Direct link to Service Discovery" title="Direct link to Service Discovery">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="java-sdk-1">JAVA SDK<a href="#java-sdk-1" class="hash-link" aria-label="Direct link to JAVA SDK" title="Direct link to JAVA SDK">​</a></h4><ul><li>Completely compatible with all interfaces of 1.X client;</li><li>Completely implement all interfaces of 2.X client.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="other-sdk-1">Other SDK<a href="#other-sdk-1" class="hash-link" aria-label="Direct link to Other SDK" title="Direct link to Other SDK">​</a></h4><ul><li>Completely compatible</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="openapi-1">openAPI<a href="#openapi-1" class="hash-link" aria-label="Direct link to openAPI" title="Direct link to openAPI">​</a></h4><ul><li>Register instance (Supported)</li><li>Deregister instance (Supported)</li><li>Modify instance (Supported)</li><li>Query instances (Supported)</li><li>Query instance detail (Supported)</li><li>Send instance beat (Supported)</li><li>Create service (Supported)</li><li>Delete service (Supported)</li><li>Update service (Supported)</li><li>Query service (Supported)</li><li>Query service list (Supported)</li><li>Query system switches (Supported)</li><li>Update system switch (Supported)</li><li>Query system metrics (Supported)</li><li>Query server list (Supported)</li><li>Query the leader of current cluster (Deprecated)</li><li>Update instance health status (Supported)</li><li>Batch update instance metadata(Supported)</li><li>Batch delete instance metadata(Supported)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="console">Console<a href="#console" class="hash-link" aria-label="Direct link to Console" title="Direct link to Console">​</a></h3><ul><li>Completely compatible with <code>Config Management</code></li><li>Completely compatible with <code>Authority Control</code></li><li>Completely compatible with <code>Namespace</code></li><li>Completely compatible with <code>Cluster Managerment</code></li><li>Completely compatible with <code>Service Managerment</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ecological-compatibility">Ecological compatibility<a href="#ecological-compatibility" class="hash-link" aria-label="Direct link to Ecological compatibility" title="Direct link to Ecological compatibility">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="spring-cloud-alibaba">Spring Cloud Alibaba<a href="#spring-cloud-alibaba" class="hash-link" aria-label="Direct link to Spring Cloud Alibaba" title="Direct link to Spring Cloud Alibaba">​</a></h3><p>Use Nacos 2.0 connection features by specifying nacos-client version.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;exclusions&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;exclusion&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;groupId&gt;com.alibaba.nacos&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;artifactId&gt;nacos-client&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/exclusion&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/exclusions&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-config&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;exclusions&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;exclusion&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;groupId&gt;com.alibaba.nacos&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;artifactId&gt;nacos-client&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/exclusion&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/exclusions&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;groupId&gt;com.alibaba.nacos&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;artifactId&gt;nacos-client&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;version&gt;2.1.1&lt;/version&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/dependency&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dubbo">Dubbo<a href="#dubbo" class="hash-link" aria-label="Direct link to Dubbo" title="Direct link to Dubbo">​</a></h3><p>The Nacos2.0 version of the client is re-adapted to Dubbo2.7.X. And the Dubbo community is making changes to the new version, no longer relying on reflection, please see <a href="https://github.com/apache/dubbo/issues/7291" target="_blank" rel="noopener noreferrer">Dubbo#7291</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-spring-boot">Nacos Spring Boot<a href="#nacos-spring-boot" class="hash-link" aria-label="Direct link to Nacos Spring Boot" title="Direct link to Nacos Spring Boot">​</a></h3><p>Nacos spring boot had released a new version to adapt to the 2.0.0 client, please upgrade to newest version.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sdk-and-console">SDK and Console<a href="#sdk-and-console" class="hash-link" aria-label="Direct link to SDK and Console" title="Direct link to SDK and Console">​</a></h3><p>The usage of Nacos 2.0.0 version is exactly the same as that of Nacos 1.X version. For the client interface, please refer to <a href="/en/docs/next/v2/guide/user/sdk">JAVA SDK</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="server">Server<a href="#server" class="hash-link" aria-label="Direct link to Server" title="Direct link to Server">​</a></h3><p>The usage of the Nacos 2.0.0 server is not much different from the old version. Here only to describe the new configuration parameters in the new version.</p><table><thead><tr><th>Parameters</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>nacos.naming.clean.empty-service.interval</td><td>60000(ms)</td><td>The interval time of Nacos auto clean empty service. This parameter will replace <code>nacos.naming.empty-service.clean.period-time-ms</code> in old version.</td></tr><tr><td>nacos.naming.clean.empty-service.expired-time</td><td>60000(ms)</td><td>The expired time for Nacos judge whether an empty service is expired. When an empty service has no updated for setting time, it will be removed.</td></tr><tr><td>nacos.naming.clean.expired-metadata.interval</td><td>5000(ms)</td><td>The interval time of Nacos auto clean expired metadata.</td></tr><tr><td>nacos.naming.clean.expired-metadata.expired-time</td><td>60000(ms)</td><td>The expired time for Nacos judge whether a metadata is expired. When services or instances removed and after setting time, the metadata of removed services or instances will be deleted.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="faq">FAQ<a href="#faq" class="hash-link" aria-label="Direct link to FAQ" title="Direct link to FAQ">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="whether-support-the-old-client">Whether support the old client?<a href="#whether-support-the-old-client" class="hash-link" aria-label="Direct link to Whether support the old client?" title="Direct link to Whether support the old client?">​</a></h3><p>Configuration Management can support all clients after 1.0, and Service Management can support all client after 1.2.</p><p>So recommending use Nacos client after 1.2.0.</p><p>But Nacos 1.X client can&#x27;t use new connection features, so recommending to use 2.0.0 client strongly.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-code503msgserver-is-down-now-please-try-again-later-during-using">Error <code>code:503,msg:server is DOWN now, please try again later!</code> during using.<a href="#error-code503msgserver-is-down-now-please-try-again-later-during-using" class="hash-link" aria-label="Direct link to error-code503msgserver-is-down-now-please-try-again-later-during-using" title="Direct link to error-code503msgserver-is-down-now-please-try-again-later-during-using">​</a></h3><p>After version 1.4, Nacos use SOFA-Jraft to replace old raft implementation by nacos-self. Jraft will election leader with raft protocol and save the cluster metadata. If cluster restart with ip changed, it might cause Jraft can election leader successfully so that nacos can&#x27;t start up.</p><p>The solution is removed the <code>data</code> directory under nacos directory and restart.</p><p>Or use <code>-Dnacos.server.ip=${domain}</code> jvm parameters to start nacos and set domain list in <code>nacos/conf/cluster.conf</code> to avoid the ip change effect.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="comalibabanacosconsistencyentity-cant-be-found-in-source-codes"><code>com.alibaba.nacos.consistency.entity</code> can&#x27;t be found in source codes<a href="#comalibabanacosconsistencyentity-cant-be-found-in-source-codes" class="hash-link" aria-label="Direct link to comalibabanacosconsistencyentity-cant-be-found-in-source-codes" title="Direct link to comalibabanacosconsistencyentity-cant-be-found-in-source-codes">​</a></h3><p>This package will be auto-generated by <code>protobuf</code>, so if you want to read source code or do some develop, you can use <code>mvn compile</code> to generate them. If you are using IDEA, you can also use IDEA&#x27;s protobuf plugin.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-connection-is-unregistered-or-client-not-connected-current-statusstarting-during-startup-client">Error <code>Connection is unregistered.</code> or <code>Client not connected, current status:STARTING</code> during startup client.<a href="#error-connection-is-unregistered-or-client-not-connected-current-statusstarting-during-startup-client" class="hash-link" aria-label="Direct link to error-connection-is-unregistered-or-client-not-connected-current-statusstarting-during-startup-client" title="Direct link to error-connection-is-unregistered-or-client-not-connected-current-statusstarting-during-startup-client">​</a></h3><p>The reason is that the client gRPC cannot establish a connection with the server. Please use <code>telnet ${nacos.server.address}:${nacos.server.grpc.port}</code> to test the network and to check the server port is correct.</p><p>If there is no problem with the server, check whether the configuration is wrong. The configured ports of the server and client should be the same.</p><p>If there is no problem with the configuration, check whether there is a firewall or VIP port forwarding problem. The gRPC ports of Nacos2.0 are calculated by the offset of the main port, so the port forwarding also needs to meet the offset.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nacos20-adds-ports-9848-and-9849-for-grpc-communication-do-i-need-to-configure-additional-settings-in-applicationproperties">Nacos2.0 adds ports 9848 and 9849 for GRPC communication. Do I need to configure additional settings in application.properties?<a href="#nacos20-adds-ports-9848-and-9849-for-grpc-communication-do-i-need-to-configure-additional-settings-in-applicationproperties" class="hash-link" aria-label="Direct link to Nacos2.0 adds ports 9848 and 9849 for GRPC communication. Do I need to configure additional settings in application.properties?" title="Direct link to Nacos2.0 adds ports 9848 and 9849 for GRPC communication. Do I need to configure additional settings in application.properties?">​</a></h3><p>No, these two ports are calculated by 8848 + 1000 and 8848 + 1001 in Nacos2.0 internally. No additional configuration by the user is required in the configuration file. But if you are using docker or there is a port forwarding method to start, you need to configure these two ports.</p><p>###I want to start nacos2.0, and uses nginx proxy, how to deal with the port 9848, should it be exposed through nginx?</p><p>If there is a firewall or nginx port forwarding problem, you need to configure the corresponding port exposure. For example, in nginx, on the basis of the already exposed 8848(x), an additional 9848(x+1000) needs to be exposed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="to-be-added">To be added...<a href="#to-be-added" class="hash-link" aria-label="Direct link to To be added..." title="Direct link to To be added...">​</a></h3></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/docs/next/v2/quickstart/quick-start-kubernetes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Kubernetes Nacos</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/docs/next/v2/upgrading/2.0.0-upgrading"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Nacos 2.0 升级文档</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#benchmark-for-nacos-200" class="table-of-contents__link toc-highlight">Benchmark for Nacos 2.0.0</a></li><li><a href="#deployment" class="table-of-contents__link toc-highlight">Deployment</a></li><li><a href="#compatibility" class="table-of-contents__link toc-highlight">Compatibility</a></li><li><a href="#features-completion-and-adaptation-for-the-old-client" class="table-of-contents__link toc-highlight">Features completion and adaptation for the old client</a><ul><li><a href="#configuration-management" class="table-of-contents__link toc-highlight">Configuration Management</a></li><li><a href="#service-discovery" class="table-of-contents__link toc-highlight">Service Discovery</a></li><li><a href="#console" class="table-of-contents__link toc-highlight">Console</a></li></ul></li><li><a href="#ecological-compatibility" class="table-of-contents__link toc-highlight">Ecological compatibility</a><ul><li><a href="#spring-cloud-alibaba" class="table-of-contents__link toc-highlight">Spring Cloud Alibaba</a></li><li><a href="#dubbo" class="table-of-contents__link toc-highlight">Dubbo</a></li><li><a href="#nacos-spring-boot" class="table-of-contents__link toc-highlight">Nacos Spring Boot</a></li></ul></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#sdk-and-console" class="table-of-contents__link toc-highlight">SDK and Console</a></li><li><a href="#server" class="table-of-contents__link toc-highlight">Server</a></li></ul></li><li><a href="#faq" class="table-of-contents__link toc-highlight">FAQ</a><ul><li><a href="#whether-support-the-old-client" class="table-of-contents__link toc-highlight">Whether support the old client?</a></li><li><a href="#error-code503msgserver-is-down-now-please-try-again-later-during-using" class="table-of-contents__link toc-highlight">Error <code>code:503,msg:server is DOWN now, please try again later!</code> during using.</a></li><li><a href="#comalibabanacosconsistencyentity-cant-be-found-in-source-codes" class="table-of-contents__link toc-highlight"><code>com.alibaba.nacos.consistency.entity</code> can&#39;t be found in source codes</a></li><li><a href="#error-connection-is-unregistered-or-client-not-connected-current-statusstarting-during-startup-client" class="table-of-contents__link toc-highlight">Error <code>Connection is unregistered.</code> or <code>Client not connected, current status:STARTING</code> during startup client.</a></li><li><a href="#nacos20-adds-ports-9848-and-9849-for-grpc-communication-do-i-need-to-configure-additional-settings-in-applicationproperties" class="table-of-contents__link toc-highlight">Nacos2.0 adds ports 9848 and 9849 for GRPC communication. Do I need to configure additional settings in application.properties?</a></li><li><a href="#to-be-added" class="table-of-contents__link toc-highlight">To be added...</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/en/assets/js/runtime~main.43e9faf3.js"></script>
<script src="/en/assets/js/main.a43f0e65.js"></script>
</body>
</html>