<!doctype html>
<html lang="en-US" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Blog | Nacos</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://nacos.io/en/img/nacos_colorful.png"><meta data-rh="true" name="twitter:image" content="https://nacos.io/en/img/nacos_colorful.png"><meta data-rh="true" property="og:url" content="https://nacos.io/en/blog/page/2"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="Nacos"><meta data-rh="true" property="og:title" content="Blog | Nacos"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="https://img.alicdn.com/tfs/TB1hgJpHAPoK1RjSZKbXXX1IXXa-64-64.png"><link data-rh="true" rel="canonical" href="https://nacos.io/en/blog/page/2"><link data-rh="true" rel="alternate" href="https://nacos.io/en/blog/page/2" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://nacos.io/zh-cn/blog/page/2" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://nacos.io/blog/page/2" hreflang="default"><link data-rh="true" rel="alternate" href="https://nacos.io/blog/page/2" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://1QV814950M-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="Nacos RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="Nacos Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Nacos" href="/en/opensearch.xml">


<meta name="aes-config" content="pid=xux-opensource&amp;user_type=101&amp;uid=&amp;username=&amp;dim10=nacos">
<meta name="referrer" content="no-referrer">
<link rel="stylesheet" href="//g.alicdn.com/mamba/mse-arc-ui/0.0.21/umd/mse-arc-ui.min.css">
<script src="//g.alicdn.com/mamba/mse-arc-ui/0.0.21/umd/mse-arc-ui.min.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=G-0YDFJ7LX7F" async></script><link rel="stylesheet" href="/en/assets/css/styles.9c63a379.css">
<link rel="preload" href="/en/assets/js/runtime~main.efbcf77a.js" as="script">
<link rel="preload" href="/en/assets/js/main.0d2c9db0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>



<script src="//g.alicdn.com/alilog/mlog/aplus_v2.js" id="beacon-aplus" exparams="clog=o&amp;aplus&amp;sidx=aplusSidx&amp;ckx=aplusCkx"></script>
<script src="//g.alicdn.com/aes/??tracker/1.0.34/index.js,tracker-plugin-pv/2.4.5/index.js,tracker-plugin-event/1.2.5/index.js,tracker-plugin-jserror/1.0.13/index.js,tracker-plugin-api/1.1.14/index.js,tracker-plugin-perf/1.1.8/index.js,tracker-plugin-eventTiming/1.0.4/index.js"></script>
<script src="//hm.baidu.com/hm.js?e3a5cec56ef8619cf9d7c2abebd509e3"></script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/nacos_colorful.png" alt="Nacos Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/img/nacos_colorful.png" alt="Nacos Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a href="https://nacos.io/zh-cn/docs/v2/quickstart/quick-start.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"> </a><a class="navbar__item navbar__link" href="/en/">Home</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" docid="/what-is-nacos" href="/en/docs/v2/what-is-nacos">2.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/docs/next/v2/what-is-nacos">User Docs</a></li><li><a class="dropdown__link" href="/en/docs/v2/what-is-nacos">2.X</a></li><li><a class="dropdown__link" href="/en/docs/1.X/v2/what-is-nacos">1.X</a></li></ul></div><a class="navbar__item navbar__link" href="/en/cloud">NACOS CLOUD</a><a href="https://developer.aliyun.com/ebook/36?spm=a2c6h.20345107.ebook-index.18.152c2984fsi5ST" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">E-BOOK-NACOS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/en/blog">BLOG</a><a class="navbar__item navbar__link" href="/en/community">COMMUNITY</a><a href="http://console.nacos.io/nacos/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">DEMO-CONSOLE<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_DSK9"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>En</a><ul class="dropdown__menu"><li><a href="/en/blog/page/2" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">En</a></li><li><a href="/zh-cn/blog/page/2" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">中</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All Posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.1.1-release">2.1.1-release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.2.0-release">2.2.0-release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.2.1-release">2.2.1-release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.2.2-release">2.2.2-release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.3.0-beta-release">2.3.0-beta-release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/212-and-220beta-release">212-and-220beta-release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/announcement-token-secret-key">announcement-token-secret-key</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/higress">higress</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/iscas2023">iscas2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-distro-mechanism">nacos-distro-mechanism</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-reigster-mechanism">nacos-reigster-mechanism</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/springboot-0.2.10">springboot-0.2.10</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/up-to-2w-star">up-to-2w-star</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/xiaomi-scale">xiaomi-scale</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos3.0-is-coming">我们总结了3大使用建议，并首次公开 Nacos3.0 规划图 | Nacos 开源4周年</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/iscas2022">Nacos开源之夏，贡献社区赢取12000奖金</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.1.0-release">Nacos 2.1.0版本发布，支持鉴权及加解密插件</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/use-nacos-with-rainbond">Install the HA Nacos cluster in Rainbond with one-click</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/apisix">Apache APISIX Realizes Service Discovery Based on Nacos</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.0.3-release">Nacos 2.0.3 Release, continue to improve stability.</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/performance-compare">Performance comparison between Nacos 2.0 upgrading or not.</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/iscas2021">Nacos ISCAS 2021 start to apply</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2.0.1-release">Nacos 2.0.1 + 1.4.2 Release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/1.4.0-release">Nacos 1.4.0 + Go SDK 1.0.1 Release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/csharp-0.5.0">v0.5.0 of Nacos-sdk-csharp was released! Capabilities aligned with Java SDK！</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-2nd-anniversary">Nacos 两周年献礼，Nacos 1.3.2 + Go SDK 1.0.0发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/feeling-of-ASoC-2019">参与开源，Offer拿到手软 -- 来自一名2019阿里巴巴编程之夏同学的亲述</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos 1.2.0 guide">Nacos 1.2.0权限控制介绍和使用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-1.3.0-design">Nacos 1.3.0 new kernel construction process</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/namespace-endpoint-best-practices">Namespace,endpoint 最佳实践</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/pilot mcp">Pilot MCP协议介绍</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos 1.1.4">Nacos 1.1.4发布，业界率先支持Istio MCP协议</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-confd">Nacos整合Confd，支持nginx配置管理</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/eureka2">Eureka 2.0 开源工作宣告停止？别担心，ANS 即将 C位强势出道！</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos 1.1.0">Nacos 1.1.0发布，支持灰度配置和地址服务器模块</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-roadmap">Nacos GA后的整体规划</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/cmdb">Nacos打通CMDB实现就近访问</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/address-server">阿里巴巴基于 Nacos 实现环境隔离的实践</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos1.0.0">Nacos 1.0.0 发布，正式大规模生产可用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos0.9.0">Nacos 0.9.0版本进行发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos0.9-intro">Nacos 0.9.0版本进行发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/huya-practice">虎牙直播在微服务改造方面的实践和总结</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos0.8">Nacos 0.8.0版本进行发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/huya-nacos">虎牙直播共建Nacos生态</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/5w1h-where">Nacos 有哪些典型的应用场景？—— 配置管理篇</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/dynamic-route-zuul-nacos">使用Nacos实现Spring Cloud Zuul的动态路由</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos0.6">Nacos 0.6版本发布，支持Dubbo生态并且支持Docker部署</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos0.5">Nacos0.5发布，支持DNS-based Service Discovery，JAVA 11</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos">Nacos 0.1.0 版本Review 活动设计</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/cncf">Nacos 进入CNCF landscape</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/5w1h-what">What problems does Nacos help us solve? —— Configuration Management</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/discovery-console">Nacos服务发现控制台预览</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/chengdu-dubbo">Nacos 计划发布v0.2版本，进一步融合Dubbo和SpringCloud生态</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/consul-k8s">Consul与kubernetes整合公告[翻译]</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/dns-sd">微服务架构中基于DNS的服务注册与发现</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/nacos-is-coming">支持Dubbo生态发展，阿里巴巴启动新的开源项目 Nacos</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/alibaba-configserver">阿里巴巴服务注册中心产品ConfigServer 10年技术发展回顾</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Placeholder. DO NOT DELETE."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/nacos-reigster-mechanism">nacos-reigster-mechanism</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-16T10:36:09.000Z" itemprop="datePublished">November 16, 2023</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><p>Placeholder. DO NOT DELETE.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Placeholder. DO NOT DELETE."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/springboot-0.2.10">springboot-0.2.10</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-16T10:36:09.000Z" itemprop="datePublished">November 16, 2023</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><p>Placeholder. DO NOT DELETE.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Placeholder. DO NOT DELETE."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/up-to-2w-star">up-to-2w-star</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-16T10:36:09.000Z" itemprop="datePublished">November 16, 2023</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><p>Placeholder. DO NOT DELETE.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Placeholder. DO NOT DELETE."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/xiaomi-scale">xiaomi-scale</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-16T10:36:09.000Z" itemprop="datePublished">November 16, 2023</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><p>Placeholder. DO NOT DELETE.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="我们总结了3大使用建议，并首次公开 Nacos3.0 规划图 | Nacos 开源4周年"><meta itemprop="keywords" content="nacos3.0,nacos最佳实践"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/nacos3.0-is-coming">我们总结了3大使用建议，并首次公开 Nacos3.0 规划图 | Nacos 开源4周年</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-08-10T00:00:00.000Z" itemprop="datePublished">August 10, 2022</time> · <!-- -->18 min read</div></header><div class="markdown" itemprop="articleBody"><h1>Nacos 是什么？</h1><p><strong>Nacos </strong>/nɑ:kəʊs/ 是 Dynamic <strong>Na</strong>ming and <strong>Co</strong>nfiguration <strong>S</strong>ervice的首字母简称，定位于一个更易于构建云原生应用的动态服务发现、配置管理和服务管理平台。从 2018 年 7 月开始宣布开源以来，已经走过了第四个年头，在这四年里，备受广大开源用户欢迎，共收获<strong>23.3K的star</strong>数，<strong>10.3K的Fork</strong>数，在开源中国发布的 2021 年度 OSC 中国开源项目评选中，Nacos 被评为<strong>云原生领域人气指数 Top5 </strong>的项目，发布电子书《Nacos 架构与原理》<strong>6w+阅读，2w下载量</strong>，发布半年的时间里在阿里云藏经阁历史下载榜前十。Nacos 在社区共同的建设下不断成长，逐步的开始帮助用户解决实际问题，助力企业数字化转型，目前已经广泛的使用在国内的公司中，根据微服务领域调查问卷，Nacos 在注册配置中心领域已经成为国内首选，<strong>占有50%+国内市场份额</strong>，被头部企业广泛使用！</p><p><em>《2022中国开源发展蓝皮书》由中国开源软件推进联盟（COPU）牵头，联合中国开发者网络（CSDN）、北京开源创新委员会、开放原子开源基金会、中国电子信息产业发展研究院、中科院软件研究所等 85 家企业及行业机构、120 多位开源专家和志愿者共同协作编撰完成，旨在全面展现当前中国开源发展的全景图，为国家政府相关管理部门、科研院所、科技企业以及开源从业者提供更多的理论参考和数据支撑，进一步助力我国开源生态的蓬勃发展。</em></p><p>根据最近刚发布的《2022中国开源发展蓝皮书》报告中 <strong>Github中国项目活跃度TOP 20</strong>，<strong>Nacos 排名全国第六</strong>，作为基础类型云原生中间件，能有如此活跃度是非常不容易的，在上一年度《2021中国开源发展蓝皮书》中，Nacos 排名全国第十，也表现 Nacos 不仅仅维持高的项目活跃度，而且项目关注度和活跃度还在逐步提高。</p><p><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1841635/1660128326734-77c2a094-ec94-4af1-a75b-a0a53fdc6ec4.png#clientId=ueb02e93b-f556-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=535&amp;id=u47f643c7&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1178&amp;originWidth=1518&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=236968&amp;status=done&amp;style=none&amp;taskId=u4d6df18d-be84-4d38-93f2-2a962f874c9&amp;title=&amp;width=689.999985044653" alt="image.png" class="img_ev3q">
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1841635/1660128326737-122b53b1-ccb8-44f2-b065-30f17f8ef7d3.png#clientId=ueb02e93b-f556-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=300&amp;id=ueacbdce0&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=660&amp;originWidth=1506&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=137871&amp;status=done&amp;style=none&amp;taskId=u7d71e0c9-9383-4cbf-961a-10e20121db0&amp;title=&amp;width=684.5454397083317" alt="image.png" class="img_ev3q">
同时<strong>阿里巴巴在国内企业中开源影响力排行第一</strong>，在《2022中国开源发展蓝皮书》中介绍：“阿里巴巴是国内参与开源技术生态建设的企业典范。自2011年至今，阿里累计开源项目超过3000个，代表性的项目包括龙蜥操作系统、Apache RocketMQ、Apache Dubbo、Spring Cloud Alibaba、 Nacos、Seata、PolarDB-X、PolarDB for PostgreSQL等”。
<strong>Nacos 是阿里巴巴微服务领域开源你项目活跃度排行第一</strong>，也得益于开源协作模式，并且在Nacos中有大量国内外知名公司的核心贡献者，其中也包含就职在腾讯、华为、小米等等知名企业的同学，也正是社区整体的贡献者和用户在帮助 Nacos 成长，让 Nacos 逐步完善生态，支持几乎所有主流语言，整合更多开源生态，也正是用户和社区贡献者让Nacos为企业数字化转型首选产品。</p><p><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1841635/1660128326897-7ed32372-ee24-49b3-9d04-0dc212286f15.png#clientId=ueb02e93b-f556-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=502&amp;id=ubd55857f&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1104&amp;originWidth=2408&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=1103472&amp;status=done&amp;style=none&amp;taskId=u311192a3-cae9-43e6-825c-b7e317f32f8&amp;title=&amp;width=1094.5454308218211" alt="image.png" class="img_ev3q"></p><h1>Nacos 使用上的3点重要建议</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-版本选择">Nacos 版本选择<a href="#nacos-版本选择" class="hash-link" aria-label="Direct link to Nacos 版本选择" title="Direct link to Nacos 版本选择">​</a></h2><p>Nacos 经过4年的发展，目前在大版本演进上已经到了第二代 Nacos 架构，即 Nacos 2.x 版本，Nacos 2.x 版本是基于 Nacos 1.x 中用户反馈使用习惯以及产品演进方向而构建的产品能力，中间包含了比如一致性算法升级，对性能的 10 倍提升，以及支持插件化来满足社区的定制诉求。并且保障了很好的兼容性，在服务能力上 Nacos 2.x 是完全兼容 Nacos 1.x 的协议，也就是 Nacos 2.x 服务端是完全兼容Nacos 1.x的客户端。
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1841635/1660128326915-21ee9085-b47d-4126-a9e6-2b29642d3040.png#clientId=ueb02e93b-f556-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=685&amp;id=u1b918043&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1506&amp;originWidth=3510&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=653185&amp;status=done&amp;style=none&amp;taskId=u3d05de1e-ca37-460e-b2c3-493ce845509&amp;title=&amp;width=1595.4545108740003" alt="image.png" class="img_ev3q"></p><p>在基本能力上，Nacos 2.x 一致性协议复用了阿里在该领域最佳实践，以长连接为基础，减低通信损耗，基于Distro协议原有协议进行升级，在存储模型、保活模型上进行了重构，并且用推送机制代替了之前的轮训机制，进一步提升了产品的高可用以及稳定性，整体也复用了阿里百万实例的基础模型，在CAP理论基础上，根据场景来去选择最适合的协议，贴合场景来平衡一致性、高可用以及分区容灾，做到服务发现以及配置管理每个场景下，都做到稳定性、高可用、高性能的保障。</p><p><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1841635/1660128326737-0bcc637d-fb28-4d50-831d-0efe3bf2baa5.png#clientId=ueb02e93b-f556-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=702&amp;id=uc4858e76&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1544&amp;originWidth=3414&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=1949611&amp;status=done&amp;style=none&amp;taskId=u417b5c89-ea5d-4a63-a81b-e1830bae1ae&amp;title=&amp;width=1551.8181481834292" alt="image.png" class="img_ev3q">
在拓展能力上，Nacos 2.x版本开始支持插件化能力，基于插件化是更方便的支持用户各种场景，很多用户公司内部有完善的体系基于Nacos可以简单的改造就可以融合进入，在鉴权、配置加解密场景都可以做到按照用户需求进行定制，并且给出默认的开源实现供用户选择，加解密为例，开源给出的默认实现是基于AES，用户也可以进行自定义。并且目前数据库的插件已经在路上，后续还会在安全等更多方面支持可插拔的插件化能力。
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1841635/1660128329396-ed838e7b-23b3-4641-8d83-339621f3e7f6.png#clientId=ueb02e93b-f556-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=725&amp;id=u49cc077c&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1594&amp;originWidth=3516&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=765234&amp;status=done&amp;style=none&amp;taskId=uebe8a7d1-a137-49e9-a2c1-b43d15e84d1&amp;title=&amp;width=1598.181783542161" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-支持还能支持那些场景">Nacos 支持还能支持那些场景<a href="#nacos-支持还能支持那些场景" class="hash-link" aria-label="Direct link to Nacos 支持还能支持那些场景" title="Direct link to Nacos 支持还能支持那些场景">​</a></h2><p>Nacos基本核心能力是面向于整体分布式的服务注册与发现，以及分布式节点配置管理，使用领域可以说是非常广泛的，比较常用的包含，微服务领域、高可用领域、内容领域以及数据库领域等，目前在微服务领域Nacos基本能力使用最广，微服务领域定位在一站式解决了用户应用的寻址、流量、配置场景服务平台，在高可用领域Nacos积累了大量的经验，可以实现大量降级、容灾、多活的高可用场景，也可以支持内容分发以及数据库分库分表、主备切换等场景的基础能力，可以说分布式的场景下，基本都可以跟Nacos进行构建，也帮助业务后续拓展留足了准备。
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1841635/1660128329276-3018d13a-b48c-40c7-b849-91f8457b8150.png#clientId=ueb02e93b-f556-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=635&amp;id=ue5613a5e&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1398&amp;originWidth=3350&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=552128&amp;status=done&amp;style=none&amp;taskId=u4e44c983-d5f2-46f0-b0c8-81aff9737c1&amp;title=&amp;width=1522.7272397230486" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-排查问题最佳实践">Nacos 排查问题最佳实践<a href="#nacos-排查问题最佳实践" class="hash-link" aria-label="Direct link to Nacos 排查问题最佳实践" title="Direct link to Nacos 排查问题最佳实践">​</a></h2><p>注册配置中心在分布式节点交互中起着重要的作用，在业务分布式场景出现问题的时候需要快速进行诊断，判断是否是注册配置中心出现了问题，还是业务层的问题。</p><p><img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1841635/1660128330096-e0464b56-d248-4882-b6b0-7dfc97ef2d12.png#clientId=ueb02e93b-f556-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=637&amp;id=u044898a4&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1402&amp;originWidth=3288&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=586155&amp;status=done&amp;style=none&amp;taskId=udfffd8de-9024-48b2-9632-d3892d254b3&amp;title=&amp;width=1494.545422152055" alt="image.png" class="img_ev3q">
在注册中心中，服务发现是业务排查问题第一优先级需要定位的，服务发现具体对应的就是服务地址数据是否同步到了业务节点上，那在Nacos场景上，推送记录就是最关键的一个特性能力，这部分能力可以通过Nacos日志查询到，目前Nacos社区已经开始计划设计事件中心来支撑这部分能力，为了更好的演示，这里也通过阿里云微服务引擎MSE展现一下白屏化的推送轨迹能力，用户可以通过服务名称或者客户端IP，进行查询变更的时间以及变更的内容，就可以快速明确当前注册中心是否存在问题，并且能帮住业务进一步定位具体原因。
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1841635/1660128329802-c9b74139-1a26-4f5e-a87f-f7984eefd7dc.png#clientId=ueb02e93b-f556-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=672&amp;id=u2a11e04a&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1478&amp;originWidth=3444&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=1298759&amp;status=done&amp;style=none&amp;taskId=uc0445f1b-5b12-4665-8ddb-3af553555a5&amp;title=&amp;width=1565.4545115242327" alt="image.png" class="img_ev3q">
在配置中心链路，同样存在第一时间定位的问题，这里也通过阿里云微服务引擎MSE的最佳实践，推送轨迹能力展现排查的思路，可以通过配置名称或者订阅者客户端IP进行查询配置的变更时间，以及推送时间，以及推送内容MD5值进行匹配。
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1841635/1660128330232-5db3bdda-ff5d-4f33-81b8-f7380fda69f4.png#clientId=ueb02e93b-f556-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=565&amp;id=u66cb46ed&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1244&amp;originWidth=3442&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=898613&amp;status=done&amp;style=none&amp;taskId=u238152f1-f7bb-4ff7-bd9c-6abf9fbf49d&amp;title=&amp;width=1564.5454206348459" alt="image.png" class="img_ev3q">
并且在分布式配置管理领域，通过补全推送轨迹能力，加上已经支持的历史版本查询能力，可以帮助业务全流程的观测配置的生命周期。
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1841635/1660128330919-a9cd7ce7-71c6-4df5-b24d-e952787f31a8.png#clientId=ueb02e93b-f556-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=148&amp;id=ub13903d9&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=326&amp;originWidth=3452&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=109098&amp;status=done&amp;style=none&amp;taskId=ubf8f4f18-2f42-43bc-b309-8b3af2e9263&amp;title=&amp;width=1569.0908750817803" alt="image.png" class="img_ev3q">
关于注册配置中心排查问题的思路上，总结是两个重点，一是数据变更确认，二是快速确定关系并且进行恢复。大多数场景如果是业务变更引起的，一定要第一时间进行回顾变更，避免给业务带来问题。在稳定性要求比较高的领域，建议业务体系上面向1-5-10（故障1分钟发现，5分钟上线处理，10分钟恢复）建设稳定性，这部分也是比较通用的能力建设，这里就不进行详细拓展，后续有机会可以单独聊一下。</p><h1>Nacos 规划</h1><p>Nacos 已经经历了两个重要阶段，初创期和高速发展期，目前正处于被大规模使用的 Nacos 的第三阶段是成为基础设施，需要面向于基础设施进行演进，帮助企业数字化转型，深度的拥抱各个领域内的场景，并且更深度的帮助企业解决问题。Nacos 社区目前面向于第三阶段，开始筹备 Nacos 3.0 架构设计进行规划讨论，并且逐步开始进行落地。
目前针对 Nacos 3.0 的建设规划大图主要包含三部分，第一部分是开源品牌和社区的升级，主要是面向于社区建立更紧密的联系。第二部分是面向更多生态进行深度融合，包含K8S数据整合、以及多生态数据打通，第三部分是最基础的部分，产品能力升级，基于 Nacos2.x 的协议进行增强，并且支持统一控制面、多数据中心等基础能力，用于支撑 Nacos 3.0 生态建设以及品牌升级。
目前 Nacos 3.0 部分已经随着社区核心贡献者开展中，大多数还在规划阶段，后续会通过Github issues进行开放，随之会打上Nacos 3.0的标签，欢迎大家进行领取一起参与到Nacos 3.0的贡献。
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1841635/1660128331989-00a0bd06-65a9-45c9-9cbd-54f1c30a7f2b.png#clientId=ueb02e93b-f556-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=713&amp;id=ueaab6b3a&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1568&amp;originWidth=3260&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=541963&amp;status=done&amp;style=none&amp;taskId=u8e3272fe-5488-46b2-8489-54c8fd9074a&amp;title=&amp;width=1481.8181497006383" alt="image.png" class="img_ev3q"></p><h1>参与开源建议</h1><p>最后部分整合我个人意见，向没有参与过开源的同学给出一些参与开源的建议，首先我认为开源对于开发者以及社区贡献都是非常有益的，如果你有时间并且也想参与开源，那我建议你从以下四个步骤进行深入：
第一步找到自己感兴趣的方向，这个点比较重要，会影响你后续贡献的持久程度，当然这个也是在逐步摸索中的，不过如果对于方向确认好后，应对的产品列表选择就会比较明朗了，在这个步骤考虑兴趣是我首要建议的，其次我建议，也可以考虑当前项目一些详细信息，重点考虑是否能帮助个人把价值的放大，使用范围越广的项目就越能让你的贡献在社会价值放大，也正向会提高成就感。
第二步是熟悉项目和产品，找到了方向和项目之后，就可以开始着手熟悉当前产品的细节，熟悉当前项目的运营机制，以及面向于产品开始接触对应领域问题，领域问题最后会沉淀成为你对这个领域的经验。
第三步其实就可以贡献开源了，这一个步骤其实面向于前两步骤是可以适当提前并行做，关键是从小问题入手做起，这样可以帮助你在前两个步骤中更快的找到感觉，也能从小问题开始帮助他人，在社区中建立个人影响力。
第四步其实是水到渠成的，面向于活跃的社区，当你足够熟悉该领域该产品之后，有了足够的贡献，就会在开源中逐步主导社区的决策，也能在社区中帮助更多的人发展共建。
<img loading="lazy" src="https://cdn.nlark.com/yuque/0/2022/png/1841635/1660128332043-0226d126-4ed8-4881-a36b-a9e3cffba02d.png#clientId=ueb02e93b-f556-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=642&amp;id=u502fa610&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1412&amp;originWidth=3312&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=588596&amp;status=done&amp;style=none&amp;taskId=u2afc3cd2-dd40-4145-a6e4-cc1ec7289de&amp;title=&amp;width=1505.4545128246978" alt="image.png" class="img_ev3q">
上边是对个人贡献开源产品流程建议，适用于大多数开源项目的贡献。额外在开源上我觉得Nacos是不错的选择，首先产品定位是比较基础，能帮助开发者沉淀更通用的领域能力，社区活跃度能保持全国第六，并且在微服务领域已经被广泛使用，能帮助个人很好的放大价值。
再就是Nacos的熟悉产品也会比较简单，Nacos.io 官网可以帮助你快速入门，也有Nacos电子书免费下载帮助你深度了解Nacos架构设计。贡献开源上可以从Nacos社区仓库中 good first issues开始，跟着产品演进的方向，从小事开始在社区中发声，最后在Nacos社区有很多核心模块需要主导者，并且在社区中成为核心贡献者有社区投票权利，主导未来Nacos发展方向，并且作为社区核心成员，会有很多线上线下分享的机会，帮助个人以及企业建立更多社会影响力。总之在开源领域其实只要你愿意熟悉，一定会有所收获，祝愿每一位开发者在自己喜欢的领域能做出你想要的产品。最后感谢Nacos开源社区每一位同学！</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="欢迎在校同学们参与Nacos开源之夏，社区导师手把手让**你的代码被社会广泛复用，来赚取最高12000奖金，可**推荐入职/实习你心意公司，**又拿钱又成长又有价值**，你还等什么呢？报名马上截止，快来参与Nacos开源之夏。"><meta itemprop="keywords" content="Nacos,开源之夏，summerCode"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/iscas2022">Nacos开源之夏，贡献社区赢取12000奖金</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-16T00:00:00.000Z" itemprop="datePublished">May 16, 2022</time> · <!-- -->7 min read</div></header><div class="markdown" itemprop="articleBody"><p>欢迎在校同学们参与Nacos开源之夏，社区导师手把手让<strong>你的代码被社会广泛复用，来赚取最高12000奖金，可</strong>推荐入职/实习你心意公司，<strong>又拿钱又成长又有价值</strong>，你还等什么呢？报名马上截止，快来参与Nacos开源之夏。</p><h1>开源之夏是什么？</h1><p>开源之夏是由“开源软件供应链点亮计划”发起并长期支持的一项暑期开源活动，旨在鼓励<strong>在校学生</strong>积极参与开源软件的开发维护，促进优秀开源软件社区的蓬勃发展，培养和发掘更多优秀的开发者。
活动联合国内外各大开源社区，针对重要开源软件的开发与维护提供项目任务，并面向全球高校学生开放报名。
学生可在本活动中自主选择感兴趣的项目任务进行申请，并在中选后获得该开源项目资深维护者（社区导师）亲自指导的机会，完成项目并贡献给社区后，参与学生还将获得开源之夏<strong>活动奖金</strong>和结项证书。</p><h1>Nacos&amp;开源之夏2022</h1><p>Nacos被评为2021Github年度<strong>全国社区活跃度第六</strong>，Nacos开源产品定位是更易于构建云原生应用的动态服务发现、配置管理和服务管理平台，用云原生方式解决分布式领域核心问题。
自2018年孵化并开源以来，共收获<strong>21.8K的star</strong>数，<strong>9.5K的Fork</strong>数，在开源中国发布的 2021 年度 OSC 中国开源项目评选中，Nacos 被评为<strong>云原生领域人气指数 Top5 </strong>的项目，发布电子书《Nacos 架构与原理》阅读量近<strong>10W+</strong>，现已被大量微服务架构的软件公司选型作为其服务注册与发现中心。目前在国内服务注册中心及配置管理领域中<strong>市场占有率排名第一</strong>。
此次Nacos社区开放的题目中包含了Nacos第三代架构的部分核心功能模块，将直接参与社区的核心功能，欢迎进入Nacos开源之夏参与Nacos3.0的建设，为未来五年开源微服务发展奠定基础。</p><h1>参与Nacos开源之夏条件</h1><ul><li>本活动面向年满 18 周岁在校学生。</li><li>暑期即将毕业的学生，只要在申请时学生证处在有效期内，就可以提交申请。</li><li>海外学生可提供录取通知书、学生卡、在读证明等文件用于证明学生身份。</li></ul><h1>参与Nacos开源之夏，你能获得什么？</h1><ol><li><strong>【你的代码被社会广泛复用】</strong>你的代码可能会运行在上万家企业核心业务逻辑中，帮助企业解决问题。</li><li><strong>【赢得最高12000奖金】</strong>奖金总额根据项目难度分为进阶 12000 元、基础 8000 元（注：奖金数额为税前人民币金额）</li><li><strong>【社区核心人员辅导快速成长】</strong>只要你报名被选中，每个题目的导师会精心手把手教你融入社区，帮助你完成题目的设计以及最终的落地。</li><li><strong>【推荐入职/实习】</strong>在本次编程之夏项目中表现优秀同学，可推荐入职/实习 你心意的公司工作。</li><li><strong>【额外获得社区礼包】</strong>所有参与本次编程之夏项目的同学，均可获得Nacos社区大礼包。</li></ol><p><strong>百分百有奖品拿哦</strong>，现在唯一的问题是时间不多了，赶紧上车报名，截止报名时间是6月4日，6个核心题目，快点来报名参与Nacos编程之夏吧。</p><h1>报名方式</h1><p>点开Nacos开源之夏的<a href="https://summer-ospp.ac.cn/#/org/orgdetail/ab188e59-fab8-468f-bc89-bdc2bd8b5e64/" target="_blank" rel="noopener noreferrer">链接</a> 选择你喜欢的题目，Nacos社区围绕Nacos第三代架构精心计划了题目包含 “服务网格生态”、“多数据源建设”、“CoreDNS支持”、“K8S元数据同步”、“Nacos2.X建设”等技术方向展开。进行报名。
具体流程请参考<a href="https://summer-ospp.ac.cn/#/org/orgdetail/ab188e59-fab8-468f-bc89-bdc2bd8b5e64/" target="_blank" rel="noopener noreferrer">学生指南</a>访问可能会比较慢，请多等一下）
请注意找导师沟通截止流程时间，优先更导师沟通，能帮助你更好的了解题目。
想要报名的同学，请用钉钉扫码加入Nacos开源之夏2022钉钉群，方便大家交流题目内容。
<img loading="lazy" src="https://intranetproxy.alipay.com/skylark/lark/0/2022/png/11189/1652672158622-1a7de1a7-71da-4e80-aae9-13c6e5da821a.png#clientId=u35054081-9c85-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=617&amp;id=u3760c18e&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1632&amp;originWidth=1180&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=567452&amp;status=done&amp;style=none&amp;taskId=uef4eb68f-7e3e-4666-9a58-75d730e5cee&amp;title=&amp;width=446" alt="image.png" class="img_ev3q"></p><h1>参考资料</h1><p>Nacos Github：<a href="https://github.com/alibaba/nacos" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/nacos</a>
Nacos 官网：<a href="http://nacos.io" target="_blank" rel="noopener noreferrer">http://nacos.io</a>
为了让同学们更好地了解Nacos，我们提供了<a href="https://www.yuque.com/nacos/ebook" target="_blank" rel="noopener noreferrer">电子书</a>供大家阅读学习
对于微服务分布式事务有兴趣的同学，可以尝试填报<a href="https://mp.weixin.qq.com/s?__biz=Mzg2MTI2NDk2OQ==&amp;tempkey=MTE2NV9GNy9EWjczbFo5MkFoUCtXNWxnSEVlOXVicGREUHdDQXRVSW5NcTIwSWlhdE5BN2ltQUdBZWJNY050dzBaYXNKY0tBY1NEQ0VVbXpDNE9FMmg0eDBjUlZ0YWtlQ2lyZ2xrZEFfa0drQVFnaXRNUnYwSmZtMHZTTG0wRWdieTJwd3E2dlpTNE5EQzd0V0xiMlhEcjZSMl91WXB5by1Eb3ViX1VSektnfn4%3D&amp;chksm=4e188949796f005f87426542ac16c92bcdbb1248e8e9037afce0578920abd2dbf50d70553d5f&amp;mpshare=1&amp;srcid=0516E1M5ZS8oOWMl6bsdw8y0&amp;sharer_sharetime=1652684375116&amp;sharer_shareid=8056836193d95a1bb0631fa63ab5cc6a&amp;from=singlemessage&amp;scene=1&amp;subscene=10000&amp;clicktime=1652684382&amp;enterid=1652684382&amp;sessionid=0&amp;ascene=1&amp;realreporttime=1652684382988&amp;forceh5=1&amp;devicetype=android-30&amp;version=280016f8&amp;nettype=WIFI&amp;abtest_cookie=AAACAA%3D%3D&amp;lang=zh_CN&amp;exportkey=Af09sJIUNjyWxPx5MSjG0ws%3D&amp;pass_ticket=Ya0UtGtqSRfT4xcALdBO4s67oKTP%2FA3goUGjkSf4jSEBSJD%2FW0YVQqHwZQ5v0D%2FY&amp;wx_header=3" target="_blank" rel="noopener noreferrer">Seata开源之夏</a> 参与开源之夏
 </p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Nacos 2.1.0版本发布，支持鉴权及加解密插件"><meta itemprop="keywords" content="2.1.0"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/2.1.0-release">Nacos 2.1.0版本发布，支持鉴权及加解密插件</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-04-29T00:00:00.000Z" itemprop="datePublished">April 29, 2022</time> · <!-- -->12 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="210">2.1.0<a href="#210" class="hash-link" aria-label="Direct link to 2.1.0" title="Direct link to 2.1.0">​</a></h2><p>在社区和开源之夏的导师同学的共同努力下，2.1.0版本的主要目标已经基本完成，经过了近1个月的Beta测试后，在51劳动节，Nacos社区发布2.1.0版本作为给所有社区参与者的劳动节礼物。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="新版本内容">新版本内容<a href="#新版本内容" class="hash-link" aria-label="Direct link to 新版本内容" title="Direct link to 新版本内容">​</a></h3><p>2.1.0版本主要增加了认证插件和配置加密插件能力。 并关闭默认支持服务端从 1.X 版本升级的能力，若需要使用平滑升级能力，需要在配置文件中开启此功能。
对于客户端，此版本重构了类扫描逻辑并删除了 org.reflections 依赖，以解决 org.reflections 冲突时的不兼容问题。
最后，这个版本做了一些控制台优化并修复了 2.0.4 中发现的一些问题。
详细变更日志如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">## Features</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5695] Add a plugin SPI for configuration encryption and decryption for Nacos 2.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5696] Add a plugin SPI for authentication for Nacos 2.0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7930] Default close support upgrade from 1.X feature.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7992] Support cluster grpc client to set thread pool size.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8220] Add reset raft cluster operation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Enhancement &amp; Refactor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7487] Add generics for the CacheBuilder.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7879] Refactor destroy method of AbstractMemberLookup.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7924][#8214] Add ldap auth plugin.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7952] Ignore read request for raft follower&#x27;s state machine to enhance raft stability.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7966] Add more information in Auth/Distro/Curcuit-Filter when cause some server error.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7971] Stop version judge Task and release thread after upgrade completely.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8072] Enhance memory cost in DistroProtocol initialization.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8107] Enhance console change password operation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8156] Support js and css of console auto-upgrade. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## BugFix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#1717][#7359] Fix XSS vulnerabilities.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6273] Fix loop request for offline server nodes API.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6999] Fix Nacos client does not support logback overload log configuration.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7757] Fix jraft read request deserialize to write request problem. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7780] Fix config a-b-a problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7941] Fix version comparison error in Config Detail page.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8087] Fix text out of box in configuration manager.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8108] Fix throw NPR for health check for v2.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8050] Fix configuration about Distro changes could not take effect.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8161] Fix console can&#x27;t use relative path problem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8163] Fix multi-instance share the same local snapshot.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8196] Fix subscriber api without count when the query number is more than subscriber count.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Dependency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7758] Update module nacos-consistency protobuf-maven-plugin version to 0.6.1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#7886] Enhance package scan logic and remove org.reflections dependency.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#4981] Add much unit test.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#8009] Fix NPE of unit test. </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="插件化">插件化<a href="#插件化" class="hash-link" aria-label="Direct link to 插件化" title="Direct link to 插件化">​</a></h3><p>支持插件化是2.1.0版本的主要改动之一。Nacos通过<a href="https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html" target="_blank" rel="noopener noreferrer">SPI</a> 的方式，允许用户和开发者实现自己的对应功能插件使用；目前Nacos已经支持鉴权和加解密的插件化能力。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="鉴权">鉴权<a href="#鉴权" class="hash-link" aria-label="Direct link to 鉴权" title="Direct link to 鉴权">​</a></h4><p>自从Nacos 1.2 版本加入鉴权功能后，社区对鉴权功能的讨论一直持续。原因是Nacos目前的鉴权系统设计为防止错用及用户隔离。但社区中对鉴权能力的要求不局限于此，为了满足不同的用户对鉴权程度的不同要求。Nacos社区希望设计一套用于鉴权的API，并将其注入到网络请求的流程中。
Nacos目前的鉴权实现也已经重构成默认的鉴权插件，社区所贡献的LADP也已改造完成，使用方式和以前一致；如果需要开发自定义的鉴权插件，可以参考文档<a href="https://nacos.io/zh-cn/docs/auth-plugin.html" target="_blank" rel="noopener noreferrer">鉴权插件</a>实现。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="加解密">加解密<a href="#加解密" class="hash-link" aria-label="Direct link to 加解密" title="Direct link to 加解密">​</a></h4><p>在Nacos社区中，许多用户关注配置中某些敏感信息的安全性问题。除了通过鉴权，社区也希望能对配置内容中的敏感信息进行加密。由于用户和开发者所使用或对接的算法和加解密系统可能不同，因此Nacos社区设计了一套用于加解密的API，并将其注入到发布和查询配置的工作流程中。 更多加解密插件的细节可以参考文档<a href="https://nacos.io/zh-cn/docs/config-encryption.html" target="_blank" rel="noopener noreferrer">配置加密插件</a>。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="默认关闭兼容1x服务端升级">默认关闭兼容1.X服务端升级<a href="#默认关闭兼容1x服务端升级" class="hash-link" aria-label="Direct link to 默认关闭兼容1.X服务端升级" title="Direct link to 默认关闭兼容1.X服务端升级">​</a></h3><p>默认关闭支持服务端从 1.X 版本升级的能力是Nacos2.1.0版本的另一个重要改动。在2.0.X版本中，数据结构进行了一些重新设计，导致和1.X的数据无法直接兼容，为了方便社区用户从1.X平滑升级到Nacos2.0版本，Nacos2.0版本除了兼容1.X的openAPI外，还新增了双写数据等逻辑；但这部分逻辑对系统资源有较大的损耗，并且由于机制较为复杂，导致部分直接使用2.0版本的用户可能会遇到一些版本切换的疑问。因此在Nacos2.1版本中，我们默认关闭了兼容1.X服务端平滑升级能功能，关闭该功能后直接部署2.1版本将不会再从1.X模式进行检测和升级，而是直接运行在2.X的数据模式下，同时也支持2.0版本直接升级2.1版本。
若是希望从Nacos1.X直接升级到Nacos2.1.0版本，则需要在application.properties文件中设置配置<code>nacos.core.support.upgrade.from.1x=true</code>，此时Nacos2.1版本会和Nacos2.0版本一样，以1.X的数据模式启动，并开始自动升级检测，待全集群数据一致，且准备完毕后，切换至2.0数据模式，更多升级相关的内容，请参考文档<a href="https://nacos.io/zh-cn/docs/2.0.0-upgrading.html" target="_blank" rel="noopener noreferrer">升级文档</a>。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="社区">社区<a href="#社区" class="hash-link" aria-label="Direct link to 社区" title="Direct link to 社区">​</a></h2><p>在过去的一年里，社区内涌现出大量优秀的贡献者，他们为Nacos社区持续不断的注入活力和内容；正是有你们的关注和贡献，Nacos才能在2021年获得开源中国最受欢迎项目的奖项，在此郑重感谢去年参与社区贡献的Contributor，Committer和PMC同学，以及其他通过各种方式参与到社区的同学。
感谢同学们的持续贡献，正是有了大家的共同努力，Nacos才能变得越来越完善。
<img loading="lazy" alt="OSCHINA-Nacos.jpg" src="/en/assets/images/OSCHINA-Nacos-c0f45767945adb99c40d288571859928.jpg" width="425" height="374" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="新pmccommitter">新PMC&amp;Committer<a href="#新pmccommitter" class="hash-link" aria-label="Direct link to 新PMC&amp;Committer" title="Direct link to 新PMC&amp;Committer">​</a></h3><p>Nacos社区新晋级了一位PMC同学和两位Committer同学。
来自滴滴出行的<a href="https://github.com/sanxun0325" target="_blank" rel="noopener noreferrer">sanxun0325</a>同学作为Nacos，Dubbo Go，Sentinal的Committer，在社区十分活跃，在过去的2021年也是为Nacos社区的go-sdk做出了大量贡献，并主导着Nacos-go-sdk社区的发展；因此提名为Nacos社区的PMC。</p><p>另外，来自微众银行<a href="https://github.com/MajorHe1" target="_blank" rel="noopener noreferrer">MajorHe1</a>和小米科技<a href="https://github.com/hujun-w-2" target="_blank" rel="noopener noreferrer">hujun-w-2</a>同学，鉴于持续的大量社区贡献，经社区PMC及Committer的投票表决，提名为Nacos社区的Committer，希望二位能继续保持活跃，为Nacos社区添砖加瓦。</p><table><thead><tr><th><img loading="lazy" alt="MajorHe1-committer.jpg" src="/en/assets/images/MajorHe1-committer-4038e3a71272e268c19a01ce28f8c42a.jpg" width="1280" height="960" class="img_ev3q"></th><th><img loading="lazy" alt="hujun-w-2-committer.jpg" src="/en/assets/images/hujun-w-2-committer-08d24acd7489c375fc46b90cd39eed9e.jpg" width="1280" height="960" class="img_ev3q"></th></tr></thead></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="年度优秀committer">年度优秀Committer<a href="#年度优秀committer" class="hash-link" aria-label="Direct link to 年度优秀Committer" title="Direct link to 年度优秀Committer">​</a></h3><p>2021年度，Nacos社区有许多Committer利用自己的业余时间，持续的贡献者Nacos社区。为了感谢，Nacos社区评选出了12位2021年度优秀Committer，并特意制作了奖杯及卫衣，希望在2022年度，仍然能看到你们的身影。
这12位优秀Committer分别是（根据字母顺序）：</p><ul><li><a href="https://github.com/brotherlu-xcq" target="_blank" rel="noopener noreferrer">brotherlu-xcq</a></li><li><a href="https://github.com/catcherwong" target="_blank" rel="noopener noreferrer">catcherwong</a></li><li><a href="https://github.com/haoyann" target="_blank" rel="noopener noreferrer">haoyann</a></li><li><a href="https://github.com/horizonzy" target="_blank" rel="noopener noreferrer">horizonzy</a></li><li><a href="https://github.com/KomachiSion" target="_blank" rel="noopener noreferrer">KomachiSion</a></li><li><a href="https://github.com/li-xiao-shuang" target="_blank" rel="noopener noreferrer">li-xiao-shuang</a></li><li><a href="https://github.com/paderlol" target="_blank" rel="noopener noreferrer">paderlol</a></li><li><a href="https://github.com/realJackSun" target="_blank" rel="noopener noreferrer">realJackSun</a></li><li><a href="https://github.com/sanxun0325" target="_blank" rel="noopener noreferrer">sanxun0325</a></li><li><a href="https://github.com/shiyiyue1102" target="_blank" rel="noopener noreferrer">shiyiyue1102</a></li><li><a href="https://github.com/TTTTTAAAAAKKKKEEEENNNN" target="_blank" rel="noopener noreferrer">TTTTTAAAAAKKKKEEEENNNN</a></li><li><a href="https://github.com/xuechaos" target="_blank" rel="noopener noreferrer">xuechaos</a></li></ul><p>没有被选中的Committer同学也不要担心，2022年度我们仍然会保持这个活动，希望2022年度优秀Committer有你们的名字。
<img loading="lazy" alt="2021-committer-rewards.JPG" src="/en/assets/images/2021-committer-rewards-b1f798cc68b22efce3354e422840fe7a.JPG" width="567" height="756" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="贡献者激励活动">贡献者激励活动<a href="#贡献者激励活动" class="hash-link" aria-label="Direct link to 贡献者激励活动" title="Direct link to 贡献者激励活动">​</a></h3><p>相信很多贡献者都已经收到了Nacos寄出的小礼物了，此类的活动Nacos社区会持续进行，只需要您持续关注社区，积极参与社区共建，就能够获得哦。
<img loading="lazy" alt="Nacos-cup.jpg" src="/en/assets/images/Nacos-cup-4921e262dbf2a53cb64dc3096f5b454f.jpg" width="425" height="567" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="代码贡献活动">代码贡献活动<a href="#代码贡献活动" class="hash-link" aria-label="Direct link to 代码贡献活动" title="Direct link to 代码贡献活动">​</a></h4><p>Nacos社区预计在7月会再次进行贡献者的激励活动，届时会统计并评选出数十位2022年7月前较为活跃的贡献者（不仅是Nacos的主干仓库，也包含了nacos-group下的各个仓库），并寄出新的社区纪念礼品；下期的贡献者礼品是雨伞，赶紧进行贡献获取吧。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="优秀社区文章活动">优秀社区文章活动<a href="#优秀社区文章活动" class="hash-link" aria-label="Direct link to 优秀社区文章活动" title="Direct link to 优秀社区文章活动">​</a></h4><p>Nacos社区的贡献并不只包含代码，社区也欢迎广大用户或开发者发表技术文章来和大家分享关于Nacos的技术心得；其中包括但不限于：Nacos的应用、源码解析、产品融合和社区合作等。欢迎大家提交文章到Nacos官方文档的博客栏目中，或发布在自己的微信公众号及博客中；对于优秀的社区文章，Nacos社区会收录到博客栏目及阿里开源的官方网站中，并会给文章作者寄送相应的礼物。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="开源之夏2022">开源之夏2022<a href="#开源之夏2022" class="hash-link" aria-label="Direct link to 开源之夏2022" title="Direct link to 开源之夏2022">​</a></h4><p>在2021年，Nacos社区参与了由ISCAS（中国科学院软件研究所）和openEuler社区托管的开源之夏2021活动，在导师、高校同学和主办方的共同努力下，完成了数个意义非凡的课题，其中就包括本次发版中最关键的两个改动：鉴权插件及配置加密插件。
今年，开源之夏2022如期而至，Nacos社区也再次参与活动，并制定了6个课题，欢迎关注<a href="https://summer-ospp.ac.cn/nacos.io" target="_blank" rel="noopener noreferrer">开源之夏2022</a> ，参与Nacos的开源之夏2022。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="about-nacos">About Nacos<a href="#about-nacos" class="hash-link" aria-label="Direct link to About Nacos" title="Direct link to About Nacos">​</a></h3><p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。
Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Current documentation describes how to install a high availability Nacos cluster with one click through Rainbond, a cloud native application management platform."><meta itemprop="keywords" content="nacos,kubernetes,rainbond,cloudnative"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/use-nacos-with-rainbond">Install the HA Nacos cluster in Rainbond with one-click</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-03-16T00:00:00.000Z" itemprop="datePublished">March 16, 2022</time> · <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><p>Current documentation describes how to install a high availability <a href="https://nacos.io" target="_blank" rel="noopener noreferrer">Nacos</a> cluster with one-click through <a href="https://www.rainbond.com/?channel=nacos" target="_blank" rel="noopener noreferrer">Rainbond</a>, a cloud native application management platform. This approach is suitable for users who are less familiar with Kubernetes, containerization and other complex technologies, and lowers the barrier to deploying Nacos in Kubernetes.</p><h1>Background</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="combination-of-rainbond-and-nacos">Combination of Rainbond and Nacos<a href="#combination-of-rainbond-and-nacos" class="hash-link" aria-label="Direct link to Combination of Rainbond and Nacos" title="Direct link to Combination of Rainbond and Nacos">​</a></h2><p>Rainbond is an easy to use open source cloud native application management platform. With the help of it, users can complete the deployment, operation and maintenance of microservices in a graphical interface. With the help of Kubernetes and containerization technology, automatic operation and maintenance capabilities such as fault self-healing and elastic expansion can be endowed to users&#x27; applications.</p><p>Rainbond has a built-in native Service Mesh microservice framework, and also has a good integration experience with other microservice frameworks such as Spring Cloud and Dubbo. Therefore, a large number of Rainbond users may also be users of the Nacos microservices registry. Instead of worrying about how to deploy a Nacos cluster, the Rainbond team made Nacos a one-click application template for free download and installation by open source users. This installation method greatly reduces the deployment burden of users using Nacos clusters. Currently, versions 1.4.2 and 2.0.4 are supported.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="about-application-template">About application template<a href="#about-application-template" class="hash-link" aria-label="Direct link to About application template" title="Direct link to About application template">​</a></h2><p>Application template is package manager for Rainbond cloud native application management platform. Users can install applications into Rainbond with one-click. No matter how complex the application is, the application template abstracts it into an package, which is installed with docker images of all the components, configuration information, and relationships between all the components.</p><h1>Prerequisite</h1><ul><li><p>Deployed Rainbond cloud native application management platform,<a href="https://www.rainbond.com/docs/quick-start/quick-install/?channel=nacos" target="_blank" rel="noopener noreferrer">Quick Start</a> Can run in a PC within a container.</p></li><li><p>Internet connection.</p></li></ul><h1>Quick Start</h1><ul><li><strong>Access the built-in open source app store</strong></li></ul><blockquote><p>Select the <strong>App Store</strong> on the left, switch to the <strong>Open Source App Store</strong>, and search <strong>nacos</strong> to find the Nacos-cluster application.</p></blockquote><p><img loading="lazy" src="https://static.goodrain.com/wechat/nacos-cluster/nacos-cluster-1.png" alt="nacos-1" class="img_ev3q"></p><ul><li><strong>One-click install</strong></li></ul><blockquote><p>Click <strong>Install</strong> on the right of nacos-Cluster to enter the installation page. After filling in simple information, click <strong>OK</strong> to start the installation, and the page automatically jumps to the topology view.</p></blockquote><p><img loading="lazy" src="https://static.goodrain.com/wechat/nacos-cluster/nacos-cluster-2.png" alt="nacos-2" class="img_ev3q"></p><p>Parameters：</p><table><thead><tr><th>Options</th><th>Instructions</th></tr></thead><tbody><tr><td>团队名称</td><td>User-defined workspace isolated by namespace</td></tr><tr><td>集群名称</td><td>Select which K8s cluster Nacos will be deployed to</td></tr><tr><td>选择应用</td><td>Select the application to which Nacos will be deployed, which contains several associated components</td></tr><tr><td>应用版本</td><td>Select the version of Nacos, the useable versions are 1.4.2 and 2.0.4</td></tr></tbody></table><p>After a few minutes, the Nacos cluster is installed and up and running.</p><p><img loading="lazy" src="https://static.goodrain.com/wechat/nacos-cluster/nacos-cluster-3.png" alt="nacos-3" class="img_ev3q"></p><ul><li><strong>Testing</strong></li></ul><p>Other microservice components that need to perform service registration can connect to the Nacos cluster using <code>${NACOS_HOST}:${NACOS_PORT}</code> after built <a href="https://www.rainbond.com/docs/use-manual/user-manual/component-connection/regist_and_discover" target="_blank" rel="noopener noreferrer">dependencies</a> to Nacos.</p><ul><li><p><strong>Service registration</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -X PUT </span><span class="token string" style="color:#e3116c">&quot;http://</span><span class="token string variable" style="color:#36acaa">${NACOS_HOST}</span><span class="token string" style="color:#e3116c">:</span><span class="token string variable" style="color:#36acaa">${NACOS_PORT}</span><span class="token string" style="color:#e3116c">/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;ip=20.18.7.10&amp;port=8080&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><strong>Service discovery</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -X GET </span><span class="token string" style="color:#e3116c">&quot;http://</span><span class="token string variable" style="color:#36acaa">${NACOS_HOST}</span><span class="token string" style="color:#e3116c">:</span><span class="token string variable" style="color:#36acaa">${NACOS_PORT}</span><span class="token string" style="color:#e3116c">/nacos/v1/ns/instance/list?serviceName=nacos.naming.serviceName&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><strong>Publish config</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -X POST </span><span class="token string" style="color:#e3116c">&quot;http://</span><span class="token string variable" style="color:#36acaa">${NACOS_HOST}</span><span class="token string" style="color:#e3116c">:</span><span class="token string variable" style="color:#36acaa">${NACOS_PORT}</span><span class="token string" style="color:#e3116c">/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;group=test&amp;content=helloWorld&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><strong>Get config</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -X GET </span><span class="token string" style="color:#e3116c">&quot;http://</span><span class="token string variable" style="color:#36acaa">${NACOS_HOST}</span><span class="token string" style="color:#e3116c">:</span><span class="token string variable" style="color:#36acaa">${NACOS_PORT}</span><span class="token string" style="color:#e3116c">/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;group=test&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h1>Advanced</h1><ul><li>The one-click installation of the Nacos cluster contains three instances, and the self-organizing and electing of the cluster is done automatically by initContailer.</li></ul><p><img loading="lazy" src="https://static.goodrain.com/wechat/nacos-cluster/nacos-cluster-4.png" alt="nacos-4" class="img_ev3q"></p><ul><li>Mysql is integrated as the data source by default. You can switch to other external data sources by configuring the following environment variables in the <strong>Nacos-server-2.0.4</strong> component&#x27;s environment configuration.</li></ul><table><thead><tr><th>Name</th><th>Necessary</th><th>Description</th></tr></thead><tbody><tr><td><code>MYSQL_SERVICE_HOST</code></td><td>Y</td><td>Database address</td></tr><tr><td><code>MYSQL_SERVICE_PORT</code></td><td>Y</td><td>Database port</td></tr><tr><td><code>MYSQL_SERVICE_USER</code></td><td>Y</td><td>Database username</td></tr><tr><td><code>MYSQL_SERVICE_PASSWORD</code></td><td>Y</td><td>Database password</td></tr><tr><td><code>MYSQL_SERVICE_DB_NAME</code></td><td>Y</td><td>Database name</td></tr></tbody></table><ul><li><strong>Nacos-server-2.0.4</strong> data persistence directory is generated by default.</li></ul><p><img loading="lazy" src="https://static.goodrain.com/wechat/nacos-cluster/nacos-cluster-5.png" alt="nacos-5" class="img_ev3q"></p><ul><li>By default, the health check mechanism of <strong>Nacos-server-2.0.4</strong> is configured to ensure that instances are automatically offline when faults occur and online after recovery.</li></ul><p><img loading="lazy" src="https://static.goodrain.com/wechat/nacos-cluster/nacos-cluster-6.png" alt="nacos-6" class="img_ev3q"></p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="This article introduces the basic concepts of Apache APISIX and Nacos and Service Registry, and shows you the specific operation of Apache APISIX to realize service discovery based on Nacos."><meta itemprop="keywords" content="Apache APISIX"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/apisix">Apache APISIX Realizes Service Discovery Based on Nacos</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-02-22T00:00:00.000Z" itemprop="datePublished">February 22, 2022</time> · <!-- -->7 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apache-apisix-introduction">Apache APISIX Introduction<a href="#apache-apisix-introduction" class="hash-link" aria-label="Direct link to Apache APISIX Introduction" title="Direct link to Apache APISIX Introduction">​</a></h2><p><strong>Apache APISIX</strong> is a dynamic, real-time, high-performance API gateway.</p><p>APISIX provides rich traffic management features such as load balancing, dynamic upstream, canary release, circuit breaking, authentication, observability, and more. Apache APISIX not only has many practical plug-ins, but also supports plugin dynamic change and Hot-loading.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-introduction">Nacos Introduction<a href="#nacos-introduction" class="hash-link" aria-label="Direct link to Nacos Introduction" title="Direct link to Nacos Introduction">​</a></h2><p>Nacos is an easy-to-use, open source platform for dynamic service discovery, service configuration and service management.  It provides a set of simple and useful features enabling you to realize dynamic service discovery, service configuration, service metadata and traffic management. Nacos makes it easier and faster to construct, deliver and manage your microservices platform. It is the infrastructure that supports a service-centered modern application architecture with a microservices or cloud-native approach.</p><h1>Service Registry</h1><p>Service Registry is the core component of service management, similar to the role of directory service, and one of the most basic facilities in the microservices architecture. It is mainly used to store service information, such as service provider URL, routing information, and so on. The service registry is implemented by mapping complex service-side information to simple and understandable information for the client.</p><p>The core functions of the Service Registry are as follows:</p><ul><li><p>Service registration: Service providers register with the Service Registration Center.</p></li><li><p>Service discovery: Service consumers can find the call routing information of service providers through the registry.</p></li><li><p>Health check: Ensure that service nodes registered with the service registry can be invoked normally, and avoid the waste of call resources caused by invalid nodes.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-do-you-need-a-service-registry">Why do you need a service registry?<a href="#why-do-you-need-a-service-registry" class="hash-link" aria-label="Direct link to Why do you need a service registry?" title="Direct link to Why do you need a service registry?">​</a></h2><p>The registry is essentially to decouple service providers and service consumers. In the microservice system, each business service will call each other frequently, and the IP, port and other routing information of each service need to be managed uniformly. But how do you manage it? You can provide information about existing services to a unified service registry for management through the Service Registration function of the Service Registry.</p><p>From the above description, you can know that the registry can help users quickly find services and service addresses through mapping. As business updates iterate, services change frequently. Clients can still pull a list of services through the service discovery function of the registry after registering new services or service downtime on the service side. If the service node of the registry changes, the registry sends a request to notify the client to pull again.</p><p>If the service on the server side suddenly goes down and there is no feedback to the service registry, the client can show the service side its service status by actively reporting the heartbeat at regular intervals through the health check function of the service registry. If the service status is abnormal, the service registry will be notified, and the service registry can remove the down service nodes in time to avoid waste of resources.If the service on the server side suddenly goes down and there is no feedback to the service registry, the client can show the service side its service status by actively reporting the heartbeat at regular intervals through the health check function of the service registry. If the service status is abnormal, the service registry will be notified, and the service registry can remove the down service nodes in time to avoid waste of resources.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-application-scenarios-does-apache-apisix--nacos-provide-for-users">What application scenarios does Apache APISIX + Nacos provide for users?<a href="#what-application-scenarios-does-apache-apisix--nacos-provide-for-users" class="hash-link" aria-label="Direct link to What application scenarios does Apache APISIX + Nacos provide for users?" title="Direct link to What application scenarios does Apache APISIX + Nacos provide for users?">​</a></h2><p>Apache APISIX + Nacos can centralize business-independent control of each microservice node into Apache APISIX for unified management, that is, the ability to proxy and route forwarding interface services through Apache APISIX. After each microservice is registered on Nacos, Apache APISIX can obtain a list of services through Nacos&#x27;s service discovery function and find the corresponding service address to implement dynamic proxy.</p><p><img loading="lazy" alt="img" src="/en/assets/images/apisix_en-0d9959bfcee96b44a6bf219efaa19863.png" width="949" height="705" class="img_ev3q"></p><h1>Apache APISIX realizes service discovery based on Nacos</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2><p>This article is based on the following environments.</p><ul><li>OS: Centos 7.9.</li><li>Apache APISIX 12.1.0, please refer to: <a href="https://apisix.apache.org/docs/apisix/how-to-build" target="_blank" rel="noopener noreferrer">Apache APISIX how-to-bulid</a>.</li><li>Nacos 2.0.4, please refer to: <a href="https://nacos.io/en-us/docs/quick-start.html" target="_blank" rel="noopener noreferrer">Nacos quick start</a></li><li>Node.js, please refer to: <a href="https://github.com/nodejs/help/wiki/Installation" target="_blank" rel="noopener noreferrer">node.js Installation</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-service-register">Step 1: Service Register<a href="#step-1-service-register" class="hash-link" aria-label="Direct link to Step 1: Service Register" title="Direct link to Step 1: Service Register">​</a></h2><ol><li>Use Node.js&#x27;s Koa framework starts a simple test service on port 3005 as <a href="https://apisix.apache.org/docs/apisix/admin-api#upstream" target="_blank" rel="noopener noreferrer">upstream</a>.</li></ol><div class="language-JavaScript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-JavaScript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const Koa = require(&#x27;koa&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const app = new Koa();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.use(async ctx =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ctx.body = &#x27;Hello World&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.listen(3005);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Register the service on the command line by requesting the Nacos Open API.</li></ol><div class="language-Bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST &#x27;http://127.0.0.1:8848/nacos/v1/ns/instance?serviceName=APISIX-NACOS&amp;ip=127.0.0.1&amp;port=3005&amp;ephemeral=false&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>After service registration, use the following command to query the current service.</li></ol><div class="language-Bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET &#x27;http://127.0.0.1:8848/nacos/v1/ns/instance/list?serviceName=APISIX-NACOS&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Examples of correct returned results are as follows:</p><div class="language-JSON codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-JSON codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;DEFAULT_GROUP@@APISIX-NACOS&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;groupName&quot;: &quot;DEFAULT_GROUP&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;clusters&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;cacheMillis&quot;: 10000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;hosts&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;instanceId&quot;: &quot;127.0.0.1#3005#DEFAULT#DEFAULT_GROUP@@APISIX-NACOS&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ip&quot;: &quot;127.0.0.1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;port&quot;: 3005,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;weight&quot;: 1.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;healthy&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;enabled&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ephemeral&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;clusterName&quot;: &quot;DEFAULT&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;serviceName&quot;: &quot;DEFAULT_GROUP@@APISIX-NACOS&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;metadata&quot;: {},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;instanceHeartBeatInterval&quot;: 5000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;instanceHeartBeatTimeOut&quot;: 15000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ipDeleteTimeout&quot;: 30000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;instanceIdGenerator&quot;: &quot;simple&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lastRefTime&quot;: 1643191399694,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;checksum&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;allIPs&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;reachProtectionThreshold&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;valid&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2added-nacos-route">Step 2:Added Nacos Route<a href="#step-2added-nacos-route" class="hash-link" aria-label="Direct link to Step 2:Added Nacos Route" title="Direct link to Step 2:Added Nacos Route">​</a></h2><p>Create a new route using the Admin API provided by Apache APISIX. APISIX selects the service discovery type to use through the <code>upstream.discovery_type</code> field. <code>upstream.service_name</code>  needs to be associated with the corresponding service name of the registry. Therefore, when creating a route, specify the service discovery type as Nacos.</p><div class="language-Shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://127.0.0.1:9080/apisix/admin/routes/1 -H &#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27; -X PUT -i -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;uri&quot;: &quot;/nacos/*&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;upstream&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;service_name&quot;: &quot;APISIX-NACOS&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: &quot;roundrobin&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;discovery_type&quot;: &quot;nacos&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the above command, the request header <code>X-API-KEY</code> is the access token of the admin API, which can be viewed under <code>apisix.admin_key.key</code> in the<code>conf/config.yaml</code> file.</p><p>After successful addition, examples of correct returned results are as follows:</p><div class="language-JSON codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-JSON codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;action&quot;: &quot;set&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;node&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;key&quot;: &quot;\/apisix\/routes\/1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;value&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;update_time&quot;: 1643191044,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;create_time&quot;: 1643176603,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;priority&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;uri&quot;: &quot;\/nacos\/*&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;upstream&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;hash_on&quot;: &quot;vars&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;discovery_type&quot;: &quot;nacos&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;scheme&quot;: &quot;http&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;pass_host&quot;: &quot;pass&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: &quot;roundrobin&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;service_name&quot;: &quot;APISIX-NACOS&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;id&quot;: &quot;1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;status&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In addition, you can also pass other service related parameters in <code>upstream.discovery_args</code>   to specify the namespace or group where the service is located. For details, please refer to the following table:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Type</strong></th><th><strong>Requirement</strong></th><th><strong>Default</strong></th><th><strong>Valid</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td>namespace_id</td><td>string</td><td>optional</td><td>public</td><td></td><td>This parameter is used to specify the namespace of the corresponding service</td></tr><tr><td>group_name</td><td>string</td><td>optional</td><td>DEFAULT_GROUP</td><td></td><td>This parameter is used to specify the group of the corresponding service</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-verify-configuration-results">Step 3: Verify configuration results<a href="#step-3-verify-configuration-results" class="hash-link" aria-label="Direct link to Step 3: Verify configuration results" title="Direct link to Step 3: Verify configuration results">​</a></h2><p>Use the following command to send the request to the route to be configured.</p><div class="language-Shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -i http://127.0.0.1:9080/nacos/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Examples of correct returned results are as follows:</p><div class="language-Apache codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Apache codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: text/plain; charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Length: 11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Connection: keep-alive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date: Thu, 27 Jan 2022 00:48:26 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Server: APISIX/2.12.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hello World</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It can be seen from the example that the new route in Apache APISIX can find the correct service address through Nacos service discovery and respond normally.</p><h1>Summary</h1><p>This article introduces the concept of registry and how Apache APISIX cooperates with Nacos to implement routing proxy based on service discovery. How to use Apache APISIX with Nacos in actual scenarios depends on the specific business requirements and past technical architecture.</p><p>To get more information about the <code>nacos</code> plugin description and full configuration list, you can refer to the <a href="https://apisix.apache.org/zh/docs/apisix/discovery/nacos" target="_blank" rel="noopener noreferrer">official documentation</a>.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Nacos 2.0.3 Release, continue to improve stability."><meta itemprop="keywords" content="2.0.1"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/2.0.3-release">Nacos 2.0.3 Release, continue to improve stability.</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-07-29T00:00:00.000Z" itemprop="datePublished">July 29, 2021</time> · <!-- -->7 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nacos-203">Nacos 2.0.3<a href="#nacos-203" class="hash-link" aria-label="Direct link to Nacos 2.0.3" title="Direct link to Nacos 2.0.3">​</a></h2><p>Nacos2.0.3 中，Nacos社区继续针对1.X到2.0.X升级的健壮性和高可用做了充分优化，扫除上生产的稳定性忧虑；Java/Spring-boot/Golang/C#/Cpp多语言客户端也全面支持Nacos2.0，拉齐多语言代差；并且优化了大量控制台UI的易用功能，提升用户使用效率。</p><p>主要变更内容如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">## Features</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6384] Add redo feature for nacos client naming.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Enhancement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#1469] Add cluster delete button.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5884] Add the permission for history config.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5909] Enhance LADP auth log print out when auth check failed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#5999] Adpat nacos endpoint in AddressServerMemberLookup.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6100] Enhance config managerment UI.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6129] Add ServerConfigChangeEvent when config file changed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6142] Redo register and subscribe when reconnection auth check failed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6160] Optimization of IP address acquisition method in nacos client.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6175] If the client already disconnect, ignore this request to avoid NPE.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6178] Unified configuration page style</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6204] Get data from database if user or role info not found in cache.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6367] Add IOReactorExceptionHandler to avoid IOReactor out of loop when meet unknown Network error.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6386] Stop v1 distro verification when cluster upgraded to v2.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6403] Make the expired time of naming client be configurable in nacos-server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## BugFix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6107] Fix Chinese account show with gibber in home page.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6109] Fix get InstanceUpgradeHelper instance error for double write service.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6116] Fix unable to check client beats when register same ip and port in old clients with high concurrent.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6169] Fix cluster page internationalization.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6198] Fix NPE when use StringUtils.join illegal.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6295] Fix instance metadata will not be removed for ip port client.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6335] Fix startup error when the JAVA_HOME path contains spaces under Linux/Unix/Mac system.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6382][#6476] Fix nacos-istio serviceInfo.getChecksum() always is empty.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[#6423] Fix yaml parse concurrent problem.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>完整的Release Note请查看 <a href="https://github.com/alibaba/nacos/releases/tag/2.0.3" target="_blank" rel="noopener noreferrer">2.0.3</a> 。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="从nacos1x升级nacos20x">从Nacos1.X升级Nacos2.0.X<a href="#从nacos1x升级nacos20x" class="hash-link" aria-label="Direct link to 从Nacos1.X升级Nacos2.0.X" title="Direct link to 从Nacos1.X升级Nacos2.0.X">​</a></h2><p>Nacos服务端支持从1.X平滑升级到Nacos2.0.X；由于Nacos2.0对服务发现的数据结构进行了重构，因此升级过程中会采用异步双写数据的功能，在升级到2.0模式前，对数据进行校验，保证升级过程中的稳定运行。</p><p>在集群所有节点都升级到Nacos2.0.X版本之后，集群中的每一台节点都将开启自检，检查Nacos1.X模式下的数据是否和Nacos2.0模式下的数据一致，主要对比的是两个模式下的服务数及实例数是否相等，以及是否还有双写任务。
只有服务数及实例数相等，且没有双写任务之后，Nacos节点才会判定自身节点已经准备好升级到2.0模式，可以通过控制台的集群管理中节点元数据的<code>readyToUpgrade</code>字段来判断该节点是否准备完成。</p><p>当集群中所有节点都完成准备后，集群节点将会切换运行模式到2.0模式，此时请求流量将会切换至2.0模式运行，且开始接受gRPC的请求。如果未切换时，来自gRPC的请求将会提示<code>Nacos cluster is running with 1.X mode, can&#x27;t accept gRPC request temporarily. Please check the server status or close Double write to force open 2.0 mode.</code></p><p>另外，从Nacos2.0.2版本开始，Nacos为升级添加了一些接口方便用户检查升级状态，找到升级到2.0模式不成功的原因，并且在特殊情况下能够进行主动补偿。</p><p>比如接口<code>/nacos/v1/ns/upgrade/ops/metrics</code>， 可以快速的查看到当前节点的状态，如当前1.X模式的服务数，实例数；2.0模式的服务数，实例数；双写任务遗留量；对应模式缺失的服务名等等内容，帮助用户快速定位升级问题。</p><p>更多升级相关信息请查看 <a href="https://nacos.io/zh-cn/docs/2.0.0-upgrading.html" target="_blank" rel="noopener noreferrer">Nacos 2.0 升级文档</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="客户端支持20">客户端支持2.0<a href="#客户端支持20" class="hash-link" aria-label="Direct link to 客户端支持2.0" title="Direct link to 客户端支持2.0">​</a></h2><p>目前Golang、C#、Cpp、nacos-spring-boot，客户端已经支持了nacos2.0的grpc能力，欢迎大家试用
​</p><ul><li><a href="https://github.com/nacos-group/nacos-spring-boot-project/releases/tag/0.1.10" target="_blank" rel="noopener noreferrer">nacos-spring-boot v0.1.10</a></li><li><a href="https://github.com/nacos-group/nacos-spring-boot-project/releases/tag/0.2.10" target="_blank" rel="noopener noreferrer">nacos-spring-boot v0.2.10</a></li><li><a href="https://github.com/nacos-group/nacos-sdk-go/releases/tag/v2.0.0-Alpha.1" target="_blank" rel="noopener noreferrer">nacos-sdk-go v2.0.0-Alpha.1</a></li><li><a href="https://github.com/nacos-group/nacos-sdk-csharp/releases/tag/v1.1.0" target="_blank" rel="noopener noreferrer">nacos-sdk-csharp v1.1.0</a></li><li><a href="https://github.com/nacos-group/nacos-sdk-cpp/releases/tag/1.0.8" target="_blank" rel="noopener noreferrer">nacos-sdk-cpp v1.0.8</a></li></ul><p>Python的多语言客户端正在紧张开发中，相信很快能与大家见面。 Nodejs部分欢迎社区小伙伴一起参与建设~</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="21版本预告">2.1版本预告<a href="#21版本预告" class="hash-link" aria-label="Direct link to 2.1版本预告" title="Direct link to 2.1版本预告">​</a></h2><p>自2.0版本12月初社区发布后，经过数个版本的优化，功能和性能趋于稳定；因此社区开始规划2.1版本。</p><p>在Nacos2.1版本中，我们计划移除对Nacos1.X服务端的升级支持，以移除1.X模式及双写等冗余代码，提升代码质量及可读性，用户仍可以从2.0.X版本进行升级。</p><p>在功能上，Nacos2.1版本将会开放部分功能的插件化能力，如已经在进行的Selector插件，鉴权插件及配置加解密插件。</p><p>另外，我们会对Nacos2.0的第三方依赖进行一些精简，减少用户使用过程中依赖冲突的问题。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="社区">社区<a href="#社区" class="hash-link" aria-label="Direct link to 社区" title="Direct link to 社区">​</a></h2><p>感谢来自社区同学们的持续贡献，正是有了大家的共同努力，Nacos才能变得越来越完善。</p><p>在此郑重感谢对本次Release有卓越贡献的社区同学（根据字母顺序）：</p><ul><li><a href="https://github.com/brotherlu-xcq" target="_blank" rel="noopener noreferrer">brotherlu-xcq</a></li><li><a href="https://github.com/MajorHe1" target="_blank" rel="noopener noreferrer">MajorHe1</a></li><li><a href="https://github.com/pixystone" target="_blank" rel="noopener noreferrer">pixystone</a></li><li><a href="https://github.com/shalk" target="_blank" rel="noopener noreferrer">shalk</a></li><li><a href="https://github.com/SunJiFengPlus" target="_blank" rel="noopener noreferrer">SunJiFengPlus</a></li><li><a href="https://github.com/zzq1314zll" target="_blank" rel="noopener noreferrer">zzq1314zll</a></li></ul><p>期待各位成为Nacos committer。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="about-nacos">About Nacos<a href="#about-nacos" class="hash-link" aria-label="Direct link to About Nacos" title="Direct link to About Nacos">​</a></h2><p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。</p><p>Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。</p></div></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/blog"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/blog/page/3"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div></div>
<script src="/en/assets/js/runtime~main.efbcf77a.js"></script>
<script src="/en/assets/js/main.0d2c9db0.js"></script>
</body>
</html>