{
  "filename": "2.0.0-alpha.md",
  "__html": "<h1>Nacos 2.0.0-BETA</h1>\n<p>After nearly 5 months of discussion and development in the community, the core features of Nacos 2.0.0 based on the long connection have been developed completely.</p>\n<p>2.0.0-BETA.2 public testing for community currently.</p>\n<p><strong>Note that the ALPHA and BETA version is only for testing and discussion, please use it in uat or pre-environment. The interface API and features presentation results provided by the ALPHA and BETA version may be inconsistent with the release version, please refer to the release version.</strong></p>\n<p>The 2.0.0-ALPHA version is an independent version temporarily, and not support upgrade server from version 1.X to 2.0.0-ALPHA smoothly. The release version will support it. Please pay attention to the subsequent upgrade documents.</p>\n<p>2.0.0-BETA adds the ability to smoothly upgrade and downgrade, please refer to <a href=\"\">Nacos2.0 upgrade document</a> for details.</p>\n<h2>Benchmark for Nacos 2.0.0</h2>\n<p>Detail see: <a href=\"/en-us/docs/nacos2-naming-benchmark.html\">Nacos2.0 Naming Benchmark</a> and <a href=\"/en-us/docs/nacos2-config-benchmark.html\">Nacos2.0 Config Benchmark</a> .</p>\n<h2>Deployment</h2>\n<p>Refer to <a href=\"https://nacos.io/en-us/docs/deployment.html\">Deployment Guide</a> and replace the version to 2.0.0-BETA.</p>\n<h2>Features completion and adaptation for the old client</h2>\n<h3>Configuration Management</h3>\n<h4>JAVA SDK</h4>\n<ul>\n<li>Completely compatible with all interfaces of 1.X client;</li>\n<li>Completely implement all interfaces of 2.X client.</li>\n</ul>\n<h4>Other SDK</h4>\n<ul>\n<li>Completely compatible</li>\n</ul>\n<h4>openAPI</h4>\n<ul>\n<li>Fully compatible with all openAPIs related to the configuration management.</li>\n</ul>\n<h3>Service Discovery</h3>\n<p>Due to major changes in the data model of service discovery, A few features are temporarily unsupported.</p>\n<h4>JAVA SDK</h4>\n<ul>\n<li>Not support registration of persistent instances temporarily;</li>\n<li>Compatible with ephemeral instances interfaces;</li>\n<li>Implement with ephemeral instances interfaces;</li>\n</ul>\n<h4>Other SDK</h4>\n<ul>\n<li>Compatible with all operation of ephemeral instances interfaces;</li>\n</ul>\n<h4>openAPI</h4>\n<ul>\n<li>Register instance (Supported)</li>\n<li>Deregister instance (Supported)</li>\n<li>Modify instance (Supported)</li>\n<li>Query instances (Supported)</li>\n<li>Query instance detail (Supported)</li>\n<li>Send instance beat (Supported)</li>\n<li>Create service (Supported)</li>\n<li>Delete service (Supported)</li>\n<li>Update service (Supported)</li>\n<li>Query service (Supported)</li>\n<li>Query service list (Supported)</li>\n<li>Query system switches (Supported)</li>\n<li>Update system switch (Supported)</li>\n<li>Query system metrics (Supported)</li>\n<li>Query server list (Supported)</li>\n<li>Query the leader of current cluster (Deprecated)</li>\n<li>Update instance health status (Supported)</li>\n<li>Batch update instance metadata(Beta, Not support)</li>\n<li>Batch delete instance metadata(Beta, Not support)</li>\n</ul>\n<h3>Console</h3>\n<ul>\n<li>Completely compatible with <code>Config Management</code></li>\n<li>Completely compatible with <code>Authority Control</code></li>\n<li>Completely compatible with <code>Namespace</code></li>\n<li>Completely compatible with <code>Cluster Managerment</code></li>\n<li>Completely compatible with <code>Service Managerment</code></li>\n</ul>\n<h2>Ecological compatibility</h2>\n<h3>Spring Cloud Alibaba</h3>\n<p>Use Nacos 2.0 connection features by specifying nacos-client version.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.alibaba.nacos&lt;/groupId&gt;\n                &lt;artifactId&gt;nacos-client&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-config&lt;/artifactId&gt;\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.alibaba.nacos&lt;/groupId&gt;\n                &lt;artifactId&gt;nacos-client&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.alibaba.nacos&lt;/groupId&gt;\n        &lt;artifactId&gt;nacos-client&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0-BETA&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<h3>Dubbo</h3>\n<p>Because Dubbo obtains part of the Nacos client content through reflection in the configuration center (metadata center), it is temporarily incompatible with the 2.0.0-BETA version.\nAt present, we have communicated with the dubbo community to solve the adaptation problem as soon as possible.</p>\n<h3>Nacos Spring Boot</h3>\n<p>Nacos spring boot will release an BETA version with the new version of Nacos client.</p>\n<h2>Usage</h2>\n<h3>SDK and Console</h3>\n<p>The usage of Nacos 2.0.0-BETA version is exactly the same as that of Nacos 1.X version. For the client interface, please refer to <a href=\"https://nacos.io/en-us/docs/sdk.html\">JAVA SDK</a> of Nacos1.X.</p>\n<h3>Server</h3>\n<p>The deployment and usage of the Nacos 2.0.0-BETA server is not much different from the old version. Here only to describe the new configuration parameters in the new version.</p>\n<table>\n<thead>\n<tr>\n<th>Parameters</th>\n<th>Default</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>nacos.naming.clean.empty-service.interval</td>\n<td>60000(ms)</td>\n<td>The interval time of Nacos auto clean empty service. This parameter will replace <code>nacos.naming.empty-service.clean.period-time-ms</code> in old version.</td>\n</tr>\n<tr>\n<td>nacos.naming.clean.empty-service.expired-time</td>\n<td>60000(ms)</td>\n<td>The expired time for Nacos judge whether an empty service is expired. When an empty service has no updated for setting time, it will be removed.</td>\n</tr>\n<tr>\n<td>nacos.naming.clean.expired-metadata.interval</td>\n<td>5000(ms)</td>\n<td>The interval time of Nacos auto clean expired metadata.</td>\n</tr>\n<tr>\n<td>nacos.naming.clean.expired-metadata.expired-time</td>\n<td>60000(ms)</td>\n<td>The expired time for Nacos judge whether a metadata is expired. When services or instances removed and after setting time, the metadata of removed services or instances will be deleted.</td>\n</tr>\n</tbody>\n</table>\n<h2>FAQ</h2>\n<h3>Why can't upgrade smoothly? Can it be supported in future?</h3>\n<p>Since the service model and data model of the Nacos service discovery have been redesigned, the data structure has major changes, so smoothly upgrading are temporarily not supported.</p>\n<p>When 2.0.0 Released, will support part of 1.X version to upgrade smoothly. Please pay attention to community and upgrade document.</p>\n<h3>Whether support the old client?</h3>\n<p>Configuration Management can support all clients after 1.0, and Service Management can support all client after 1.2.</p>\n<p>So recommending use Nacos client after 1.2.0.</p>\n<p>But Nacos 1.X client can't use new connection features, so recommending to use 2.0.0 client strongly.</p>\n<h3>Error <code>code:503,msg:server is DOWN now, please try again later!</code> during using.</h3>\n<p>After version 1.4, Nacos use SOFA-Jraft to replace old raft implementation by nacos-self. Jraft will election leader with raft protocol and save the cluster metadata. If cluster restart with ip changed, it might cause Jraft can election leader successfully so that nacos can't start up.</p>\n<p>The solution is removed the <code>data</code> directory under nacos directory and restart.</p>\n<p>Or use <code>-Dnacos.server.ip=${domain}</code> jvm parameters to start nacos and set domain list in <code>nacos/conf/cluster.conf</code> to avoid the ip change effect.</p>\n<h3><code>com.alibaba.nacos.consistency.entity</code> can't be found in source codes</h3>\n<p>This package will be auto-generated by <code>protobuf</code>, so if you want to read source code or do some develop, you can use <code>mvn compile</code> to generate them. If you are using IDEA, you can also use IDEA's protobuf plugin.</p>\n<h3>To be added...</h3>\n",
  "link": "/en-us/docs/2.0.0-alpha.html",
  "meta": {
    "title": "Nacos 2.0.0-BETA",
    "keywords": "Nacos,2.0.0",
    "description": "Nacos 2.0.0-BETA"
  }
}