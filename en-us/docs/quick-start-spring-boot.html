<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="quick-start-spring-boot" />
	<meta name="description" content="quick-start-spring-boot" />
	<!-- 网页标签标题 -->
	<title>quick-start-spring-boot</title>
	<link rel="shortcut icon" href="/img/nacos.ico"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot="" data-reactid="1" data-react-checksum="-1855426295"><header class="header-container header-container-normal" data-reactid="2"><div class="header-body" data-reactid="3"><a href="/en-us/index.html" data-reactid="4"><img class="logo" src="/img/nacos_colorful.png" data-reactid="5"/></a><span class="language-switch language-switch-normal" data-reactid="6">中</span><div class="header-menu" data-reactid="7"><img class="header-menu-toggle" src="/img/menu_gray.png" data-reactid="8"/><ul data-reactid="9"><li class="menu-item menu-item-normal" data-reactid="10"><a href="/en-us/index.html" data-reactid="11">HOME</a></li><li class="menu-item menu-item-normal menu-item-normal-active" data-reactid="12"><a href="/en-us/docs/quick-start.html" data-reactid="13">DOCS</a></li><li class="menu-item menu-item-normal" data-reactid="14"><a href="/en-us/blog" data-reactid="15">BLOG</a></li><li class="menu-item menu-item-normal" data-reactid="16"><a href="/en-us/community" data-reactid="17">COMMUNITY</a></li></ul></div></div></header><div class="bar" data-reactid="18"><div class="bar-body" data-reactid="19"><img src="/img/docs.png" class="front-img" data-reactid="20"/><div class="bar-title" data-reactid="21"><span data-reactid="22">Documentation</span><div class="bone bone-light" data-reactid="23"></div></div><img src="/img/docs.png" class="back-img" data-reactid="24"/></div></div><section class="content-section" data-reactid="25"><div class="content-body" data-reactid="26"><div class="sidemenu" data-reactid="27"><div class="sidemenu-toggle" data-reactid="28"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png" data-reactid="29"/></div><ul data-reactid="30"><li class="menu-item menu-item-level-1" data-reactid="31"><span data-reactid="32">Nacos </span><ul data-reactid="33"><li style="height:144px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="34"><span data-reactid="35"><!-- react-text: 36 -->What is Nacos<!-- /react-text --><img style="transform:rotate(0deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="37"/></span><ul data-reactid="38"><li class="menu-item menu-item-level-3" data-reactid="39"><a href="/en-us/docs/what-is-nacos.html" target="_self" data-reactid="40">What is Nacos</a></li><li class="menu-item menu-item-level-3" data-reactid="41"><a href="/en-us/docs/concepts.html" target="_self" data-reactid="42">Concepts</a></li><li class="menu-item menu-item-level-3" data-reactid="43"><a href="/en-us/docs/architecture.html" target="_self" data-reactid="44">Architecure</a></li></ul></li><li style="height:180px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="45"><span data-reactid="46"><!-- react-text: 47 -->Quick Start<!-- /react-text --><img style="transform:rotate(0deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="48"/></span><ul data-reactid="49"><li class="menu-item menu-item-level-3" data-reactid="50"><a href="/en-us/docs/quick-start.html" target="_self" data-reactid="51">Nacos Quick Start</a></li><li class="menu-item menu-item-level-3" data-reactid="52"><a href="/en-us/docs/quick-start-spring.html" target="_self" data-reactid="53">Quick Start Spring</a></li><li class="menu-item menu-item-level-3" data-reactid="54"><a href="/en-us/docs/quick-start-spring-boot.html" target="_self" data-reactid="55">Quick Start Spring Boot</a></li><li class="menu-item menu-item-level-3" data-reactid="56"><a href="/en-us/docs/quick-start-spring-cloud.html" target="_self" data-reactid="57">Quick Start Spring Cloud</a></li></ul></li><li style="height:144px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="58"><span data-reactid="59"><!-- react-text: 60 -->User Guide<!-- /react-text --><img style="transform:rotate(0deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="61"/></span><ul data-reactid="62"><li class="menu-item menu-item-level-3" data-reactid="63"><a href="/en-us/docs/sdk.html" target="_self" data-reactid="64">Java SDK</a></li><li class="menu-item menu-item-level-3" data-reactid="65"><a href="/en-us/docs/other-language.html" target="_self" data-reactid="66">Other Language</a></li><li class="menu-item menu-item-level-3" data-reactid="67"><a href="/en-us/docs/open-API.html" target="_self" data-reactid="68">Open-API</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="69"><span data-reactid="70"><!-- react-text: 71 -->Admin Guide<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="72"/></span><ul data-reactid="73"><li class="menu-item menu-item-level-3" data-reactid="74"><a href="/en-us/docs/deployment.html" target="_self" data-reactid="75">Deployment Guide</a></li><li class="menu-item menu-item-level-3" data-reactid="76"><a href="/en-us/docs/managementAPI.html" target="_self" data-reactid="77">Management OpenAPI</a></li><li class="menu-item menu-item-level-3" data-reactid="78"><a href="/en-us/docs/CLI-guide.html" target="_self" data-reactid="79">Nacos Operator CLI Guide</a></li><li class="menu-item menu-item-level-3" data-reactid="80"><a href="/en-us/docs/console-guide.html" target="_self" data-reactid="81">Admin Console Guide</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="82"><span data-reactid="83"><!-- react-text: 84 -->Contributor Guide<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="85"/></span><ul data-reactid="86"><li class="menu-item menu-item-level-3" data-reactid="87"><a href="/en-us/docs/contributing.html" target="_self" data-reactid="88">Contribute to Nacos</a></li><li class="menu-item menu-item-level-3" data-reactid="89"><a href="/zh-cn/docs/activity.html" target="_self" data-reactid="90">Nacos Activity</a></li><li class="menu-item menu-item-level-3" data-reactid="91"><a href="/en-us/docs/pull-request.html" target="_self" data-reactid="92">Pull Request Template</a></li><li class="menu-item menu-item-level-3" data-reactid="93"><a href="/en-us/docs/how-to-reporting-bugs.html" target="_self" data-reactid="94">How to reporting bugs</a></li><li class="menu-item menu-item-level-3" data-reactid="95"><a href="/en-us/docs/roadmap.html" target="_self" data-reactid="96">Nacos RoadMap</a></li><li class="menu-item menu-item-level-3" data-reactid="97"><a href="/en-us/docs/use-nacos-with-springcloud.html" target="_self" data-reactid="98">Nacos with SpringCloud</a></li><li class="menu-item menu-item-level-3" data-reactid="99"><a href="/en-us/docs/use-nacos-with-dubbo.html" target="_self" data-reactid="100">Nacos with Dubbo</a></li><li class="menu-item menu-item-level-3" data-reactid="101"><a href="/en-us/docs/use-nacos-with-kubernetes.html" target="_self" data-reactid="102">Nacos with K8s</a></li><li class="menu-item menu-item-level-3" data-reactid="103"><a href="/en-us/docs/use-nacos-with-istio.html" target="_self" data-reactid="104">Nacos with Istio</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="105"><span data-reactid="106"><!-- react-text: 107 -->Community<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="108"/></span><ul data-reactid="109"><li class="menu-item menu-item-level-3" data-reactid="110"><a href="/en-us/docs/community.html" target="_self" data-reactid="111">Community</a></li></ul></li></ul></li></ul></div><div class="doc-content markdown-body" data-reactid="112"><h1>前提条件</h1>
<p>请先参看 <a href="https://nacos.io/zh-cn/docs/quick-start.html">Nacos 快速入门</a>，下载 Nacos Server 并启动服务。</p>
<h1>配置管理</h1>
<p><span data-type="color" style="color:rgb(38, 38, 38)"><span data-type="background" style="background-color:rgb(255, 255, 255)">完整示例代码：</span></span><a href="https://github.com/nacos-group/nacos-demo/nacos-spring-boot-config-demo">nacos-spring-boot-config-example</a></p>
<h2>依赖</h2>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba.boot&lt;/groupId&gt;
    &lt;artifactId&gt;nacos-config-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;${latest.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h2>示例</h2>
<p>在 <code>application.properties</code> 中配置 Nacos Server 的地址：</p>
<pre><code>nacos.config.server-addr=127.0.0.1:8848
</code></pre>
<p><span data-type="color" style="color:rgb(38, 38, 38)"><span data-type="background" style="background-color:rgb(255, 255, 255)">使用 </span></span><code>@NacosPropertySource</code><span data-type="color" style="color:rgb(38, 38, 38)"><span data-type="background" style="background-color:rgb(255, 255, 255)"> 加载 </span></span><code>dataId</code><span data-type="color" style="color:rgb(38, 38, 38)"><span data-type="background" style="background-color:rgb(255, 255, 255)"> 为 </span></span><code>example</code><span data-type="color" style="color:rgb(38, 38, 38)"><span data-type="background" style="background-color:rgb(255, 255, 255)"> 的配置源，并开启自动更新：</span></span></p>
<pre><code class="language-plain">@SpringBootApplication
@NacosPropertySource(dataId = &quot;example&quot;, autoRefreshed = true)
public class NacosConfigApplication {

    public static void main(String[] args) {
        SpringApplication.run(NacosConfigApplication.class, args);
    }
}
</code></pre>
<p><span data-type="color" style="color:rgb(38, 38, 38)"><span data-type="background" style="background-color:rgb(255, 255, 255)">通过 Spring 的 </span></span><code>@Value</code><span data-type="color" style="color:rgb(38, 38, 38)"><span data-type="background" style="background-color:rgb(255, 255, 255)"> 注解设置属性值，注意，需要同时有 </span></span><code>Setter</code><span data-type="color" style="color:rgb(38, 38, 38)"><span data-type="background" style="background-color:rgb(255, 255, 255)">方法才能在配置变更的时候自动更新：</span></span></p>
<pre><code>@Controller
@RequestMapping(&quot;config&quot;)
public class ConfigController {

    @Value(&quot;${useLocalCache:false}&quot;)
    private boolean useLocalCache;

    public void setUseLocalCache(boolean useLocalCache) {
        this.useLocalCache = useLocalCache;
    }

    @RequestMapping(value = &quot;/get&quot;, method = GET)
    @ResponseBody
    public boolean get() {
        return useLocalCache;
    }
}
</code></pre>
<h2>运行</h2>
<p>启动 <code>NacosConfigApplication</code>，调用 <code>curl http://localhost:8080/config/get</code>，返回内容是 <code>false</code>。</p>
<p>通过调用 <a href="https://nacos.io/zh-cn/docs/open-API.html">Nacos Open API</a> 向 Nacos Server 发布配置：dataId 为<code>example</code>，内容为<code>useLocalCache=true</code></p>
<pre><code>curl -X POST &quot;http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=example&amp;group=DEFAULT_GROUP&amp;content=useLocalCache=true&quot;
</code></pre>
<p>再次访问 <code>http://localhost:8080/config/get</code>，此时返回内容为<code>true</code>，说明程序中的<code>useLocalCache</code>值已经被动态更新了。</p>
<h1>服务发现</h1>
<p><span data-type="color" style="color:rgb(38, 38, 38)"><span data-type="background" style="background-color:rgb(255, 255, 255)">完整示例代码：</span></span><a href="https://github.com/nacos-group/nacos-demo/nacos-spring-boot-discovery-demo">nacos-spring-boot-discovery-example</a></p>
<h2>依赖</h2>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba.boot&lt;/groupId&gt;
    &lt;artifactId&gt;nacos-discovery-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;${latest.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h2>示例</h2>
<p>在 <code>application.properties</code> 中配置 Nacos Server 的地址：</p>
<pre><code>nacos.discovery.server-addr=127.0.0.1:8848
</code></pre>
<p>使用 <code>@NacosInjected</code> 注入  Nacos 的 <code>NamingService</code> 实例：</p>
<pre><code>@Controller
@RequestMapping(&quot;discovery&quot;)
public class DiscoveryController {

    @NacosInjected
    private NamingService namingService;

    @RequestMapping(value = &quot;/get&quot;, method = GET)
    @ResponseBody
    public List&lt;Instance&gt; get(@RequestParam String serviceName) throws NacosException {
        return namingService.getAllInstances(serviceName);
    }
}

@SpringBootApplication
public class NacosDiscoveryApplication {

    public static void main(String[] args) {
        SpringApplication.run(NacosDiscoveryApplication.class, args);
    }
}
</code></pre>
<h2>运行</h2>
<p>启动 <code>NacosDiscoveryApplication</code>，调用 <code>curl http://localhost:8080/discovery/get?serviceName=example</code>，此时返回为空 JSON 数组<code>[]</code>。</p>
<p>通过调用 <a href="https://nacos.io/zh-cn/docs/open-API.html">Nacos Open API</a> 向  Nacos Server 注册一个名称为 <code>example</code> 服务</p>
<pre><code>curl -X PUT 'http://127.0.0.1:8848/nacos/v1/ns/instance?serviceName=example&amp;ip=127.0.0.1&amp;port=8080'
</code></pre>
<p>再次访问 <code>curl http://localhost:8080/discovery/get?serviceName=example</code>，此时返回内容为：</p>
<pre><code>[
  {
    &quot;instanceId&quot;: &quot;127.0.0.1-8080-DEFAULT-example&quot;,
    &quot;ip&quot;: &quot;127.0.0.1&quot;,
    &quot;port&quot;: 8080,
    &quot;weight&quot;: 1.0,
    &quot;healthy&quot;: true,
    &quot;cluster&quot;: {
      &quot;serviceName&quot;: null,
      &quot;name&quot;: &quot;&quot;,
      &quot;healthChecker&quot;: {
        &quot;type&quot;: &quot;TCP&quot;
      },
      &quot;defaultPort&quot;: 80,
      &quot;defaultCheckPort&quot;: 80,
      &quot;useIPPort4Check&quot;: true,
      &quot;metadata&quot;: {}
    },
    &quot;service&quot;: null,
    &quot;metadata&quot;: {}
  }
]
</code></pre>
<h1>参看</h1>
<ul>
<li><a href="https://github.com/alibaba/nacos">Nacos</a></li>
<li><a href="https://github.com/nacos-group/nacos-spring-project">Nacos Spring</a></li>
<li><a href="https://github.com/nacos-group/nacos-spring-boot-project">Nacos Spring Boot</a></li>
<li><a href="https://github.com/spring-cloud-incubator/spring-cloud-alibaba">Spring Cloud</a> <a href="https://github.com/spring-cloud-incubator/spring-cloud-alibaba">Alibaba</a></li>
</ul>
</div></div></section><footer class="footer-container" data-reactid="113"><div class="footer-body" data-reactid="114"><img src="/img/nacos_gray.png" data-reactid="115"/><div class="cols-container" data-reactid="116"><div class="col col-12" data-reactid="117"><h3 data-reactid="118">Vision</h3><p data-reactid="119">By providing an easy-to-use service infrastructure such as dynamic service discovery, service configuration, service sharing and management and etc., Nacos help users better construct, deliver and manage their own service platform, reuse and composite business service faster and deliver value of business innovation more quickly so as to win market for users in the era of cloud native and in all cloud environments, such as private, mixed, or public clouds.</p></div><div class="col col-6" data-reactid="120"><dl data-reactid="121"><dt data-reactid="122">Documentation</dt><dd data-reactid="123"><a href="/en-us/docs/what-is-nacos.html" target="_self" data-reactid="124">Overview</a></dd><dd data-reactid="125"><a href="/en-us/docs/quick-start.html" target="_self" data-reactid="126">Quick start</a></dd><dd data-reactid="127"><a href="/en-us/docs/contributing.html" target="_self" data-reactid="128">Developer guide</a></dd></dl></div><div class="col col-6" data-reactid="129"><dl data-reactid="130"><dt data-reactid="131">Resources</dt><dd data-reactid="132"><a href="/en-us/community/index.html" target="_self" data-reactid="133">Community</a></dd></dl></div></div><div class="copyright" data-reactid="134"><span data-reactid="135">@ 2018 The Nacos Authors | An Alibaba Middleware (Aliware) Project</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/documentation.js"></script>
</body>
</html>