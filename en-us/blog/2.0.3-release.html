<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="2.0.1" />
	<meta name="description" content="Nacos 2.0.3 Release, continue to improve stability." />
	<!-- 网页标签标题 -->
	<title>Nacos 2.0.3 Release, continue to improve stability.</title>
	<link rel="shortcut icon" href="https://img.alicdn.com/tfs/TB1hgJpHAPoK1RjSZKbXXX1IXXa-64-64.png"/>
	<link rel="stylesheet" href="/build/blogDetail.css" />
</head>
<body>
	<div id="root"><div class="blog-detail-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/en-us/index.html"><img class="logo" src="/img/nacos_colorful.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">中</span><div class="header-menu"><img class="header-menu-toggle" src="/img/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><span><a href="/en-us/index.html">HOME</a></span></li><li class="menu-item menu-item-normal"><span><a href="/en-us/docs/quick-start.html">DOCS</a></span></li><li class="menu-item menu-item-normal"><div class="nav-container"><div class="word"><a>SOLUTIONS</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png"/></div><ul class="sub-nav-container" style="width:290px"><li><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" target="_blank">Microservice Solution</a></li><li><a href="https://cn.aliyun.com/product/aliware/sae?spm=nacos-website.topbar.0.0.0" target="_blank">Microservice on Serverless Solution</a></li><li><a href="https://www.aliyun.com/aliware/txc?spm=nacos-website.topbar.0.0.0" target="_blank">Distributed transaction Solution</a></li><li><a href="https://www.aliyun.com/product/ahas?spm=nacos-website.topbar.0.0.0" target="_blank">High-availability Solution</a></li><li><a href="https://www.aliyun.com/product/edas?spm=nacos-website.topbar.0.0.0" target="_blank">APaaS Solution</a></li><li><a href="https://www.aliyun.com/product/servicemesh?spm=nacos-website.topbar.0.0.0" target="_blank">Service mesh Solution</a></li></ul> </div></li><li class="menu-item menu-item-normal"><span><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0">NACOS IN CLOUD</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png"/></span></li><li class="menu-item menu-item-normal menu-item-normal-active"><span><a href="/en-us/blog">BLOG</a></span></li><li class="menu-item menu-item-normal"><span><a href="/en-us/community">COMMUNITY</a></span></li><li class="menu-item menu-item-normal"><span><a href="http://console.nacos.io/nacos/index.html">DEMO-CONSOLE</a></span></li></ul></div></div></header><section class="blog-content markdown-body"><h1>Nacos 2.0.3版本发布，继续提升集群稳定性及升级稳定性</h1>
<h2>Nacos 2.0.3</h2>
<p>Nacos2.0.3 中，Nacos社区继续针对1.X到2.0.X升级的健壮性和高可用做了充分优化，扫除上生产的稳定性忧虑；Java/Spring-boot/Golang/C#/Cpp多语言客户端也全面支持Nacos2.0，拉齐多语言代差；并且优化了大量控制台UI的易用功能，提升用户使用效率。</p>
<p>主要变更内容如下：</p>
<pre><code>## Features

[#6384] Add redo feature for nacos client naming.

## Enhancement

[#1469] Add cluster delete button.
[#5884] Add the permission for history config.
[#5909] Enhance LADP auth log print out when auth check failed.
[#5999] Adpat nacos endpoint in AddressServerMemberLookup.
[#6100] Enhance config managerment UI.
[#6129] Add ServerConfigChangeEvent when config file changed.
[#6142] Redo register and subscribe when reconnection auth check failed.
[#6160] Optimization of IP address acquisition method in nacos client.
[#6175] If the client already disconnect, ignore this request to avoid NPE.
[#6178] Unified configuration page style
[#6204] Get data from database if user or role info not found in cache.
[#6367] Add IOReactorExceptionHandler to avoid IOReactor out of loop when meet unknown Network error.
[#6386] Stop v1 distro verification when cluster upgraded to v2.
[#6403] Make the expired time of naming client be configurable in nacos-server.

## BugFix

[#6107] Fix Chinese account show with gibber in home page.
[#6109] Fix get InstanceUpgradeHelper instance error for double write service.
[#6116] Fix unable to check client beats when register same ip and port in old clients with high concurrent.
[#6169] Fix cluster page internationalization.
[#6198] Fix NPE when use StringUtils.join illegal.
[#6295] Fix instance metadata will not be removed for ip port client.
[#6335] Fix startup error when the JAVA_HOME path contains spaces under Linux/Unix/Mac system.
[#6382][#6476] Fix nacos-istio serviceInfo.getChecksum() always is empty.
[#6423] Fix yaml parse concurrent problem.
</code></pre>
<p>完整的Release Note请查看 <a href="https://github.com/alibaba/nacos/releases/tag/2.0.3">2.0.3</a> 。</p>
<h2>从Nacos1.X升级Nacos2.0.X</h2>
<p>Nacos服务端支持从1.X平滑升级到Nacos2.0.X；由于Nacos2.0对服务发现的数据结构进行了重构，因此升级过程中会采用异步双写数据的功能，在升级到2.0模式前，对数据进行校验，保证升级过程中的稳定运行。</p>
<p>在集群所有节点都升级到Nacos2.0.X版本之后，集群中的每一台节点都将开启自检，检查Nacos1.X模式下的数据是否和Nacos2.0模式下的数据一致，主要对比的是两个模式下的服务数及实例数是否相等，以及是否还有双写任务。
只有服务数及实例数相等，且没有双写任务之后，Nacos节点才会判定自身节点已经准备好升级到2.0模式，可以通过控制台的集群管理中节点元数据的<code>readyToUpgrade</code>字段来判断该节点是否准备完成。</p>
<p>当集群中所有节点都完成准备后，集群节点将会切换运行模式到2.0模式，此时请求流量将会切换至2.0模式运行，且开始接受gRPC的请求。如果未切换时，来自gRPC的请求将会提示<code>Nacos cluster is running with 1.X mode, can't accept gRPC request temporarily. Please check the server status or close Double write to force open 2.0 mode.</code></p>
<p>另外，从Nacos2.0.2版本开始，Nacos为升级添加了一些接口方便用户检查升级状态，找到升级到2.0模式不成功的原因，并且在特殊情况下能够进行主动补偿。</p>
<p>比如接口<code>/nacos/v1/ns/upgrade/ops/metrics</code>， 可以快速的查看到当前节点的状态，如当前1.X模式的服务数，实例数；2.0模式的服务数，实例数；双写任务遗留量；对应模式缺失的服务名等等内容，帮助用户快速定位升级问题。</p>
<p>更多升级相关信息请查看 <a href="https://nacos.io/zh-cn/docs/2.0.0-upgrading.html">Nacos 2.0 升级文档</a></p>
<h2>客户端支持2.0</h2>
<p>目前Golang、C#、Cpp、nacos-spring-boot，客户端已经支持了nacos2.0的grpc能力，欢迎大家试用
​</p>
<ul>
<li><a href="https://github.com/nacos-group/nacos-spring-boot-project/releases/tag/0.1.10">nacos-spring-boot v0.1.10</a></li>
<li><a href="https://github.com/nacos-group/nacos-spring-boot-project/releases/tag/0.2.10">nacos-spring-boot v0.2.10</a></li>
<li><a href="https://github.com/nacos-group/nacos-sdk-go/releases/tag/v2.0.0-Alpha.1">nacos-sdk-go v2.0.0-Alpha.1</a></li>
<li><a href="https://github.com/nacos-group/nacos-sdk-csharp/releases/tag/v1.1.0">nacos-sdk-csharp v1.1.0</a></li>
<li><a href="https://github.com/nacos-group/nacos-sdk-cpp/releases/tag/1.0.8">nacos-sdk-cpp v1.0.8</a></li>
</ul>
<p>Python的多语言客户端正在紧张开发中，相信很快能与大家见面。 Nodejs部分欢迎社区小伙伴一起参与建设~</p>
<h2>2.1版本预告</h2>
<p>自2.0版本12月初社区发布后，经过数个版本的优化，功能和性能趋于稳定；因此社区开始规划2.1版本。</p>
<p>在Nacos2.1版本中，我们计划移除对Nacos1.X服务端的升级支持，以移除1.X模式及双写等冗余代码，提升代码质量及可读性，用户仍可以从2.0.X版本进行升级。</p>
<p>在功能上，Nacos2.1版本将会开放部分功能的插件化能力，如已经在进行的Selector插件，鉴权插件及配置加解密插件。</p>
<p>另外，我们会对Nacos2.0的第三方依赖进行一些精简，减少用户使用过程中依赖冲突的问题。</p>
<h2>社区</h2>
<p>感谢来自社区同学们的持续贡献，正是有了大家的共同努力，Nacos才能变得越来越完善。</p>
<p>在此郑重感谢对本次Release有卓越贡献的社区同学（根据字母顺序）：</p>
<ul>
<li><a href="https://github.com/brotherlu-xcq">brotherlu-xcq</a></li>
<li><a href="https://github.com/MajorHe1">MajorHe1</a></li>
<li><a href="https://github.com/pixystone">pixystone</a></li>
<li><a href="https://github.com/shalk">shalk</a></li>
<li><a href="https://github.com/SunJiFengPlus">SunJiFengPlus</a></li>
<li><a href="https://github.com/zzq1314zll">zzq1314zll</a></li>
</ul>
<p>期待各位成为Nacos committer。</p>
<h2>About Nacos</h2>
<p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。</p>
<p>Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。</p>
</section><footer class="footer-container"><div class="footer-body"><img src="/img/nacos_gray.png"/><div class="cols-container"><div class="col col-12"><h3>Vision</h3><p>By providing an easy-to-use service infrastructure such as dynamic service discovery, service configuration, service sharing and management and etc., Nacos help users better construct, deliver and manage their own service platform, reuse and composite business service faster and deliver value of business innovation more quickly so as to win market for users in the era of cloud native and in all cloud environments, such as private, mixed, or public clouds.</p></div><div class="col col-6"><dl><dt>Documentation</dt><dd><a href="/en-us/docs/what-is-nacos.html" target="_self">Overview</a></dd><dd><a href="/en-us/docs/quick-start.html" target="_self">Quick start</a></dd><dd><a href="/en-us/docs/contributing.html" target="_self">Developer guide</a></dd></dl></div><div class="col col-6"><dl><dt>Resources</dt><dd><a href="/en-us/community/index.html" target="_self">Community</a></dd><dd><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" target="_self">Cloud Service MSE</a></dd><dd><a href="https://www.aliyun.com/product/edas?source_type=nacos_pc_20181219" target="_self">Cloud Service EDAS</a></dd><dd><a href="https://www.aliyun.com/product/ahas?source_type=nacos_pc_20190225" target="_self">Cloud Service AHAS</a></dd></dl></div></div><div class="copyright"><span>@ 2018 The Nacos Authors | An Alibaba Middleware (Aliware) Project</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/blogDetail.js"></script>
</body>
</html>