<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="aes-config" content="pid=xux-opensource&user_type=101&uid=&username=&dim10=nacos"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="nacos,kubernetes,rainbond,cloudnative" />
	<meta name="description" content="Current documentation describes how to install a high availability Nacos cluster with one click through Rainbond, a cloud native application management platform." />
  <meta name="baidu-site-verification" content="code-wzq5sw7io3" />
	<!-- 网页标签标题 -->
	<title>Install the HA Nacos cluster in Rainbond with one-click</title>
	<link rel="shortcut icon" href="https://img.alicdn.com/tfs/TB1hgJpHAPoK1RjSZKbXXX1IXXa-64-64.png"/>
	<link rel="stylesheet" href="/build/blogDetail.css" />
	<link rel="stylesheet" href="https://g.alicdn.com/mamba/assets/0.0.19/mse-arc-ui.min.css" />
</head>
<body>
	<div id="root"><div class="blog-detail-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/en-us/index.html"><img class="logo" src="/img/nacos_colorful.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">中</span><div class="header-menu"><img class="header-menu-toggle" src="/img/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><span><a href="/en-us/index.html">HOME</a></span></li><li class="menu-item menu-item-normal"><div class="nav-container"><div class="word"><a>DOCS</a></div><ul class="sub-nav-container" style="width:290px"><li><a href="/en-us/docs/v2/quickstart/quick-start.html" target="_blank">2.X（Recommend）</a></li><li><a href="/en-us/docs/quick-start.html" target="_blank">1.X</a></li></ul> </div></li><li class="menu-item menu-item-normal"><span><a href="/en/cloud">NACOS IN CLOUD</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png"/></span></li><li class="menu-item menu-item-normal"><span><a href="https://free.aliyun.com/?searchKey=nacos&amp;spm=nacos.io.topbar.0.0.0">FREE TIER</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png"/></span></li><li class="menu-item menu-item-normal"><span><a href="https://developer.aliyun.com/ebook/36?spm=a2c6h.20345107.ebook-index.18.152c2984fsi5ST">E-BOOK-NACOS</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png"/></span></li><li class="menu-item menu-item-normal menu-item-normal-active"><span><a href="/en-us/blog">BLOG</a></span></li><li class="menu-item menu-item-normal"><span><a href="/en-us/community">COMMUNITY</a></span></li><li class="menu-item menu-item-normal"><span><a href="http://console.nacos.io/nacos/index.html">DEMO-CONSOLE</a></span></li></ul></div></div></header><section class="blog-content markdown-body"><h1>Rainbond Nacos</h1>
<p>Current documentation describes how to install a high availability <a href="https://nacos.io">Nacos</a> cluster with one-click through <a href="https://www.rainbond.com/?channel=nacos">Rainbond</a>, a cloud native application management platform. This approach is suitable for users who are less familiar with Kubernetes, containerization and other complex technologies, and lowers the barrier to deploying Nacos in Kubernetes.</p>
<h1>Background</h1>
<h2>Combination of Rainbond and Nacos</h2>
<p>Rainbond is an easy to use open source cloud native application management platform. With the help of it, users can complete the deployment, operation and maintenance of microservices in a graphical interface. With the help of Kubernetes and containerization technology, automatic operation and maintenance capabilities such as fault self-healing and elastic expansion can be endowed to users' applications.</p>
<p>Rainbond has a built-in native Service Mesh microservice framework, and also has a good integration experience with other microservice frameworks such as Spring Cloud and Dubbo. Therefore, a large number of Rainbond users may also be users of the Nacos microservices registry. Instead of worrying about how to deploy a Nacos cluster, the Rainbond team made Nacos a one-click application template for free download and installation by open source users. This installation method greatly reduces the deployment burden of users using Nacos clusters. Currently, versions 1.4.2 and 2.0.4 are supported.</p>
<h2>About application template</h2>
<p>Application template is package manager for Rainbond cloud native application management platform. Users can install applications into Rainbond with one-click. No matter how complex the application is, the application template abstracts it into an package, which is installed with docker images of all the components, configuration information, and relationships between all the components.</p>
<h1>Prerequisite</h1>
<ul>
<li>
<p>Deployed Rainbond cloud native application management platform,<a href="https://www.rainbond.com/docs/quick-start/quick-install/?channel=nacos">Quick Start</a> Can run in a PC within a container.</p>
</li>
<li>
<p>Internet connection.</p>
</li>
</ul>
<h1>Quick Start</h1>
<ul>
<li><strong>Access the built-in open source app store</strong></li>
</ul>
<blockquote>
<p>Select the <strong>App Store</strong> on the left, switch to the <strong>Open Source App Store</strong>, and search <strong>nacos</strong> to find the Nacos-cluster application.</p>
</blockquote>
<p><img src="https://static.goodrain.com/wechat/nacos-cluster/nacos-cluster-1.png" alt="nacos-1"></p>
<ul>
<li><strong>One-click install</strong></li>
</ul>
<blockquote>
<p>Click <strong>Install</strong> on the right of nacos-Cluster to enter the installation page. After filling in simple information, click <strong>OK</strong> to start the installation, and the page automatically jumps to the topology view.</p>
</blockquote>
<p><img src="https://static.goodrain.com/wechat/nacos-cluster/nacos-cluster-2.png" alt="nacos-2"></p>
<p>Parameters：</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Instructions</th>
</tr>
</thead>
<tbody>
<tr>
<td>团队名称</td>
<td>User-defined workspace isolated by namespace</td>
</tr>
<tr>
<td>集群名称</td>
<td>Select which K8s cluster Nacos will be deployed to</td>
</tr>
<tr>
<td>选择应用</td>
<td>Select the application to which Nacos will be deployed, which contains several associated components</td>
</tr>
<tr>
<td>应用版本</td>
<td>Select the version of Nacos, the useable versions are 1.4.2 and 2.0.4</td>
</tr>
</tbody>
</table>
<p>After a few minutes, the Nacos cluster is installed and up and running.</p>
<p><img src="https://static.goodrain.com/wechat/nacos-cluster/nacos-cluster-3.png" alt="nacos-3"></p>
<ul>
<li><strong>Testing</strong></li>
</ul>
<p>Other microservice components that need to perform service registration can connect to the Nacos cluster using <code>${NACOS_HOST}:${NACOS_PORT}</code> after built <a href="https://www.rainbond.com/docs/use-manual/user-manual/component-connection/regist_and_discover">dependencies</a> to Nacos.</p>
<ul>
<li>
<p><strong>Service registration</strong></p>
<pre><code class="language-bash">curl -X PUT <span class="hljs-string">"http://<span class="hljs-variable">${NACOS_HOST}</span>:<span class="hljs-variable">${NACOS_PORT}</span>/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;ip=20.18.7.10&amp;port=8080"</span>
</code></pre>
</li>
<li>
<p><strong>Service discovery</strong></p>
<pre><code class="language-bash">curl -X GET <span class="hljs-string">"http://<span class="hljs-variable">${NACOS_HOST}</span>:<span class="hljs-variable">${NACOS_PORT}</span>/nacos/v1/ns/instance/list?serviceName=nacos.naming.serviceName"</span>
</code></pre>
</li>
<li>
<p><strong>Publish config</strong></p>
<pre><code class="language-bash">curl -X POST <span class="hljs-string">"http://<span class="hljs-variable">${NACOS_HOST}</span>:<span class="hljs-variable">${NACOS_PORT}</span>/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;group=test&amp;content=helloWorld"</span>
</code></pre>
</li>
<li>
<p><strong>Get config</strong></p>
<pre><code class="language-bash">curl -X GET <span class="hljs-string">"http://<span class="hljs-variable">${NACOS_HOST}</span>:<span class="hljs-variable">${NACOS_PORT}</span>/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;group=test"</span>
</code></pre>
</li>
</ul>
<h1>Advanced</h1>
<ul>
<li>The one-click installation of the Nacos cluster contains three instances, and the self-organizing and electing of the cluster is done automatically by initContailer.</li>
</ul>
<p><img src="https://static.goodrain.com/wechat/nacos-cluster/nacos-cluster-4.png" alt="nacos-4"></p>
<ul>
<li>Mysql is integrated as the data source by default. You can switch to other external data sources by configuring the following environment variables in the <strong>Nacos-server-2.0.4</strong> component's environment configuration.</li>
</ul>
<table>
<thead>
<tr>
<th>Name</th>
<th>Necessary</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>MYSQL_SERVICE_HOST</code></td>
<td>Y</td>
<td>Database address</td>
</tr>
<tr>
<td><code>MYSQL_SERVICE_PORT</code></td>
<td>Y</td>
<td>Database port</td>
</tr>
<tr>
<td><code>MYSQL_SERVICE_USER</code></td>
<td>Y</td>
<td>Database username</td>
</tr>
<tr>
<td><code>MYSQL_SERVICE_PASSWORD</code></td>
<td>Y</td>
<td>Database password</td>
</tr>
<tr>
<td><code>MYSQL_SERVICE_DB_NAME</code></td>
<td>Y</td>
<td>Database name</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Nacos-server-2.0.4</strong> data persistence directory is generated by default.</li>
</ul>
<p><img src="https://static.goodrain.com/wechat/nacos-cluster/nacos-cluster-5.png" alt="nacos-5"></p>
<ul>
<li>By default, the health check mechanism of <strong>Nacos-server-2.0.4</strong> is configured to ensure that instances are automatically offline when faults occur and online after recovery.</li>
</ul>
<p><img src="https://static.goodrain.com/wechat/nacos-cluster/nacos-cluster-6.png" alt="nacos-6"></p>
</section><footer class="footer-container"><div class="footer-body"><img src="/img/nacos_gray.png"/><div class="cols-container"><div class="col col-12"><h3>Vision</h3><p>By providing an easy-to-use service infrastructure such as dynamic service discovery, service configuration, service sharing and management and etc., Nacos help users better construct, deliver and manage their own service platform, reuse and composite business service faster and deliver value of business innovation more quickly so as to win market for users in the era of cloud native and in all cloud environments, such as private, mixed, or public clouds.</p></div><div class="col col-6"><dl><dt>Documentation</dt><dd><a href="/en-us/docs/what-is-nacos.html" target="_self">Overview</a></dd><dd><a href="/en-us/docs/quick-start.html" target="_self">Quick start</a></dd><dd><a href="/en-us/docs/contributing.html" target="_self">Developer guide</a></dd></dl></div><div class="col col-6"><dl><dt>Resources</dt><dd><a href="/en-us/community/index.html" target="_self">Community</a></dd><dd><a href="https://www.aliyun.com/product/aliware/mse?spm=nacos.io.topbar.0.0.0" target="_self">Cloud Service MSE</a></dd><dd><a href="https://www.aliyun.com/product/edas?source_type=nacos_pc_20181219" target="_self">Cloud Service EDAS</a></dd><dd><a href="https://www.aliyun.com/product/ahas?source_type=nacos_pc_20190225" target="_self">Cloud Service AHAS</a></dd></dl></div></div><div class="copyright"><span>@ 2022 The Nacos Authors | An Alibaba Middleware (Aliware) Project</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script src="//g.alicdn.com/alilog/mlog/aplus_v2.js" id="beacon-aplus" exparams="clog=o&aplus&sidx=aplusSidx&ckx=aplusCkx"></script>
  <script src="//g.alicdn.com/aes/??tracker/1.0.34/index.js,tracker-plugin-pv/2.4.5/index.js,tracker-plugin-event/1.2.5/index.js,tracker-plugin-jserror/1.0.13/index.js,tracker-plugin-api/1.1.14/index.js,tracker-plugin-perf/1.1.8/index.js,tracker-plugin-eventTiming/1.0.4/index.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/blogDetail.js">
	</script>
	<script src="https://g.alicdn.com/mamba/assets/0.0.19/mse-arc-ui.min.js"></script>
	<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e3a5cec56ef8619cf9d7c2abebd509e3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0YDFJ7LX7F"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-0YDFJ7LX7F');
    </script>
</body>
</html>
