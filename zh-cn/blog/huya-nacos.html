<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="虎牙直播,nacos" />
	<meta name="description" content="虎牙直播共建Nacos生态" />
	<!-- 网页标签标题 -->
	<title>虎牙直播共建Nacos生态</title>
	<link rel="shortcut icon" href="https://img.alicdn.com/tfs/TB1hgJpHAPoK1RjSZKbXXX1IXXa-64-64.png"/>
	<link rel="stylesheet" href="/build/blogDetail.css" />
</head>
<body>
	<div id="root"><div class="blog-detail-page" data-reactroot="" data-reactid="1" data-react-checksum="917022269"><header class="header-container header-container-normal" data-reactid="2"><div class="header-body" data-reactid="3"><a href="/zh-cn/index.html" data-reactid="4"><img class="logo" src="/img/nacos_colorful.png" data-reactid="5"/></a><span class="language-switch language-switch-normal" data-reactid="6">En</span><div class="header-menu" data-reactid="7"><img class="header-menu-toggle" src="/img/menu_gray.png" data-reactid="8"/><ul data-reactid="9"><li class="menu-item menu-item-normal" data-reactid="10"><a href="/zh-cn/index.html" data-reactid="11">首页</a></li><li class="menu-item menu-item-normal" data-reactid="12"><a href="/zh-cn/docs/what-is-nacos.html" data-reactid="13">文档</a></li><li class="menu-item menu-item-normal" data-reactid="14"><a href="/zh-cn/docs/nacos-dev.html" data-reactid="15">开发者团队</a></li><li class="menu-item menu-item-normal menu-item-normal-active" data-reactid="16"><a href="/zh-cn/blog/index.html" data-reactid="17">博客</a></li><li class="menu-item menu-item-normal" data-reactid="18"><a href="/zh-cn/community/index.html" data-reactid="19">社区</a></li><li class="menu-item menu-item-normal" data-reactid="20"><a href="https://mp.weixin.qq.com/s/KH0dEC6cNckoq1M-siiCmg" data-reactid="21">阿里中间件-校园招聘</a></li><li class="menu-item menu-item-normal" data-reactid="22"><a href="http://console.nacos.io/nacos/index.html" data-reactid="23">控制台样例</a></li></ul></div></div></header><section class="blog-content markdown-body" data-reactid="24"><h1>虎牙直播共建Nacos生态</h1>
<p><img src="https://img.alicdn.com/tfs/TB1i4ugBjDpK1RjSZFrXXa78VXa-1522-584.png" alt="huya"></p>
<h2>虎牙直播平台(<a href="https://www.huya.com/">https://www.huya.com/</a>)</h2>
<p>虎牙直播是中国一家以游戏直播为主的视频直播网站。网站以YY直播为名创建于2011年，隶属于欢聚时代，2014年11月24日更名为虎牙直播，开始独立运营。其海外版本为以东南亚为市场的Nimo TV。虎牙直播是国内最为资深的以游戏内容为核心的直播平台，其在游戏方面有丰富的独家资源，汇聚目前最为火爆的游戏，如英雄联盟、王者荣耀、球球大作战、守望先锋、炉石传说、绝地求生、绝地求生手游——刺激战场、全民突击等主题的直播内容。</p>
<h2>虎牙中间件团队介绍</h2>
<p>虎牙中间件团队主要负责虎牙服务注册发现与配置中心 ，负责均衡，中间件等平台相关的建设，致力于保障改进虎牙用户接入的请求成功率及请求耗时，为虎牙提供稳定可靠全球基础接入服务设施，服务间通信的基础设施。</p>
<h2>虎牙团队成功引入Nacos到生产环境</h2>
<h3>nacos dns数据库高可用场景上落地</h3>
<p>通过DNS-F和nacos实现基于域名的服务发现，数据库接入由ip方式改成域名接入，数据库切换在秒级完成，已在内部数十个业务系统上完成接入。</p>
<h3>nacos cmdb方案落地</h3>
<p>nacos通过支持spi扩展的方式， 支持虎牙将cmdb的数据导入到nacos中，  可以实现对注册实例打入来自cmdb标签，  实现基于cmdb标签的负载均衡功能，  赋予业务同机房调度， 同set调度，  基于自己定义的标签进行流量分发的能力。</p>
<h3>tars服务框架融合nacos为注册中心</h3>
<p>通过nacos-sync这个中间件，将tars中的注册数据实时同步到nacos中，实现秒级同步tars中实例的变化， 同时提供高可用的集群方案；部署在国内外的nacos注册中心，满足业务就近注册服务，同时本地的服务会通过nacos-sync同步到其他集群，满足业务跨区域服务调用的需求。</p>
<h3>负载均衡层解到nacos config做配置管理</h3>
<p>国内外流量接入层位于全球各地， 配置的推送服务遇到比较大的挑战。 nacos config通过部署3地的配置服务集群，国内外流量接入层可以就近拉取配置，解决使用国内单节点svn服务的的速度问题。同时通过使用集群方案和本地文件缓存机制保证配置服务的高可用， 解决之前svn的单点问题。</p>
<h3>未来计划</h3>
<p>虎牙后续会继续在nacos上持续投入，今后的内部service mesh，容器服务注册场景发力。</p>
<h2>虎牙中间件团队深入共建Nacos</h2>
<p>虎牙中间件团队也深入参与了Nacos生态的构建，核心成员张波、周建、李志鹏参与构建了包括Nacos的核心同步组件Nacos-sync、Nacos的DNS-F模块，把虎牙的业务模型和生产部署经验也共建到Nacos生态中,在过程当中，张波、周建、李志鹏成为了Nacos的核心Committer，是Nacos重要的社区成员。</p>
</section><footer class="footer-container" data-reactid="25"><div class="footer-body" data-reactid="26"><img src="/img/nacos_gray.png" data-reactid="27"/><div class="cols-container" data-reactid="28"><div class="col col-12" data-reactid="29"><h3 data-reactid="30">愿景</h3><p data-reactid="31">Nacos 通过提供简单易用的动态服务发现、服务配置、服务共享与管理等服务基础设施，帮助用户在云原生时代，在私有云、混合云或者公有云等所有云环境中，更好的构建、交付、管理自己的微服务平台，更快的复用和组合业务服务，更快的交付商业创新的价值，从而为用户赢得市场。</p></div><div class="col col-6" data-reactid="32"><dl data-reactid="33"><dt data-reactid="34">文档</dt><dd data-reactid="35"><a href="/zh-cn/docs/what-is-nacos.html" target="_self" data-reactid="36">概览</a></dd><dd data-reactid="37"><a href="/zh-cn/docs/quick-start.html" target="_self" data-reactid="38">快速开始</a></dd><dd data-reactid="39"><a href="/zh-cn/docs/contributing.html" target="_self" data-reactid="40">开发者指南</a></dd></dl></div><div class="col col-6" data-reactid="41"><dl data-reactid="42"><dt data-reactid="43">资源</dt><dd data-reactid="44"><a href="/zh-cn/community/index.html" target="_self" data-reactid="45">社区</a></dd><dd data-reactid="46"><a href="https://www.aliyun.com/product/acm?source_type=nacos_pc_20181219" target="_self" data-reactid="47">云服务 ACM</a></dd><dd data-reactid="48"><a href="https://www.aliyun.com/product/edas?source_type=nacos_pc_20181219" target="_self" data-reactid="49">云服务 EDAS</a></dd><dd data-reactid="50"><a href="https://www.aliyun.com/product/ahas?source_type=nacos_pc_20190225" target="_self" data-reactid="51">云服务 AHAS</a></dd></dl></div></div><div class="copyright" data-reactid="52"><span data-reactid="53">@ 2018 The Nacos Authors | An Alibaba Middleware (Aliware) Project</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/blogDetail.js"></script>
</body>
</html>