{
  "filename": "2.3.0-beta-release.md",
  "__html": "<h1>Nacos 荣获GLCC优秀社区，同时2.3.0-BETA发布，欢迎试用</h1>\n<h2>新版本发布</h2>\n<p>经过4个多月社区的大量贡献，Nacos 2.3.0版本终于进入的Beta发布阶段，在经历了2.2.X的多个安全风险修复的版本后，又一次迎来了功能性上的更新版本。</p>\n<h3>Nacos 反脆弱插件</h3>\n<p>2.2.0版本加入ALPHA版本的反脆弱插件后，社区经过多次重构和修改，提升抽象度和稳定性，终于在2.3.0版本中正式公布了Nacos的反脆弱插件，用于避免Nacos集群在大量请求和连接时导致的容量问题而引发更大规模的故障。</p>\n<p>默认反脆弱实现插件的使用以及自定义反脆弱插件的开发可参考文档<a href=\"/zh-cn/docs/v2/plugin/control-plugin.html\">反脆弱插件</a>.</p>\n<h3>Nacos 配置变更插件</h3>\n<p>Nacos配置管理作为Nacos的核心功能，一直受到开发人员、运维人员和审计人员的关注，不少运维人员和审计人员向社区提出诉求，希望Nacos能够提供配置变更的审计、变更通知等功能；同时开发人员也希望Nacos提供一定的格式校验功能，避免修改配置时出现错误导致应用故障。</p>\n<p>由于Nacos配置管理本身对配置内容是不感知的，且各个用户公司的审计、通知系统也各不相同，因此Nacos为了能够更广阔的适配各个用户的诉求，在去年的开源之夏中制定了配置变更插件的课题，希望以插件化的形式，来满足对配置变更过程的介入。</p>\n<p>经过同学和导师长期的努力，该插件在2.3.0版本发布，用户可以开发自定义插件，在配置变更前和变更完成后，分别对接公司的审计系统和通知系统，并在变更前进行更多的校验操作，如格式校验，配置名字的规范化等。同时Nacos社区也提供了默认插件的实现，可接入webhook进行配置变更的通知以及导入配置的文件名校验等；详情可参考文档<a href=\"/zh-cn/docs/v2/plugin/config-change-plugin.html\">配置变更插件</a></p>\n<h3>Nacos 请求参数校验</h3>\n<p>2.3.0版本之前的Nacos的参数校验逻辑分散，由各类请求的处理方法单独进行校验，难以更改维护，经常出现参数校验的遗漏，参数校验的规则也没有明确统一；这使得用户使用时经常会因为一些特殊字符导致功能不符合预期或出现漏洞，甚至导致大量推送，导致带宽打满，内存占用过多，导致应用出现故障。</p>\n<p>在2.3.0版本中，Nacos明确了参数校验规则，在服务端实现了统一的参数校验逻辑并添加了参数校验层，根据校验规则对客户端向服务端发送的请求进行校验。用户可以选择开启参数校验功能，开启后Nacos将会对客户端向服务端发送的请求中的部分参数进行参数校验，确保参数的合法性，避免由于错误使用，导致的不符合预期以及性能问题。</p>\n<p>详细情况可参考文档<a href=\"/zh-cn/docs/v2/guide/user/parameters-check.html\">参数校验规则</a></p>\n<h3>Nacos 能力协商</h3>\n<p>随着Nacos功能越来越多，版本越来越多，客户端和服务端之间的兼容性愈发重要，如果继续保持尝试性的兼容，只会兼容能力愈发的困难。因此Nacos社区在去年开源之夏中，发布了课题，通过增加客户端和服务端之间的能力协商机制，在客户端连接到服务端时，让连接双方知道对方分别支持的功能，在支持对应功能的情况下，开启对应功能。避免通过尝试而增加通信开销。</p>\n<p>在2.3.0版本中，该能力也被集成进来，为之后Nacos3.0支持更多优化功能提供基础。</p>\n<h3>其他重要改动</h3>\n<p>除了上述改动，Nacos2.3.0版本还支持了：客户端异常的metrics、grpc长连接的SSL功能、关闭开源控制台等功能，更多细节可以查看变更列表，欢迎试用：</p>\n<pre><code class=\"language-markdown\"><span class=\"hljs-section\">## feature</span>\n[#5698] Support nacos control plugin.\n[#8458] Support ability negotiations between server and clients.\n[#8460] Support config change hook plugin.\n[#10117] Support metrics for nacos client request server exception.\n[#10150] Support SSL for grpc connection.\n[#10223] Support auto build instance id when client request instance id is null.\n[#10288] Support get more module state and switches in console.\n[#10734] Support validate most of request parameters.\n[#10774] Support toml format for configuration in console ui.\n[#10831] Support batch deregister instances for service.\n[#10971] Support disable console ui and support add guide information.\n\n<span class=\"hljs-section\">## Enhancement&amp;Refactor</span>\n[#6819] Add page size selector in service details page.\n[<span class=\"hljs-string\">#8107</span>][<span class=\"hljs-symbol\">#9109</span>][<span class=\"hljs-string\">#10169</span>][<span class=\"hljs-symbol\">#10176</span>] Enhance hint when console ui session expired for default auth plugin.\n[#9085] Add the Reachability Metadata required by native-image.\n[#9821] Enhance datasource plugin to make more datasource implementation easier.\n[#9881] Enhance configuration page to supports folding when editing configuration.\n[#10067] Enhance Windows compatibility for configuration snapshot.\n[#10155] Enhance hints for grpc request when request timeout.\n[#10343] Use CMS as default GC when jdk less 9.\n[#10361] Refactor module switches to make only load specified module but not only close in console ui.\n[#10520] Validate for namespace show name when create new namespace.\n[#10521] Enhance the hints for <span class=\"hljs-code\">`No DataSourceSet`</span> error by validate datasource after construction.\n[#10539] Enhance logs when opeation configuration failed.\n[#10730] Link to v2 document for console ui.\n[#10811] Enhance compatibility for colorful service healthy status in console ui.\n[#10891] Support setting maximum number of push retries.\n[#10930] Forward compatible old version secretKey for default auth plugin.\n[#11129] Remove the namespace information from the node list page.\n[#11231] Optimize the handleSpringBinder method in PropertiesUtil.\n\n<span class=\"hljs-section\">## BugFix</span>\n[#10056] Fix loss revision of client for distro sync.\n[#10128] Fix wrong judgement in raft stateMachine.\n[#10149] Fix dead lock on sending connection reset request on server over limit.\n[#10271] Fix nacos-client failover switch file path.\n[#10318] Fix import configuration problem.\n[#10347] Fix only admin role user can register service into default namespace when enabled default auth plugin.\n[#10406] Fix jraft install leader snapshot error after disconnection.\n[#10427] Fix nacos client no response when handle server request with exception.\n[#10464] Fix NPE when concurrent operations for client.\n[#10470] Fix some missed i18n for console ui.\n[#10509] Fix out data connection not be disconnect problem.\n[#10548] Fix switch domain might not load snapshot after restart.\n[#10556] Fix index loss for client and service in extreme scenarios.\n[#10583] Fix some new API loss auth check.\n[#10585] Fix selectInstances and selectOneHealthyInstance methods will not subscribe service problem.\n[#10593] Fix invalid create <span class=\"hljs-code\">`file:`</span> dir under <span class=\"hljs-code\">`nacos.home`</span>.\n[#10598] Fix nacos-client not random get server address when using address.\n[#10606] Fix memory leak for nacos client when user create and shutdown client frequently.\n[#10657] Fix NPE when using derby datasource for cluster mode.\n[#10935] Fix startsWith judgement wrong when ignoreCase is true.\n[#11056] Fix Batch register count size wrong, when batch register sereval time.\n[#11059] Fix RPC<span class=\"hljs-emphasis\">_CLIENT_</span>TLS_PROTOCOLS setting error.\n[#11192] Fix batchRegisterInstance not recalculate revision prblem.\n[#11197] Fix frequent do query service when hit protect empty.\n\n<span class=\"hljs-section\">## Dependency</span>\n[#7698] Remove httpasyncclient version dependency management to avoid version conflicts.\n[#10416] Upgrade console yaml editor.\n[#10648] Optimize Guava Dependency.\n[#10893] Upgrade spring boot to 2.7.15.\n[#11199] Upgrade grpc version to 1.57.2.\n</code></pre>\n<h2>开源之夏OSPP 2023以及编程夏令营GLCC 2023</h2>\n<p>经过夏天如火如荼的努力，Nacos今年的开源之夏也接近尾声，各项目进展稳步推进，均取得了不小的进展。</p>\n<h3>开源之夏 OSPP 2023</h3>\n<p>Nacos在2023年度的<a href=\"https://summer-ospp.ac.cn/org/orgdetail/ab188e59-fab8-468f-bc89-bdc2bd8b5e64?lang=zh\">开源之夏</a> 中，发布了9个项目，其中6个项目成功匹配同学，并基本完成了项目课题，其中不乏大量社区期待的新增功能和优化，将在后续版本中加入。</p>\n<p>入选项目列表</p>\n<ul>\n<li>客户端订阅者合并和数据选择功能</li>\n<li>为nacos-spring-boot-starter支持适配spring boot 3</li>\n<li>ConfigMap到Nacos配置中心自动同步工具</li>\n<li>客户端可观测性指标建设</li>\n<li>支持Nacos注册中心的模糊订阅能力</li>\n<li>实现其他部分xDS协议</li>\n</ul>\n<p>感谢导师和同学们的辛苦付出，也感谢主办方中科院软件所提供的优秀平台和活动。</p>\n<h3>Nacos 荣获编程夏令营 GLCC 2023优秀社区</h3>\n<p>Nacos在2023年度的<a href=\"https://www.gitlink.org.cn/glcc/2023/projects\">编程夏令营</a> 申报了一个Nacos3.0中呼声较高的一个功能作为课题 -- 支持分布式锁。 目前已在导师和同学的共同努力下，初步完成了功能，预计会在Nacos3.0的Alpha版本中在社区公布。</p>\n<p>由于导师和同学的努力，Nacos社区荣获CCF Gitlink 颁发的开源编程夏令营的优秀社区奖，感谢主办方Gitlink为社区提供的平台和活动。</p>\n<table>\n<thead>\n<tr>\n<th><img src=\"https://cdn.nlark.com/yuque/0/2023/jpeg/1577777/1698197262198-f88bab75-a8f8-41f8-9675-9bfa916642c7.jpeg#averageHue=%23786456&amp;clientId=ueeb4d907-433f-4&amp;from=drop&amp;id=udede56df&amp;originHeight=3024&amp;originWidth=4032&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=877771&amp;status=done&amp;style=none&amp;taskId=u6da77a56-e076-4a34-ae9b-c1e8afb010b&amp;title=\" alt=\"奖杯\"></th>\n<th><img src=\"https://cdn.nlark.com/yuque/0/2023/jpeg/1577777/1698197100242-e440717c-80ec-4825-93c1-2daca1f289c4.jpeg#averageHue=%236664b2&amp;clientId=u14301240-344a-4&amp;from=drop&amp;id=ua9e02282&amp;originHeight=854&amp;originWidth=1280&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=204483&amp;status=done&amp;style=none&amp;taskId=u7637d2eb-a17e-431e-a637-231a61f9e96&amp;title=\" alt=\"现场\"></th>\n</tr>\n</thead>\n<tbody></tbody>\n</table>\n<h2>展望</h2>\n<h3>2.X 后续计划</h3>\n<p>从2021年3月 2.0.0正式版发布至今，2.X版本已经走了接近2年时间，如今2.3.0版本发布，完成了大部分功能的插件化提炼，在之后的2.3.X版本中，会主要对当前版本的问题进行修复，并做出小范围的功能优化。同时对于2.4.0版本，会作为一个Nacos3.0的过度版本，对大量代码进行优化重构，在提升稳定性、健壮性的同时，提升易用性和可观测性，向Nacos3.0版本平稳过度。</p>\n<h3>3.0 计划</h3>\n<p>Nacos社区同时也开启了关于<a href=\"https://mp.weixin.qq.com/s/8UwwD_WxSJINP8Qr_1wogg\">Nacos3.0</a> 的畅想和规划，Nacos将会从统一控制面、支持国产化、存储计算分离等方向进一步演进Nacos的功能和架构，欢迎社区积极参与到新版本的建设中。</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/1577777/1698198629123-af9f1216-f996-4ac2-81bf-436048823d21.png\" alt=\"image.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/1577777/1660125280551-a2e881fe-d25e-4ebb-a28f-8e56683deef1.png#clientId=uf10cb19a-105c-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=url&amp;id=Z9to1&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=794&amp;originWidth=1650&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=185821&amp;status=done&amp;style=none&amp;taskId=u63849e10-1dae-45cb-b559-04d106ebe86&amp;title=#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=rUihF&amp;originHeight=794&amp;originWidth=1650&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=\" alt=\"image.png\"></p>\n<h2>About Nacos</h2>\n<p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。</p>\n<p>Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。</p>\n<p>最后欢迎大家扫码加入Nacos社区群</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/1577777/1679276899363-83081d59-67c6-4501-9cf8-0d84ba7c6d7e.png#averageHue=%23c1c2c2&amp;clientId=u9dfeac18-3281-4&amp;from=paste&amp;height=551&amp;id=ubcf45e51&amp;name=image.png&amp;originHeight=1102&amp;originWidth=854&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=155261&amp;status=done&amp;style=none&amp;taskId=ud6bea1fe-b003-441b-a810-84435d2aeff&amp;title=&amp;width=427\" alt=\"image.png\"></p>\n",
  "link": "/zh-cn/blog/2.3.0-beta-release.html",
  "meta": {
    "title": "Nacos 荣获GLCC优秀社区，同时2.3.0-BETA发布，欢迎试用",
    "keywords": "2.3.0",
    "description": "Nacos 荣获GLCC优秀社区，同时2.3.0-BETA发布，欢迎试用",
    "date": "2023-10-24"
  }
}