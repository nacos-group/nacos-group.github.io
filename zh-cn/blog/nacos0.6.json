{
  "filename": "nacos0.6.md",
  "__html": "<h1>Nacos 0.6版本发布，支持Dubbo生态并且支持Docker部署</h1>\n<blockquote>\n<p>Authors: 马昕曦、张龙、邢学超</p>\n</blockquote>\n<p><span data-type=\"color\" style=\"color:rgb(38, 38, 38)\"><span data-type=\"background\" style=\"background-color:rgb(255, 255, 255)\">阿里巴巴微服务开源项目</span></span><a href=\"https://github.com/alibaba/nacos\">Dubbo Nacos</a><span data-type=\"color\" style=\"color:rgb(38, 38, 38)\"><span data-type=\"background\" style=\"background-color:rgb(255, 255, 255)\">于本周发布 </span></span><strong>v0.6</strong><span data-type=\"color\" style=\"color:rgb(38, 38, 38)\"><span data-type=\"background\" style=\"background-color:rgb(255, 255, 255)\"> </span></span>版本，该版本主要在支持了 Dubbo的服务注册与发现和配置管理、支持docker 部署提供了官方的docker镜像、优化Nacos 控制台的国际化框架并且Nacos的集成测试效率也大大优化。</p>\n<p><img src=\"https://cdn.nlark.com/lark/0/2018/png/11189/1544689744102-fd00fec6-ca80-4c0c-9b0d-538f17279963.png\" alt=\"image.png | left | 747x290\"></p>\n<h2>千呼万唤始出来，Dubbo的注册中心和配置中心</h2>\n<p><strong>Nacos</strong> 从 <strong>v0.6</strong> 版本开始，支持 <strong>Dubbo</strong> 注册中心和配置中心，同样作为阿里巴巴开源的重量级别产品，两个产品在阿里巴巴集团的内部内部实现就有千丝万缕的联系。</p>\n<h3>Dubbo服务框架</h3>\n<p>作为rpc服务框架，一方面注重的是极其短的时延rt，保证整体的调用高效，并且另一方面保证良好的用户体验，保证用户使用舒适并且有良好的扩展性。Dubbo在这两方面做的都非常的优秀，也因为良好的拓展性，被业内广泛使用。Dubbo的普及度以及欢迎程度之高，通过2w+的github仓库star关注度就可见一斑。</p>\n<h3>Nacos 和 Dubbo 一脉相承的基因</h3>\n<p>但阿里巴巴技术体系下有如此高效的rpc服务框架，但到底是什么支撑了阿里巴巴庞大的服务集群呢。众所周知阿里巴巴集团有着恐怖的集群规模，每年阿里巴巴集团的天猫双11全球购物狂欢节都会有人瞎掉下巴的交易规模，2018年的双11当天承载了2135亿的销售额。但作为技术人员，最关心的是峰值。如果细心的从业者应该看到了一个指标，2018年天猫承载了交易创建峰值达49.1万笔/秒。举个例子，北京鸟巢体育馆最大承载用户量9万1千人，49.1w交易每秒交易，意味着5个鸟巢体育馆的满座的观众推着购物车，同时在一秒冲过天猫淘宝的结算台，这种压力可想而知。但背后的承载这么大规模的服务集群的，和阿里巴巴Dubbo的内部使用框架HSF，对应的ConfigServer，而这正是Nacos的前身之一。Nacos 发布的0.6版本正是宣布和Dubbo完美集成，也就宣布阿里巴巴在大规模集群的经验将随着Nacos、Dubbo、Sentinel等分享出来，贡献给开源社区。</p>\n<p><img src=\"https://cdn.nlark.com/lark/0/2018/png/11189/1544696219150-b786e8fe-af7d-4e29-9c32-03b051c6db3d.png\" alt=\"image.png | left | 747x413\"></p>\n<h3>Dubbo融合Nacos</h3>\n<p>Nacos 作为 Dubbo 生态系统中重要的注册中心基础设施，其中 <a href=\"https://github.com/dubbo/dubbo-registry-nacos\">dubbo-registry-nacos</a> 是 Dubbo 融合 Nacos 注册中心的桥梁，它基于 Dubbo 强大的<a href=\"http://dubbo.apache.org/zh-cn/docs/dev/impls/registry.html\">注册中心 SPI </a> 以及 Nacos Naming 服务，提供实时的服务注册和发现。目前 <a href=\"https://github.com/dubbo/dubbo-registry-nacos\">dubbo-registry-nacos</a>  处于 preview 阶段，最新的发布版本为 <code>0.0.2</code>，已测试最新的 Dubbo 以及 Dubbo OPS，推荐开发人员使用最新的 Dubbo <code>2.6.5</code> 以及 Nacos <code>0.6.1</code> ，确保享受最佳体验。如果您现在正在使用 Zookeeper 或者 Redis 作为注册中心的话，迁移到 Nacos 的部分也非常简单，以 Zookeeper 为例：</p>\n<ul>\n<li>场景一：外部化配置</li>\n</ul>\n<p>调整前的配置：</p>\n<pre><code class=\"language-properties\"><span class=\"hljs-comment\">## Zookeeper registry address</span>\n<span class=\"hljs-meta\">dubbo.registry.address</span> = <span class=\"hljs-string\">zookeeper://127.0.0.1:2181</span>\n</code></pre>\n<p>调整后的配置：</p>\n<pre><code class=\"language-properties\"><span class=\"hljs-comment\">## Nacos registry address</span>\n<span class=\"hljs-meta\">dubbo.registry.address</span> = <span class=\"hljs-string\">nacos://127.0.0.1:8848</span>\n</code></pre>\n<ul>\n<li>场景二：XML 配置驱动</li>\n</ul>\n<p>调整前的配置：</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-comment\">&lt;!-- 使用 Zookeeper 注册中心 --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:registry</span> <span class=\"hljs-attr\">address</span>=<span class=\"hljs-string\">\"zookeeper://127.0.0.1:2181\"</span> /&gt;</span>\n</code></pre>\n<p>调整后的配置：</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-comment\">&lt;!-- 使用 Nacos 注册中心 --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:registry</span> <span class=\"hljs-attr\">address</span>=<span class=\"hljs-string\">\"nacos://127.0.0.1:8848\"</span> /&gt;</span>\n</code></pre>\n<p>调整完毕后，先确保 Nacos Server 已启动，再重启您的 Dubbo 应用，随后您在 Nacos 控制台 “服务列表” 中就能看到注册信息：</p>\n<p><img src=\"https://cdn.nlark.com/lark/0/2018/png/11189/1544694815618-d316c463-701a-4095-a7d4-30bb0ec941b6.png\" alt=\"image-20181213174408269-4694248.png | left | 747x132\"></p>\n<p>如果您对 Dubbo 与 Nacos 整合敢兴趣，不妨访问项目主页了解更多详情，地址为：</p>\n<ul>\n<li>Dubbo Nacos Registry：<a href=\"https://github.com/dubbo/dubbo-registry-nacos\">https://github.com/dubbo/dubbo-registry-nacos</a></li>\n<li>Apache Dubbo：<a href=\"https://github.com/apache/incubator-dubbo\">https://github.com/apache/incubator-dubbo</a></li>\n</ul>\n<p>如果您在使用的过程中遇到了任何问题和有任何建言，请将在 <a href=\"https://github.com/dubbo/dubbo-registry-nacos/issues\">https://github.com/dubbo/dubbo-registry-nacos/issues</a> 中进行讨论。</p>\n<h2>容器大行其道，Nacos 支持 Docker 容器化</h2>\n<p>在容器大行其道的今天，支持容器化已经成为必然，Docker作为容器化大多数人的选择，Nacos 在v0.6 版本宣布\n支持Docker化部署，并且提供出官方镜像，并且会在预计在下几个版本中支持k8s部署。</p>\n<p><img src=\"https://cdn.nlark.com/lark/0/2018/png/11189/1544696801216-88a41d17-d101-4546-acfd-0aba38c6fa81.png\" alt=\"image.png | left | 747x285\"></p>\n<h3>如何通过Docker部署</h3>\n<p>本地需要确定已经按照了Docker，如果没有安装，请参考 <a href=\"https://docs.docker.com/install/\">https://docs.docker.com/install/</a>。安装之后这时就可以快速的从远程拉去镜像，拽起一个单机版本的Nacos，体验一下。\n简单粗暴，运行以下命令：</p>\n<pre><code class=\"language-plain\">docker run --name nacos-standalone -e MODE=standalone -p 8848:8848 nacos/nacos-server:latest\n</code></pre>\n<p>操作试例如下：</p>\n<p><img src=\"https://cdn.nlark.com/lark/0/2018/gif/11189/1544701054438-de9785c4-b9ab-46dc-a162-d22e1419a172.gif\" alt=\"Peek 2018-12-13 11-43.gif | left | 747x407\"></p>\n<p>另一种应用方式，<a href=\"https://docs.docker.com/compose/\">docker-compose</a>编排方式，可以参照以下命令：</p>\n<ol>\n<li>git clone 项目 并且进入项目根目录</li>\n</ol>\n<pre><code class=\"language-powershell\">git clone https://github.com/nacos<span class=\"hljs-literal\">-group</span>/nacos<span class=\"hljs-literal\">-docker</span>.git\ncd nacos<span class=\"hljs-literal\">-docker</span>\n</code></pre>\n<ol start=\"2\">\n<li>启动</li>\n</ol>\n<ul>\n<li>单机启动</li>\n</ul>\n<pre><code class=\"language-powershell\">docker<span class=\"hljs-literal\">-compose</span> <span class=\"hljs-operator\">-f</span> example/standalone.yaml up\n</code></pre>\n<ul>\n<li>集群启动</li>\n</ul>\n<pre><code class=\"language-powershell\">docker<span class=\"hljs-literal\">-compose</span> <span class=\"hljs-operator\">-f</span> example/cluster<span class=\"hljs-literal\">-hostname</span>.yaml up \n</code></pre>\n<p>这时你的Nacos就已经启动起来，你就可以访问<a href=\"http://localhost:8848/nacos/index.html\">http://localhost:8848/nacos/index.html</a>体验Nacos的功能了。</p>\n<h4>配置管理功能体验</h4>\n<p><img src=\"https://cdn.nlark.com/lark/0/2018/gif/11189/1544496461571-69f38431-6452-4ddd-8211-c2da28f2ebcf.gif\" alt=\"Peek 2018-12-11 10-11.gif | left | 747x351\"></p>\n<h4>服务发现功能体验</h4>\n<p><img src=\"https://cdn.nlark.com/lark/0/2018/gif/11189/1544521437636-674de542-1873-426b-a2dd-da8265bc267f.gif\" alt=\"Peek 2018-12-11 11-11.gif | left | 747x351\"></p>\n<h2>蓬勃发展的 Nacos 社区</h2>\n<blockquote>\n<p>DISS is cheap, show me your hand\n比吐槽更重要的是搭把手，参与社区一起发展Nacos</p>\n</blockquote>\n<ul>\n<li>作为用户关注和加入 Nacos 社区</li>\n</ul>\n<p>Nacos 社区正在蓬勃发展，截止到发文为止，Nacos 短短几个月已经有5个微信群，其中4个已满员，1个QQ群，1个钉钉群，关注 Nacos 的社区人数已经近3000人，在 Nacos 群里跟 “道（基）友” 切磋技术，交流经验，招聘交友，抢抢红包...不亦乐乎。</p>\n<p>要加入 Nacos 微信社区，你可以通过扫下面的__“超哥”<strong>的微信二维码，让</strong>“超哥”__ 帮你拉入 “Nacos社区微信交流群”</p>\n<p><img src=\"https://cdn.yuque.com/lark/0/2018/png/15914/1530077965587-8f4e3100-bdd4-469a-9ea0-7af7061bc9ef.png\" alt=\"Screen Shot 2018-06-27 at 13.39.09.png | left\"></p>\n<ul>\n<li>作为代码贡献者加入 Nacos 社区</li>\n</ul>\n<p>从Nacos用户发展而成贡献者顺理成章，而Nacos开发团队也确实在日趋壮大，从开始的只有4个代码contributor发展到目前的24个，随着__阿里巴巴__其他团队成员如 <strong>@小马哥</strong> 等人，__虎牙直播__的 <strong>@张波</strong> <strong>@周健</strong> 团队等人，<a href=\"https://github.com/nacos-group/nacos-docker\">nacos-docker-k8s</a> 贡献者 <strong>@张龙</strong>，前端的主要贡献者饿了么 <strong>@王彦民</strong>，Spring Cloud中文社区创立者 <strong>@许进</strong> 等的陆续加入，相信未来Nacos社区的力量未来会越来越强大。</p>\n<p>而社区也正在计划在合适的时机上，将在Nacos官网 <a href=\"http://nacos.io\">nacos.io</a> 中添加团队介绍页，将大家正式公布于众，欢迎大家加入Nacos社区，贡献社区。用Apache的话说，<strong>“社区高于代码”!</strong></p>\n<p><img src=\"https://cdn.nlark.com/lark/0/2018/png/15914/1542704700864-a9d54856-9bf6-4176-b449-c13fa02c5800.png\" alt=\"屏幕快照 2018-11-20 17.04.45.png | left\"></p>\n<h2>新人时刻 - &quot;什么是Nacos？&quot;</h2>\n<blockquote>\n<p>还不知道什么是Nacos? 没关系，在github上star一下跟程序猿兄弟打个招呼吧!!</p>\n</blockquote>\n<p><a href=\"https://github.com/alibaba/nacos\">Nacos</a> 是阿里巴巴于7月份新开源的项目，Nacos的主要愿景是期望通过提供易用的 <code>动态服务发现</code>、<code>服务配置管理</code>、<code>服务共享与管理</code> 的基础设施，帮助用户在云原生时代更好的构建、交付、管理自己的微服务平台。</p>\n<p><img src=\"https://cdn.nlark.com/lark/0/2018/png/15914/1532436633419-08a42307-7fb7-4d51-9062-fecc3868613b.png\" alt=\"Screen Shot 2018-07-24 at 19.27.28.png | left\"></p>\n<p>github项目地址在 <a href=\"https://github.com/alibaba/nacos\">这里</a></p>\n<h2>更多与 Nacos 相关的开源项目信息</h2>\n<ul>\n<li><a href=\"https://github.com/alibaba/nacos\">Nacos</a></li>\n<li><a href=\"https://github.com/dubbo/dubbo-registry-nacos\">Dubbo Registry Nacos</a></li>\n<li><a href=\"https://github.com/nacos-group/nacos-coredns-plugin\">Nacos DNS-F</a></li>\n<li><a href=\"https://github.com/nacos-group/nacos-docker\">Nacos Docker</a></li>\n<li><a href=\"https://github.com/nacos-group/nacos-spring-project\">Nacos Spring Project</a></li>\n<li><a href=\"https://github.com/nacos-group/nacos-spring-boot-project\">Nacos Spring Boot</a></li>\n<li><a href=\"https://github.com/spring-cloud-incubator/spring-cloud-alibaba\">Spring Cloud Alibaba</a></li>\n<li><a href=\"http://dubbo.io\">Dubbo</a></li>\n<li><a href=\"https://github.com/alibaba/Sentinel\">Sentinel</a></li>\n<li><a href=\"https://projects.spring.io/spring-cloud/\">Spring Cloud</a></li>\n<li><a href=\"https://github.com/Nepxion/Discovery\">Nepxion Discovery</a></li>\n<li><a href=\"https://github.com/SpringCloud/spring-cloud-gateway-nacos\">Spring Cloud Gateway Nacos</a></li>\n</ul>\n",
  "link": "\\zh-cn\\blog\\nacos0.6.html",
  "meta": {
    "title": "Nacos 0.6版本发布，支持Dubbo生态并且支持Docker部署",
    "keywords": "nacos0.6,dubbo,docker",
    "description": "Nacos 0.6版本发布，支持Dubbo生态并且支持Docker部署"
  }
}