{
  "filename": "open-api.md",
  "__html": "<h1>Open API 指南</h1>\n<ul>\n<li>\n<p>配置管理</p>\n<ul>\n<li><a href=\"#1.1\">获取配置</a></li>\n<li><a href=\"#1.2\">监听配置</a></li>\n<li><a href=\"#1.3\">发布配置</a></li>\n<li><a href=\"#1.4\">删除配置</a></li>\n<li><a href=\"#1.5\">查询历史版本</a></li>\n<li><a href=\"#1.6\">查询历史版本详情</a></li>\n<li><a href=\"#1.7\">查询配置上一版本信息</a></li>\n</ul>\n</li>\n<li>\n<p>服务发现</p>\n<ul>\n<li><a href=\"#2.1\">注册实例</a></li>\n<li><a href=\"#2.2\">注销实例</a></li>\n<li><a href=\"#2.3\">修改实例</a></li>\n<li><a href=\"#2.4\">查询实例列表</a></li>\n<li><a href=\"#2.5\">查询实例详情</a></li>\n<li><a href=\"#2.6\">发送实例心跳</a></li>\n<li><a href=\"#2.7\">创建服务</a></li>\n<li><a href=\"#2.8\">删除服务</a></li>\n<li><a href=\"#2.9\">修改服务</a></li>\n<li><a href=\"#2.10\">查询服务</a></li>\n<li><a href=\"#2.11\">查询服务列表</a></li>\n<li><a href=\"#2.12\">查询系统开关</a></li>\n<li><a href=\"#2.13\">修改系统开关</a></li>\n<li><a href=\"#2.14\">查看系统当前数据指标</a></li>\n<li><a href=\"#2.15\">查看当前集群Server列表</a></li>\n<li><a href=\"#2.16\">查看当前集群leader</a></li>\n<li><a href=\"#2.17\">更新实例的健康状态</a></li>\n<li><a href=\"#2.18\">批量更新实例元数据(Beta)</a></li>\n<li><a href=\"#2.19\">批量删除实例元数据(Beta)</a></li>\n</ul>\n</li>\n<li>\n<p>命名空间</p>\n<ul>\n<li><a href=\"#3.1\">查询命名空间列表</a></li>\n<li><a href=\"#3.2\">创建命名空间</a></li>\n<li><a href=\"#3.3\">修改命名空间</a></li>\n<li><a href=\"#3.4\">删除命名空间</a></li>\n</ul>\n</li>\n</ul>\n<h2>配置管理</h2>\n<h2 id=\"1.1\">获取配置</h2>\n<h3>描述</h3>\n<p>获取Nacos上的配置。</p>\n<h3>请求类型</h3>\n<p>GET</p>\n<h3>请求URL</h3>\n<p>/nacos/v1/cs/configs</p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必须</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">tenant</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">租户信息，对应 Nacos 的命名空间ID字段。</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dataId</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置 ID。</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">group</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置分组。</td>\n</tr>\n</tbody>\n</table>\n<h3>返回参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">参数类型</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">配置值</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>\n<p>请求示例</p>\n<pre><code class=\"language-plain\">curl -X GET 'http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.example&amp;group=com.alibaba.nacos'\n\n</code></pre>\n</li>\n<li>\n<p>返回示例</p>\n<pre><code>contentTest\n</code></pre>\n</li>\n</ul>\n<h2 id=\"1.2\">监听配置</h2>\n<h3>描述</h3>\n<p>监听 Nacos 上的配置，以便实时感知配置变更。如果配置变更，则用<a href=\"~~64131~~\">获取配置</a>接口获取配置的最新值，动态刷新本地缓存。</p>\n<p>注册监听采用的是异步 Servlet 技术。注册监听本质就是带着配置和配置值的 MD5 值和后台对比。如果 MD5 值不一致，就立即返回不一致的配置。如果值一致，就等待住 30 秒。返回值为空。</p>\n<h3>请求类型</h3>\n<p>POST</p>\n<h3>请求URL</h3>\n<p>/nacos/v1/cs/configs/listener</p>\n<h3>请求参数</h3>\n<div class=\"bi-table\">\n  <table>\n    <colgroup>\n      <col width=\"auto\" />\n      <col width=\"118px\" />\n      <col width=\"115px\" />\n      <col width=\"325px\" />\n    </colgroup>\n    <tbody>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">名称</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">类型</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">是否必须</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">描述</div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">Listening-Configs</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">string</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">是</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">监听数据报文。格式为 dataId^2Group^2contentMD5^2tenant^1或者dataId^2Group^2contentMD5^1。</div>\n          <ul data-type=\"unordered-list\">\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\">dataId：配置 ID</div>\n            </li>\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\">group：配置分组</div>\n            </li>\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\">contentMD5：配置内容 MD5 值</div>\n            </li>\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\">tenant：租户信息，对应 Nacos 的命名空间字段(非必填)</div>\n            </li>\n          </ul>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<h3>Header 参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必须</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Long-Pulling-Timeout</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">长轮训等待 30s，此处填写 30000。</td>\n</tr>\n</tbody>\n</table>\n<h3>参数说明</h3>\n<ul>\n<li>配置多个字段间分隔符：^2  = Character.toString((char) 2</li>\n<li>配置间分隔符：^1 = Character.toString((char) 1)</li>\n<li>contentMD5:  MD5(content)，第一次本地缓存为空，所以这块为空串</li>\n</ul>\n<h3>返回参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">参数类型</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">配置值</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>请求示例</li>\n</ul>\n<pre><code>http://serverIp:8848/nacos/v1/cs/configs/listener\n\nPOST 请求体数据内容：\n\nListening-Configs=dataId^2group^2contentMD5^2tenant^1\n</code></pre>\n<ul>\n<li>返回示例</li>\n</ul>\n<pre><code>如果配置变化\n\ndataId^2group^2tenant^1\n\n如果配置无变化：会返回空串\n</code></pre>\n<h2 id=\"1.3\">发布配置</h2>\n<h3>描述</h3>\n<p>发布 Nacos 上的配置。</p>\n<h3>请求类型</h3>\n<p>POST</p>\n<h3>请求 URL</h3>\n<p>/nacos/v1/cs/configs</p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必须</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">tenant</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">租户信息，对应 Nacos 的命名空间ID字段</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dataId</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置 ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">group</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置分组</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">content</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置内容</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">type</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">配置类型</td>\n</tr>\n</tbody>\n</table>\n<h3>返回参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">参数类型</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">是否发布成功</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>请求示例</li>\n</ul>\n<pre><code>curl -X POST 'http://127.0.0.1:8848/nacos/v1/cs/configs' -d 'dataId=nacos.example&amp;group=com.alibaba.nacos&amp;content=contentTest'\n\n</code></pre>\n<ul>\n<li>返回示例</li>\n</ul>\n<pre><code>true\n</code></pre>\n<h2 id=\"1.4\">删除配置</h2>\n<h3>描述</h3>\n<p>删除 Nacos 上的配置。</p>\n<h3>请求类型</h3>\n<p>DELETE</p>\n<h3>请求 URL</h3>\n<p>/nacos/v1/cs/configs</p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必须</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">tenant</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">租户信息，对应 Naocs 的命名空间ID字段</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dataId</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置 ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">group</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置分组</td>\n</tr>\n</tbody>\n</table>\n<h3>返回参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">参数类型</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">是否删除成功</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>请求示例</li>\n</ul>\n<pre><code>curl -X DELETE 'http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.example&amp;group=com.alibaba.nacos'\n\n</code></pre>\n<ul>\n<li>返回示例</li>\n</ul>\n<pre><code>true\n</code></pre>\n<h2 id=\"1.5\">查询历史版本</h2>\n<h3>描述</h3>\n<p>查询配置项历史版本。</p>\n<h3>请求类型</h3>\n<p>GET</p>\n<h3>请求 URL</h3>\n<p>/nacos/v1/cs/history?search=accurate</p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必须</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">tenant</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">租户信息，对应 Naocs 的命名空间ID字段</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dataId</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置 ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">group</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置分组</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">pageNo</td>\n<td style=\"text-align:left\">integer</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">当前页码</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">pageSize</td>\n<td style=\"text-align:left\">integer</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">分页条数(默认100条,最大为500)</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>请求示例</li>\n</ul>\n<pre><code>curl -X GET 'http://127.0.0.1:8848/nacos/v1/cs/history?search=accurate&amp;dataId=nacos.example&amp;group=com.alibaba.nacos'\n</code></pre>\n<ul>\n<li>返回示例</li>\n</ul>\n<pre><code>{\n  &quot;totalCount&quot;: 1,\n  &quot;pageNumber&quot;: 1,\n  &quot;pagesAvailable&quot;: 1,\n  &quot;pageItems&quot;: [\n    {\n      &quot;id&quot;: &quot;203&quot;,\n      &quot;lastId&quot;: -1,\n      &quot;dataId&quot;: &quot;nacos.example&quot;,\n      &quot;group&quot;: &quot;com.alibaba.nacos&quot;,\n      &quot;tenant&quot;: &quot;&quot;,\n      &quot;appName&quot;: &quot;&quot;,\n      &quot;md5&quot;: null,\n      &quot;content&quot;: null,\n      &quot;srcIp&quot;: &quot;0:0:0:0:0:0:0:1&quot;,\n      &quot;srcUser&quot;: null,\n      &quot;opType&quot;: &quot;I         &quot;,\n      &quot;createdTime&quot;: &quot;2010-05-04T16:00:00.000+0000&quot;,\n      &quot;lastModifiedTime&quot;: &quot;2020-12-05T01:48:03.380+0000&quot;\n    }\n  ]\n}\n</code></pre>\n<h2 id=\"1.6\">查询历史版本详情</h2>\n<h3>描述</h3>\n<p>查询配置项历史版本详情</p>\n<h3>请求类型</h3>\n<p>GET</p>\n<h3>请求 URL</h3>\n<p>/nacos/v1/cs/history</p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必须</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">nid</td>\n<td style=\"text-align:left\">Integer</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置项历史版本ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">tenant</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">租户信息，对应 Naocs 的命名空间ID字段 （2.0.3起）</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dataId</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置 ID （2.0.3起）</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">group</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置分组 （2.0.3起）</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>注意：2.0.3版本起，此接口需要新增字段tenant、dataId和group，其中tenant非必填。</p>\n</blockquote>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>请求示例</li>\n</ul>\n<pre><code>curl -X GET 'http://127.0.0.1:8848/nacos/v1/cs/history?nid=203&amp;tenant=&amp;dataId=nacos.example&amp;group=com.alibaba.nacos'\n</code></pre>\n<ul>\n<li>返回示例</li>\n</ul>\n<pre><code>{\n  &quot;id&quot;: &quot;203&quot;,\n  &quot;lastId&quot;: -1,\n  &quot;dataId&quot;: &quot;nacos.example&quot;,\n  &quot;group&quot;: &quot;com.alibaba.nacos&quot;,\n  &quot;tenant&quot;: &quot;&quot;,\n  &quot;appName&quot;: &quot;&quot;,\n  &quot;md5&quot;: &quot;9f67e6977b100e00cab385a75597db58&quot;,\n  &quot;content&quot;: &quot;contentTest&quot;,\n  &quot;srcIp&quot;: &quot;0:0:0:0:0:0:0:1&quot;,\n  &quot;srcUser&quot;: null,\n  &quot;opType&quot;: &quot;I         &quot;,\n  &quot;createdTime&quot;: &quot;2010-05-04T16:00:00.000+0000&quot;,\n  &quot;lastModifiedTime&quot;: &quot;2020-12-05T01:48:03.380+0000&quot;\n}\n</code></pre>\n<h2 id=\"1.7\">查询配置上一版本信息</h2>\n<h3>描述</h3>\n<p>查询配置上一版本信息(1.4起)</p>\n<h3>请求类型</h3>\n<p>GET</p>\n<h3>请求 URL</h3>\n<p>/nacos/v1/cs/history/previous</p>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必须</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">id</td>\n<td style=\"text-align:left\">Integer</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">tenant</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">租户信息，对应 Naocs 的命名空间ID字段 （2.0.3起）</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dataId</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置 ID （2.0.3起）</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">group</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">是</td>\n<td style=\"text-align:left\">配置分组 （2.0.3起）</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>说明：2.0.3版本起，此接口需要新增字段tenant、dataId和group，其中tenant非必填。</p>\n</blockquote>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例</h3>\n<ul>\n<li>请求示例</li>\n</ul>\n<pre><code>curl -X GET 'http://127.0.0.1:8848/nacos/v1/cs/history/previous?id=309135486247505920&amp;tenant=&amp;dataId=nacos.example&amp;group=com.alibaba.nacos'\n</code></pre>\n<ul>\n<li>返回示例</li>\n</ul>\n<pre><code>{\n  &quot;id&quot;: &quot;203&quot;,\n  &quot;lastId&quot;: -1,\n  &quot;dataId&quot;: &quot;nacos.example&quot;,\n  &quot;group&quot;: &quot;com.alibaba.nacos&quot;,\n  &quot;tenant&quot;: &quot;&quot;,\n  &quot;appName&quot;: &quot;&quot;,\n  &quot;md5&quot;: &quot;9f67e6977b100e00cab385a75597db58&quot;,\n  &quot;content&quot;: &quot;contentTest&quot;,\n  &quot;srcIp&quot;: &quot;0:0:0:0:0:0:0:1&quot;,\n  &quot;srcUser&quot;: null,\n  &quot;opType&quot;: &quot;I         &quot;,\n  &quot;createdTime&quot;: &quot;2010-05-04T16:00:00.000+0000&quot;,\n  &quot;lastModifiedTime&quot;: &quot;2020-12-05T01:48:03.380+0000&quot;\n}\n</code></pre>\n<h2>服务发现</h2>\n<h2 id=\"2.1\">注册实例</h2>\n<h3>描述</h3>\n<p>注册一个实例到服务。</p>\n<h3>请求类型</h3>\n<p>POST</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/instance\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">ip</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务实例IP</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">port</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:left\">是</td>\n<td>服务实例port</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>命名空间ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">weight</td>\n<td style=\"text-align:left\">double</td>\n<td style=\"text-align:left\">否</td>\n<td>权重</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">enabled</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">否</td>\n<td>是否上线</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">healthy</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">否</td>\n<td>是否健康</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">metadata</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>扩展信息</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">clusterName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>集群名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">serviceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">groupName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>分组名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ephemeral</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">否</td>\n<td>是否临时实例</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X POST 'http://127.0.0.1:8848/nacos/v1/ns/instance?port=8848&amp;healthy=true&amp;ip=11.11.11.11&amp;weight=1.0&amp;serviceName=nacos.test.3&amp;encoding=GBK&amp;namespaceId=n1'\n</code></pre>\n<h3>示例返回</h3>\n<p>ok</p>\n<h2 id=\"2.2\">注销实例</h2>\n<h3>描述</h3>\n<p>删除服务下的一个实例。</p>\n<h3>请求类型</h3>\n<p>DELETE</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/instance\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">serviceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">groupName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>分组名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ip</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务实例IP</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">port</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:left\">是</td>\n<td>服务实例port</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">clusterName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>集群名称</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>命名空间ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ephemeral</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">否</td>\n<td>是否临时实例</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X DELETE '127.0.0.1:8848/nacos/v1/ns/instance?serviceName=nacos.test.1&amp;ip=1.1.1.1&amp;port=8888&amp;clusterName=TEST1'\n</code></pre>\n<h3>示例返回</h3>\n<p>ok</p>\n<h2 id=\"2.3\">修改实例</h2>\n<h3>描述</h3>\n<p>修改服务下的一个实例。</p>\n<h3>请求类型</h3>\n<p>PUT</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/instance\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">serviceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">groupName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>分组名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ip</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务实例IP</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">port</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:left\">是</td>\n<td>服务实例port</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">clusterName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>集群名称</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>命名空间ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">weight</td>\n<td style=\"text-align:left\">double</td>\n<td style=\"text-align:left\">否</td>\n<td>权重</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">metadata</td>\n<td style=\"text-align:left\">JSON</td>\n<td style=\"text-align:left\">否</td>\n<td>扩展信息</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">enabled</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">否</td>\n<td>是否打开流量</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ephemeral</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">否</td>\n<td>是否临时实例</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X PUT '127.0.0.1:8848/nacos/v1/ns/instance?serviceName=nacos.test.1&amp;ip=1.1.1.1&amp;port=8888&amp;clusterName=TEST1&amp;weight=8&amp;metadata={}'\n</code></pre>\n<h3>示例返回</h3>\n<p>ok</p>\n<h2 id=\"2.4\">查询实例列表</h2>\n<h3>描述</h3>\n<p>查询服务下的实例列表</p>\n<h3>请求类型</h3>\n<p>GET</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/instance/list\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">serviceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">groupName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>分组名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>命名空间ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">clusters</td>\n<td style=\"text-align:left\">字符串，多个集群用逗号分隔</td>\n<td style=\"text-align:left\">否</td>\n<td>集群名称</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">healthyOnly</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">否，默认为false</td>\n<td>是否只返回健康实例</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X GET '127.0.0.1:8848/nacos/v1/ns/instance/list?serviceName=nacos.test.1'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"dom\"</span>: <span class=\"hljs-string\">\"nacos.test.1\"</span>,\n\t<span class=\"hljs-attr\">\"cacheMillis\"</span>: <span class=\"hljs-number\">1000</span>,\n\t<span class=\"hljs-attr\">\"useSpecifiedURL\"</span>: <span class=\"hljs-literal\">false</span>,\n\t<span class=\"hljs-attr\">\"hosts\"</span>: [{\n\t\t<span class=\"hljs-attr\">\"valid\"</span>: <span class=\"hljs-literal\">true</span>,\n\t\t<span class=\"hljs-attr\">\"marked\"</span>: <span class=\"hljs-literal\">false</span>,\n\t\t<span class=\"hljs-attr\">\"instanceId\"</span>: <span class=\"hljs-string\">\"10.10.10.10-8888-DEFAULT-nacos.test.1\"</span>,\n\t\t<span class=\"hljs-attr\">\"port\"</span>: <span class=\"hljs-number\">8888</span>,\n\t\t<span class=\"hljs-attr\">\"ip\"</span>: <span class=\"hljs-string\">\"10.10.10.10\"</span>,\n\t\t<span class=\"hljs-attr\">\"weight\"</span>: <span class=\"hljs-number\">1.0</span>,\n\t\t<span class=\"hljs-attr\">\"metadata\"</span>: {}\n\t}],\n\t<span class=\"hljs-attr\">\"checksum\"</span>: <span class=\"hljs-string\">\"3bbcf6dd1175203a8afdade0e77a27cd1528787794594\"</span>,\n\t<span class=\"hljs-attr\">\"lastRefTime\"</span>: <span class=\"hljs-number\">1528787794594</span>,\n\t<span class=\"hljs-attr\">\"env\"</span>: <span class=\"hljs-string\">\"\"</span>,\n\t<span class=\"hljs-attr\">\"clusters\"</span>: <span class=\"hljs-string\">\"\"</span>\n}\n</code></pre>\n<h2 id=\"2.5\">查询实例详情</h2>\n<h3>描述</h3>\n<p>查询一个服务下个某个实例详情。</p>\n<h3>请求类型</h3>\n<p>GET</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/instance\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">serviceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">groupName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>分组名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ip</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>实例IP</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">port</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>实例端口</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>命名空间ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">cluster</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>集群名称</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">healthyOnly</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">否，默认为false</td>\n<td>是否只返回健康实例</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ephemeral</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">否</td>\n<td>是否临时实例</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X GET '127.0.0.1:8848/nacos/v1/ns/instance?serviceName=nacos.test.2&amp;ip=10.10.10.10&amp;port=8888&amp;cluster=DEFAULT'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code class=\"language-json\">{\n\t<span class=\"hljs-attr\">\"metadata\"</span>: {},\n\t<span class=\"hljs-attr\">\"instanceId\"</span>: <span class=\"hljs-string\">\"10.10.10.10-8888-DEFAULT-nacos.test.2\"</span>,\n\t<span class=\"hljs-attr\">\"port\"</span>: <span class=\"hljs-number\">8888</span>,\n\t<span class=\"hljs-attr\">\"service\"</span>: <span class=\"hljs-string\">\"nacos.test.2\"</span>,\n\t<span class=\"hljs-attr\">\"healthy\"</span>: <span class=\"hljs-literal\">false</span>,\n\t<span class=\"hljs-attr\">\"ip\"</span>: <span class=\"hljs-string\">\"10.10.10.10\"</span>,\n\t<span class=\"hljs-attr\">\"clusterName\"</span>: <span class=\"hljs-string\">\"DEFAULT\"</span>,\n\t<span class=\"hljs-attr\">\"weight\"</span>: <span class=\"hljs-number\">1.0</span>\n}\n</code></pre>\n<h2 id=\"2.6\">发送实例心跳</h2>\n<h3>描述</h3>\n<p>发送某个实例的心跳</p>\n<h3>请求类型</h3>\n<p>PUT</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/instance/beat\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">serviceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">groupName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>分组名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ephemeral</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">否</td>\n<td>是否临时实例</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">beat</td>\n<td style=\"text-align:left\">JSON格式字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>实例心跳内容</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X PUT '127.0.0.1:8848/nacos/v1/ns/instance/beat?serviceName=nacos.test.2&amp;beat=%7b%22cluster%22%3a%22c1%22%2c%22ip%22%3a%22127.0.0.1%22%2c%22metadata%22%3a%7b%7d%2c%22port%22%3a8080%2c%22scheduled%22%3atrue%2c%22serviceName%22%3a%22jinhan0Fx4s.173TL.net%22%2c%22weight%22%3a1%7d'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>ok\n</code></pre>\n<h2 id=\"2.7\">创建服务</h2>\n<h3>描述</h3>\n<p>创建一个服务</p>\n<h3>请求类型</h3>\n<p>POST</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/service\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">serviceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">groupName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>分组名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>命名空间ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">protectThreshold</td>\n<td style=\"text-align:left\">浮点数</td>\n<td style=\"text-align:left\">否</td>\n<td>保护阈值,取值0到1,默认0</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">metadata</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>元数据</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">selector</td>\n<td style=\"text-align:left\">JSON格式字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>访问策略</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X POST '127.0.0.1:8848/nacos/v1/ns/service?serviceName=nacos.test.2&amp;metadata=k1%3dv1'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>ok\n</code></pre>\n<h2 id=\"2.8\">删除服务</h2>\n<h3>描述</h3>\n<p>删除一个服务,只有当服务下实例数为0时允许删除</p>\n<h3>请求类型</h3>\n<p>DELETE</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/service\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">serviceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">groupName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>分组名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>命名空间ID</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X DELETE '127.0.0.1:8848/nacos/v1/ns/service?serviceName=nacos.test.2'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>ok\n</code></pre>\n<h2 id=\"2.9\">修改服务</h2>\n<h3>描述</h3>\n<p>更新一个服务</p>\n<h3>请求类型</h3>\n<p>PUT</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/service\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">serviceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">groupName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>分组名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>命名空间ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">protectThreshold</td>\n<td style=\"text-align:left\">浮点数</td>\n<td style=\"text-align:left\">否</td>\n<td>保护阈值,取值0到1,默认0</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">metadata</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>元数据</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">selector</td>\n<td style=\"text-align:left\">JSON格式字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>访问策略</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X PUT '127.0.0.1:8848/nacos/v1/ns/service?serviceName=nacos.test.2&amp;metadata=k1%3dv1'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>ok\n</code></pre>\n<h2 id=\"2.10\">查询服务</h2>\n<h3>描述</h3>\n<p>查询一个服务</p>\n<h3>请求类型</h3>\n<p>GET</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/service\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">serviceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">groupName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>分组名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>命名空间ID</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X GET '127.0.0.1:8848/nacos/v1/ns/service?serviceName=nacos.test.2'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>{\n    metadata: { },\n    groupName: &quot;DEFAULT_GROUP&quot;,\n    namespaceId: &quot;public&quot;,\n    name: &quot;nacos.test.2&quot;,\n    selector: {\n        type: &quot;none&quot;\n    },\n    protectThreshold: 0,\n    clusters: [\n        {\n            healthChecker: {\n                type: &quot;TCP&quot;\n            },\n            metadata: { },\n            name: &quot;c1&quot;\n        }\n    ]\n}\n</code></pre>\n<h2 id=\"2.11\">查询服务列表</h2>\n<h3>描述</h3>\n<p>查询服务列表</p>\n<h3>请求类型</h3>\n<p>GET</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/service/list\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">pageNo</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:left\">是</td>\n<td>当前页码</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">pageSize</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:left\">是</td>\n<td>分页大小</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">groupName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>分组名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>命名空间ID</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X GET '127.0.0.1:8848/nacos/v1/ns/service/list?pageNo=1&amp;pageSize=2'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>{\n    &quot;count&quot;:148,\n    &quot;doms&quot;: [\n        &quot;nacos.test.1&quot;,\n        &quot;nacos.test.2&quot;\n    ]\n}\n</code></pre>\n<h2 id=\"2.12\">查询系统开关</h2>\n<h3>描述</h3>\n<p>查询系统开关</p>\n<h3>请求类型</h3>\n<p>GET</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/operator/switches\n</code></pre>\n<h3>请求参数</h3>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X GET '127.0.0.1:8848/nacos/v1/ns/operator/switches'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>{\n    name: &quot;00-00---000-NACOS_SWITCH_DOMAIN-000---00-00&quot;,\n    masters: null,\n    adWeightMap: { },\n    defaultPushCacheMillis: 10000,\n    clientBeatInterval: 5000,\n    defaultCacheMillis: 3000,\n    distroThreshold: 0.7,\n    healthCheckEnabled: true,\n    distroEnabled: true,\n    enableStandalone: true,\n    pushEnabled: true,\n    checkTimes: 3,\n    httpHealthParams: {\n        max: 5000,\n        min: 500,\n        factor: 0.85\n    },\n    tcpHealthParams: {\n        max: 5000,\n        min: 1000,\n        factor: 0.75\n    },\n    mysqlHealthParams: {\n        max: 3000,\n        min: 2000,\n        factor: 0.65\n    },\n    incrementalList: [ ],\n    serverStatusSynchronizationPeriodMillis: 15000,\n    serviceStatusSynchronizationPeriodMillis: 5000,\n    disableAddIP: false,\n    sendBeatOnly: false,\n    limitedUrlMap: { },\n    distroServerExpiredMillis: 30000,\n    pushGoVersion: &quot;0.1.0&quot;,\n    pushJavaVersion: &quot;0.1.0&quot;,\n    pushPythonVersion: &quot;0.4.3&quot;,\n    pushCVersion: &quot;1.0.12&quot;,\n    enableAuthentication: false,\n    overriddenServerStatus: &quot;UP&quot;,\n    defaultInstanceEphemeral: true,\n    healthCheckWhiteList: [ ],\n    checksum: null\n}\n</code></pre>\n<h2 id=\"2.13\">修改系统开关</h2>\n<h3>描述</h3>\n<p>修改系统开关</p>\n<h3>请求类型</h3>\n<p>PUT</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/operator/switches\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">entry</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>开关名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">value</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>开关值</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">debug</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">否</td>\n<td>是否只在本机生效,true表示本机生效,false表示集群生效</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X PUT '127.0.0.1:8848/nacos/v1/ns/operator/switches?entry=pushEnabled&amp;value=false&amp;debug=true'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>ok\n</code></pre>\n<h2 id=\"2.14\">查看系统当前数据指标</h2>\n<h3>描述</h3>\n<p>查看系统当前数据指标</p>\n<h3>请求类型</h3>\n<p>GET</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/operator/metrics\n</code></pre>\n<h3>请求参数</h3>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X GET '127.0.0.1:8848/nacos/v1/ns/operator/metrics'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>{\n    serviceCount: 336,\n    load: 0.09,\n    mem: 0.46210432,\n    responsibleServiceCount: 98,\n    instanceCount: 4,\n    cpu: 0.010242796,\n    status: &quot;UP&quot;,\n    responsibleInstanceCount: 0\n}\n</code></pre>\n<h2 id=\"2.15\">查看当前集群Server列表</h2>\n<h3>描述</h3>\n<p>查看当前集群Server列表</p>\n<h3>请求类型</h3>\n<p>GET</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/operator/servers\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">healthy</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">否</td>\n<td>是否只返回健康Server节点</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X GET '127.0.0.1:8848/nacos/v1/ns/operator/servers'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>{\n    servers: [\n        {\n            ip: &quot;1.1.1.1&quot;,\n            servePort: 8848,\n            site: &quot;unknown&quot;,\n            weight: 1,\n            adWeight: 0,\n            alive: false,\n            lastRefTime: 0,\n            lastRefTimeStr: null,\n            key: &quot;1.1.1.1:8848&quot;\n        },\n        {\n            ip: &quot;1.1.1.2&quot;,\n            servePort: 8848,\n            site: &quot;unknown&quot;,\n            weight: 1,\n            adWeight: 0,\n            alive: false,\n            lastRefTime: 0,\n            lastRefTimeStr: null,\n            key: &quot;1.1.1.2:8848&quot;\n        },\n        {\n            ip: &quot;1.1.1.3&quot;,\n            servePort: 8848,\n            site: &quot;unknown&quot;,\n            weight: 1,\n            adWeight: 0,\n            alive: false,\n            lastRefTime: 0,\n            lastRefTimeStr: null,\n            key: &quot;1.1.1.3:8848&quot;\n        }\n    ]\n}\n</code></pre>\n<h2 id=\"2.16\">查看当前集群leader</h2>\n<h3>描述</h3>\n<p>查看当前集群leader</p>\n<h3>请求类型</h3>\n<p>GET</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/raft/leader\n</code></pre>\n<h3>请求参数</h3>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X GET '127.0.0.1:8848/nacos/v1/ns/raft/leader'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>{\n    leader: &quot;{&quot;heartbeatDueMs&quot;:2500,&quot;ip&quot;:&quot;1.1.1.1:8848&quot;,&quot;leaderDueMs&quot;:12853,&quot;state&quot;:&quot;LEADER&quot;,&quot;term&quot;:54202,&quot;voteFor&quot;:&quot;1.1.1.1:8848&quot;}&quot;\n}\n</code></pre>\n<h2 id=\"2.17\">更新实例的健康状态</h2>\n<h3>描述</h3>\n<p>更新实例的健康状态,仅在集群的健康检查关闭时才生效,当集群配置了健康检查时,该接口会返回错误</p>\n<h3>请求类型</h3>\n<p>PUT</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/health/instance\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>命名空间ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">serviceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">groupName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>分组名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">clusterName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>集群名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ip</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务实例IP</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">port</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:left\">是</td>\n<td>服务实例port</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">healthy</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">是</td>\n<td>是否健康</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X PUT 'http://127.0.0.1:8848/nacos/v1/ns/health/instance?port=8848&amp;healthy=true&amp;ip=11.11.11.11&amp;serviceName=nacos.test.3&amp;namespaceId=n1'\n</code></pre>\n<h3>示例返回</h3>\n<p>ok</p>\n<h2 id=\"2.18\">批量更新实例元数据(Beta)</h2>\n<h3>描述</h3>\n<p>批量更新实例元数据(1.4起)</p>\n<blockquote>\n<p>注意：该接口为Beta接口，后续版本可能有所修改，甚至删除，请谨慎使用。</p>\n</blockquote>\n<h3>请求类型</h3>\n<p>PUT</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/instance/metadata/batch\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>命名空间ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">serviceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务名(group@@serviceName)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">consistencyType</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>实例的类型(ephemeral/persist)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">instances</td>\n<td style=\"text-align:left\">JSON格式字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>需要更新的实例</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">metadata</td>\n<td style=\"text-align:left\">JSON格式字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>元数据信息</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>参数说明</h3>\n<ul>\n<li>consistencyType: 优先级高于instances参数，如果进行配置，则忽略instances参数的值。当值为'ephemeral'，则对serviceName下的所有非持久化实例进行更新。当值为'persist'，则对serviceName下的所有持久化实例进行更新。当为其他值，没有实例进行更新。</li>\n<li>instances: json数组。通过ip+port+ephemeral+cluster定位到某一实例。</li>\n</ul>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X PUT 'http://localhost:8848/nacos/v1/ns/instance/metadata/batch' -d 'namespaceId=public&amp;serviceName=xxxx@@xxxx&amp;instances=[{&quot;ip&quot;:&quot;3.3.3.3&quot;,&quot;port&quot;: &quot;8080&quot;,&quot;ephemeral&quot;:&quot;true&quot;,&quot;clusterName&quot;:&quot;xxxx-cluster&quot;},{&quot;ip&quot;:&quot;2.2.2.2&quot;,&quot;port&quot;:&quot;8080&quot;,&quot;ephemeral&quot;:&quot;true&quot;,&quot;clusterName&quot;:&quot;xxxx-cluster&quot;}]&amp;metadata={&quot;age&quot;:&quot;20&quot;,&quot;name&quot;:&quot;cocolan&quot;}' \nor\ncurl -X PUT 'http://localhost:8848/nacos/v1/ns/instance/metadata/batch' -d 'namespaceId=public&amp;serviceName=xxxx@@xxxx&amp;consistencyType=ephemeral&amp;metadata={&quot;age&quot;:&quot;20&quot;,&quot;name&quot;:&quot;cocolan&quot;}'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>{&quot;updated&quot;:[&quot;2.2.2.2:8080:unknown:xxxx-cluster:ephemeral&quot;,&quot;3.3.3.3:8080:unknown:xxxx-cluster:ephemeral&quot;]}\n</code></pre>\n<h2 id=\"2.19\">批量删除实例元数据(Beta)</h2>\n<h3>描述</h3>\n<p>批量删除实例元数据(1.4起)</p>\n<blockquote>\n<p>注意：该接口为Beta接口，后续版本可能有所修改，甚至删除，请谨慎使用。</p>\n</blockquote>\n<h3>请求类型</h3>\n<p>DELETE</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/ns/instance/metadata/batch\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>命名空间ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">serviceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>服务名(group@@serviceName)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">consistencyType</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>实例的类型(ephemeral/persist)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">instances</td>\n<td style=\"text-align:left\">JSON格式字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>需要更新的实例</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">metadata</td>\n<td style=\"text-align:left\">JSON格式字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>元数据信息</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>参数说明</h3>\n<ul>\n<li>consistencyType: 优先级高于instances参数，如果进行配置，则忽略instances参数的值。当值为ephemeral，则对serviceName下的所有非持久化实例进行更新。当值为persist，则对serviceName下的所有持久化实例进行更新。当为其他值，没有实例进行更新。</li>\n<li>instances: json数组。通过ip+port+ephemeral+cluster定位到某一实例。</li>\n</ul>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X DELETE 'http://localhost:8848/nacos/v1/ns/instance/metadata/batch' -d 'namespaceId=public&amp;serviceName=xxxx@@xxxx&amp;instances=[{&quot;ip&quot;:&quot;3.3.3.3&quot;,&quot;port&quot;: &quot;8080&quot;,&quot;ephemeral&quot;:&quot;true&quot;,&quot;clusterName&quot;:&quot;xxxx-cluster&quot;},{&quot;ip&quot;:&quot;2.2.2.2&quot;,&quot;port&quot;:&quot;8080&quot;,&quot;ephemeral&quot;:&quot;true&quot;,&quot;clusterName&quot;:&quot;xxxx-cluster&quot;}]&amp;metadata={&quot;age&quot;:&quot;20&quot;,&quot;name&quot;:&quot;cocolan&quot;}' \nor\ncurl -X DELETE 'http://localhost:8848/nacos/v1/ns/instance/metadata/batch' -d 'namespaceId=public&amp;serviceName=xxxx@@xxxx&amp;consistencyType=ephemeral&amp;metadata={&quot;age&quot;:&quot;20&quot;,&quot;name&quot;:&quot;cocolan&quot;}'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>{&quot;updated&quot;:[&quot;2.2.2.2:8080:unknown:xxxx-cluster:ephemeral&quot;,&quot;3.3.3.3:8080:unknown:xxxx-cluster:ephemeral&quot;]}\n</code></pre>\n<h2>命名空间</h2>\n<h2 id=\"3.1\">查询命名空间列表</h2>\n<h3>请求类型</h3>\n<p>GET</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/console/namespaces\n</code></pre>\n<h3>请求参数</h3>\n<p>无</p>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X GET 'http://localhost:8848/nacos/v1/console/namespaces'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>{&quot;code&quot;:200,&quot;message&quot;:null,&quot;data&quot;:[{&quot;namespace&quot;:&quot;&quot;,&quot;namespaceShowName&quot;:&quot;public&quot;,&quot;quota&quot;:200,&quot;configCount&quot;:0,&quot;type&quot;:0}]}\n</code></pre>\n<h2 id=\"3.2\">创建命名空间</h2>\n<h3>请求类型</h3>\n<p>POST</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/console/namespaces\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">customNamespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>命名空间ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>命名空间名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceDesc</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">否</td>\n<td>命名空间描述</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X POST 'http://localhost:8848/nacos/v1/console/namespaces' -d 'customNamespaceId=&amp;namespaceName=dev&amp;namespaceDesc='\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>true\n</code></pre>\n<h2 id=\"3.3\">修改命名空间</h2>\n<h3>请求类型</h3>\n<p>PUT</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/console/namespaces\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>命名空间ID</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceName</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>命名空间名</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">namespaceDesc</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>命名空间描述</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X PUT 'http://localhost:8848/nacos/v1/console/namespaces' -d 'namespace=dev&amp;namespaceShowName=开发环境2&amp;namespaceDesc=只用于开发2'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>true\n</code></pre>\n<h2 id=\"3.4\">删除命名空间</h2>\n<h3>请求类型</h3>\n<p>DELETE</p>\n<h3>请求路径</h3>\n<pre><code class=\"language-plain\">/nacos/v1/console/namespaces\n</code></pre>\n<h3>请求参数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必选</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">namespaceId</td>\n<td style=\"text-align:left\">字符串</td>\n<td style=\"text-align:left\">是</td>\n<td>命名空间ID</td>\n</tr>\n</tbody>\n</table>\n<h3>错误编码</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">错误代码</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">语义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">Bad Request</td>\n<td style=\"text-align:left\">客户端请求中的语法错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">403</td>\n<td style=\"text-align:left\">Forbidden</td>\n<td style=\"text-align:left\">没有权限</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">404</td>\n<td style=\"text-align:left\">Not Found</td>\n<td style=\"text-align:left\">无法找到资源</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">500</td>\n<td style=\"text-align:left\">Internal Server Error</td>\n<td style=\"text-align:left\">服务器内部错误</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">200</td>\n<td style=\"text-align:left\">OK</td>\n<td style=\"text-align:left\">正常</td>\n</tr>\n</tbody>\n</table>\n<h3>示例请求</h3>\n<pre><code class=\"language-plain\">curl -X DELETE 'http://localhost:8848/nacos/v1/console/namespaces' -d 'namespaceId=dev'\n</code></pre>\n<h3>示例返回</h3>\n<pre><code>true\n</code></pre>\n",
  "link": "\\zh-cn\\docs\\open-api.html",
  "meta": {
    "title": "Open API 指南",
    "keywords": "Open API,指南",
    "description": "Open API 指南"
  }
}