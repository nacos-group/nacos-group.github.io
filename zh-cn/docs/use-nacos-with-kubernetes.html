<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="nacos,kubernetes" />
	<meta name="description" content="本项目包含一个可构建的Nacos Docker Image，旨在利用 StatefulSets 在 Kubernetes上部署 Nacos。" />
	<!-- 网页标签标题 -->
	<title>Kubernetes Nacos</title>
	<link rel="shortcut icon" href="https://img.alicdn.com/tfs/TB1hgJpHAPoK1RjSZKbXXX1IXXa-64-64.png"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/zh-cn/index.html"><img class="logo" src="/img/nacos_colorful.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">En</span><div class="header-menu"><img class="header-menu-toggle" src="/img/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><span><a href="/zh-cn/index.html">首页</a></span></li><li class="menu-item menu-item-normal menu-item-normal-active"><span><a href="/zh-cn/docs/what-is-nacos.html">文档</a></span></li><li class="menu-item menu-item-normal"><div class="nav-container"><div class="word"><a>解决方案</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png"/></div><ul class="sub-nav-container" style="width:220px"><li><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" target="_blank">微服务解决方案</a></li><li><a href="https://cn.aliyun.com/product/aliware/sae?spm=nacos-website.topbar.0.0.0" target="_blank">微服务Serverless解决方案</a></li><li><a href="https://www.aliyun.com/product/edas?spm=nacos-website.topbar.0.0.0" target="_blank">PaaS解决方案</a></li><li><a href="https://www.aliyun.com/aliware/txc?spm=nacos-website.topbar.0.0.0" target="_blank">分布式事务解决方案</a></li><li><a href="https://www.aliyun.com/product/ahas?spm=nacos-website.topbar.0.0.0" target="_blank">高可用解决方案</a></li><li><a href="https://www.aliyun.com/product/servicemesh?spm=nacos-website.topbar.0.0.0" target="_blank">服务网格解决方案</a></li></ul> </div></li><li class="menu-item menu-item-normal"><span><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0">企业版NACOS</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png"/></span></li><li class="menu-item menu-item-normal"><span><a href="https://developer.aliyun.com/topic/middleware/developer/summit">中间件开发者大会</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png"/></span></li><li class="menu-item menu-item-normal"><div class="nav-container"><div class="word"><a>活动</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png"/></div><ul class="sub-nav-container" style="width:220px"><li><a href="https://nacos.io/zh-cn/blog/iscas2022.html" target="_blank">中科院开源之夏2022</a></li><li><a href="https://github.com/alibaba/nacos/issues/8456" target="_blank">阿里巴巴编程之夏2022</a></li><li><a href="https://developer.aliyun.com/topic/middleware/developer/summit" target="_blank">中间件开发者大会</a></li></ul> </div></li><li class="menu-item menu-item-normal"><span><a href="/zh-cn/blog/index.html">博客</a></span></li><li class="menu-item menu-item-normal"><span><a href="/zh-cn/community/index.html">社区</a></span></li><li class="menu-item menu-item-normal"><span><a href="http://console.nacos.io/nacos/index.html">控制台样例</a></span></li></ul></div></div></header><div class="bar"><div class="bar-body"><img src="/img/docs.png" class="front-img"/><div class="bar-title"><span>Nacos 文档</span><div class="bone bone-light"></div></div><img src="/img/docs.png" class="back-img"/></div></div><section class="content-section"><div class="content-body"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>Nacos </span><ul><li style="height:180px;overflow:hidden" class="menu-item menu-item-level-2"><span>Nacos是什么?<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/what-is-nacos.html" target="_self">Nacos简介</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/concepts.html" target="_self">概念</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/architecture.html" target="_self">架构</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/feature-list.html" target="_self">功能和需求列表</a></li></ul></li><li style="height:180px;overflow:hidden" class="menu-item menu-item-level-2"><span>Nacos 2.0<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/2.0.0-compatibility.html" target="_self">兼容性及使用</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/2.0.0-upgrading.html" target="_self">升级文档</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/auth-plugin.html" target="_self">鉴权插件</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/config-encryption.html" target="_self">配置加密插件</a></li></ul></li><li style="height:324px;overflow:hidden" class="menu-item menu-item-level-2"><span>快速开始<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/quick-start.html" target="_self">Nacos</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/quick-start-spring.html" target="_self">Nacos Spring</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/quick-start-spring-boot.html" target="_self">Nacos Spring Boot</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/quick-start-spring-cloud.html" target="_self">Nacos Spring Cloud</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/quick-start-docker.html" target="_self">Nacos Docker</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/use-nacos-with-dubbo.html" target="_self">Nacos Dubbo</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/use-nacos-with-kubernetes.html" target="_self">Nacos k8s</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos-sync.html" target="_self">Nacos Sync</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>用户指南<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/sdk.html" target="_self">Java的SDK</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/other-language.html" target="_self">其他语言的SDK</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/open-api.html" target="_self">Open-API指南</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos-spring.html" target="_self">Nacos Spring</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/system-configurations.html" target="_self">Nacos系统参数介绍</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/auth.html" target="_self">权限认证</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/faq.html" target="_self">FAQ</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>运维指南<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/deployment.html" target="_self">部署手册</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/cluster-mode-quick-start.html" target="_self">集群部署说明</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/management-api.html" target="_self">运维API</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/console-guide.html" target="_self">控制台手册</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/monitor-guide.html" target="_self">监控手册</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos-config-benchmark.html" target="_self">Nacos配置模块压测报告</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos2-config-benchmark.html" target="_self">Nacos2.0配置模块压测报告</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos-naming-benchmark.html" target="_self">Nacos服务发现模块压测报告</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos2-naming-benchmark.html" target="_self">Nacos2.0服务发现模块压测报告</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos-sync-use.html" target="_self">其他环境迁移到Nacos</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>开源共建<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/contributing.html" target="_self">贡献源码</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/contributing-flow.html" target="_self">贡献流程</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/pull-request.html" target="_self">pull request模板</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/how-to-reporting-bugs.html" target="_self">如何提交问题报告</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>社区<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/community.html" target="_self">社区</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos-dev.html" target="_self">开发团队</a></li></ul></li></ul></li></ul></div><div class="doc-content markdown-body"><h1>Kubernetes Nacos</h1>
<p>本项目包含一个可构建的Nacos Docker Image，旨在利用StatefulSets在<a href="https://kubernetes.io/">Kubernetes</a>上部署<a href="https://nacos.io">Nacos</a></p>
<h1>快速开始</h1>
<ul>
<li><strong>Clone 项目</strong></li>
</ul>
<pre><code class="language-shell">git clone https://github.com/nacos-group/nacos-k8s.git
</code></pre>
<ul>
<li><strong>简单例子</strong></li>
</ul>
<blockquote>
<p>如果你使用简单方式快速启动,请注意这是没有使用持久化卷的,可能存在数据丢失风险:</p>
</blockquote>
<pre><code class="language-shell">cd nacos-k8s
chmod +x quick-startup.sh
./quick-startup.sh
</code></pre>
<ul>
<li>
<p><strong>测试</strong></p>
<ul>
<li><strong>服务注册</strong></li>
</ul>
<pre><code class="language-bash">curl -X POST <span class="hljs-string">'http://cluster-ip:8848/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;ip=20.18.7.10&amp;port=8080'</span>
</code></pre>
<ul>
<li><strong>服务发现</strong></li>
</ul>
<pre><code class="language-bash">curl -X GET <span class="hljs-string">'http://cluster-ip:8848/nacos/v1/ns/instance/list?serviceName=nacos.naming.serviceName'</span>
</code></pre>
<ul>
<li><strong>发布配置</strong></li>
</ul>
<pre><code class="language-bash">curl -X POST <span class="hljs-string">"http://cluster-ip:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;group=test&amp;content=helloWorld"</span>
</code></pre>
<ul>
<li><strong>获取配置</strong></li>
</ul>
<pre><code class="language-bash">curl -X GET <span class="hljs-string">"http://cluster-ip:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;group=test"</span>
</code></pre>
</li>
</ul>
<h1>高级使用</h1>
<blockquote>
<p>在高级使用中,Nacos在K8S拥有自动扩容缩容和数据持久特性,请注意如果需要使用这部分功能请使用PVC持久卷,Nacos的自动扩容缩容需要依赖持久卷,以及数据持久化也是一样,本例中使用的是NFS来使用PVC.</p>
</blockquote>
<h2>部署 NFS</h2>
<ul>
<li>创建角色</li>
</ul>
<pre><code class="language-shell">kubectl create -f deploy/nfs/rbac.yaml
</code></pre>
<blockquote>
<p>如果的K8S命名空间不是<strong>default</strong>，请在部署RBAC之前执行以下脚本:</p>
</blockquote>
<pre><code class="language-shell"><span class="hljs-meta">#</span><span class="bash"> Set the subject of the RBAC objects to the current namespace <span class="hljs-built_in">where</span> the provisioner is being deployed</span>
<span class="hljs-meta">$</span><span class="bash"> NS=$(kubectl config get-contexts|grep -e <span class="hljs-string">"^\*"</span> |awk <span class="hljs-string">'{print $5}'</span>)</span>
<span class="hljs-meta">$</span><span class="bash"> NAMESPACE=<span class="hljs-variable">${NS:-default}</span></span>
<span class="hljs-meta">$</span><span class="bash"> sed -i<span class="hljs-string">''</span> <span class="hljs-string">"s/namespace:.*/namespace: <span class="hljs-variable">$NAMESPACE</span>/g"</span> ./deploy/nfs/rbac.yaml</span>

</code></pre>
<ul>
<li>创建 <code>ServiceAccount</code> 和部署 <code>NFS-Client Provisioner</code></li>
</ul>
<pre><code class="language-shell">kubectl create -f deploy/nfs/deployment.yaml
</code></pre>
<ul>
<li>创建 NFS StorageClass</li>
</ul>
<pre><code class="language-shell">kubectl create -f deploy/nfs/class.yaml
</code></pre>
<ul>
<li>验证NFS部署成功</li>
</ul>
<pre><code class="language-shell">kubectl get pod -l app=nfs-client-provisioner
</code></pre>
<h2>部署数据库</h2>
<ul>
<li>部署主库</li>
</ul>
<pre><code class="language-shell">
cd nacos-k8s

kubectl create -f deploy/mysql/mysql-master-nfs.yaml
</code></pre>
<ul>
<li>部署从库</li>
</ul>
<pre><code class="language-shell">
cd nacos-k8s 

kubectl create -f deploy/mysql/mysql-slave-nfs.yaml
</code></pre>
<ul>
<li>验证数据库是否正常工作</li>
</ul>
<pre><code class="language-shell"><span class="hljs-meta">#</span><span class="bash"> master</span>
kubectl get pod 
NAME                         READY   STATUS    RESTARTS   AGE
mysql-master-gf2vd                        1/1     Running   0          111m
<span class="hljs-meta">
#</span><span class="bash"> slave</span>
kubectl get pod 
mysql-slave-kf9cb                         1/1     Running   0          110m
</code></pre>
<h2>部署Nacos</h2>
<ul>
<li>修改  <strong>deploy/nacos/nacos-pvc-nfs.yaml</strong></li>
</ul>
<pre><code class="language-yaml"><span class="hljs-attr">data:</span>
  <span class="hljs-attr">mysql.master.db.name:</span> <span class="hljs-string">"主库名称"</span>
  <span class="hljs-attr">mysql.master.port:</span> <span class="hljs-string">"主库端口"</span>
  <span class="hljs-attr">mysql.slave.port:</span> <span class="hljs-string">"从库端口"</span>
  <span class="hljs-attr">mysql.master.user:</span> <span class="hljs-string">"主库用户名"</span>
  <span class="hljs-attr">mysql.master.password:</span> <span class="hljs-string">"主库密码"</span>
</code></pre>
<ul>
<li>创建 Nacos</li>
</ul>
<pre><code class="language-shell">kubectl create -f nacos-k8s/deploy/nacos/nacos-pvc-nfs.yaml
</code></pre>
<ul>
<li>验证Nacos节点启动成功</li>
</ul>
<pre><code class="language-shell">kubectl get pod -l app=nacos


NAME      READY   STATUS    RESTARTS   AGE
nacos-0   1/1     Running   0          19h
nacos-1   1/1     Running   0          19h
nacos-2   1/1     Running   0          19h
</code></pre>
<h2>扩容测试</h2>
<ul>
<li>在扩容前，使用 <a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands/#exec"><code>kubectl exec</code></a>获取在pod中的Nacos集群配置文件信息</li>
</ul>
<pre><code class="language-powershell"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span>; <span class="hljs-keyword">do</span> echo nacos-<span class="hljs-variable">$i</span>; kubectl exec nacos-<span class="hljs-variable">$i</span> cat conf/cluster.conf; done
</code></pre>
<p>StatefulSet控制器根据其序数索引为每个Pod提供唯一的主机名。 主机名采用<statefulset name>  -  <ordinal index>的形式。 因为nacos StatefulSet的副本字段设置为2，所以当前集群文件中只有两个Nacos节点地址</p>
<p><img src="https://cdn.nlark.com/yuque/0/2019/gif/338441/1562846123635-e361d2b5-4bbe-4347-acad-8f11f75e6d38.gif" alt="k8s"></p>
<ul>
<li>使用kubectl scale 对Nacos动态扩容</li>
</ul>
<pre><code class="language-bash">kubectl scale sts nacos --replicas=3
</code></pre>
<p><img src="https://cdn.nlark.com/yuque/0/2019/gif/338441/1562846139093-7a79b709-9afa-448a-b7d6-f57571d3a902.gif" alt="scale"></p>
<ul>
<li>在扩容后，使用 <a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands/#exec"><code>kubectl exec</code></a>获取在pod中的Nacos集群配置文件信息</li>
</ul>
<pre><code class="language-bash"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> 0 1 2; <span class="hljs-keyword">do</span> <span class="hljs-built_in">echo</span> nacos-<span class="hljs-variable">$i</span>; kubectl <span class="hljs-built_in">exec</span> nacos-<span class="hljs-variable">$i</span> cat conf/cluster.conf; <span class="hljs-keyword">done</span>
</code></pre>
<p><img src="https://cdn.nlark.com/yuque/0/2019/gif/338441/1562846177553-c1c7f379-1b41-4026-9f0b-23e15dde02a8.gif" alt="get_cluster_after"></p>
<ul>
<li>使用 <a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands/#exec"><code>kubectl exec</code></a>执行Nacos API 在每台节点上获取当前<strong>Leader</strong>是否一致</li>
</ul>
<pre><code class="language-bash"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> 0 1 2; <span class="hljs-keyword">do</span> <span class="hljs-built_in">echo</span> nacos-<span class="hljs-variable">$i</span>; kubectl <span class="hljs-built_in">exec</span> nacos-<span class="hljs-variable">$i</span> curl -X GET <span class="hljs-string">"http://localhost:8848/nacos/v1/ns/raft/state"</span>; <span class="hljs-keyword">done</span>
</code></pre>
<p>到这里你可以发现新节点已经正常加入Nacos集群当中</p>
<h1>例子部署环境</h1>
<ul>
<li>机器配置</li>
</ul>
<table>
<thead>
<tr>
<th>内网IP</th>
<th>主机名</th>
<th>配置</th>
</tr>
</thead>
<tbody>
<tr>
<td>172.17.79.3</td>
<td>k8s-master</td>
<td>CentOS Linux release 7.4.1708 (Core) Single-core processor Mem 4G Cloud disk 40G</td>
</tr>
<tr>
<td>172.17.79.4</td>
<td>node01</td>
<td>CentOS Linux release 7.4.1708 (Core) Single-core processor Mem 4G Cloud disk 40G</td>
</tr>
<tr>
<td>172.17.79.5</td>
<td>node02</td>
<td>CentOS Linux release 7.4.1708 (Core) Single-core processor Mem 4G Cloud disk 40G</td>
</tr>
</tbody>
</table>
<ul>
<li>Kubernetes 版本：<strong>1.12.2</strong> （如果你和我一样只使用了三台机器，那么记得开启master节点的部署功能）</li>
<li>NFS 版本：<strong>4.1</strong> 在k8s-master进行安装Server端，并且指定共享目录，本项目指定的**/data/nfs-share**</li>
<li>Git</li>
</ul>
<h1>限制</h1>
<ul>
<li>必须要使用持久卷，否则会出现数据丢失的情况</li>
</ul>
<h1>项目目录</h1>
<table>
<thead>
<tr>
<th>目录</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>plugin</code></td>
<td>帮助Nacos集群进行动态扩容的插件Docker镜像源码</td>
</tr>
<tr>
<td><code>deploy</code></td>
<td>K8s 部署文件</td>
</tr>
</tbody>
</table>
<h1>配置属性</h1>
<ul>
<li>nacos-pvc-nfs.yaml or nacos-quick-start.yaml</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>必要</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mysql.master.db.name</code></td>
<td>Y</td>
<td>主库名称</td>
</tr>
<tr>
<td><code>mysql.master.port</code></td>
<td>N</td>
<td>主库端口</td>
</tr>
<tr>
<td><code>mysql.slave.port</code></td>
<td>N</td>
<td>从库端口</td>
</tr>
<tr>
<td><code>mysql.master.user</code></td>
<td>Y</td>
<td>主库用户名</td>
</tr>
<tr>
<td><code>mysql.master.password</code></td>
<td>Y</td>
<td>主库密码</td>
</tr>
<tr>
<td><code>NACOS_REPLICAS</code></td>
<td>N</td>
<td>确定执行Nacos启动节点数量,如果不适用动态扩容插件,就必须配置这个属性，否则使用扩容插件后不会生效</td>
</tr>
<tr>
<td><code>NACOS_SERVER_PORT</code></td>
<td>N</td>
<td>Nacos 端口</td>
</tr>
<tr>
<td><code>PREFER_HOST_MODE</code></td>
<td>Y</td>
<td>启动Nacos集群按域名解析</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>nfs</strong> deployment.yaml</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>必要</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>NFS_SERVER</code></td>
<td>Y</td>
<td>NFS 服务端地址</td>
</tr>
<tr>
<td><code>NFS_PATH</code></td>
<td>Y</td>
<td>NFS 共享目录</td>
</tr>
<tr>
<td><code>server</code></td>
<td>Y</td>
<td>NFS 服务端地址</td>
</tr>
<tr>
<td><code>path</code></td>
<td>Y</td>
<td>NFS 共享目录</td>
</tr>
</tbody>
</table>
<ul>
<li>mysql</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>必要</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>MYSQL_ROOT_PASSWORD</code></td>
<td>N</td>
<td>ROOT 密码</td>
</tr>
<tr>
<td><code>MYSQL_DATABASE</code></td>
<td>Y</td>
<td>数据库名称</td>
</tr>
<tr>
<td><code>MYSQL_USER</code></td>
<td>Y</td>
<td>数据库用户名</td>
</tr>
<tr>
<td><code>MYSQL_PASSWORD</code></td>
<td>Y</td>
<td>数据库密码</td>
</tr>
<tr>
<td><code>MYSQL_REPLICATION_USER</code></td>
<td>Y</td>
<td>数据库复制用户</td>
</tr>
<tr>
<td><code>MYSQL_REPLICATION_PASSWORD</code></td>
<td>Y</td>
<td>数据库复制用户密码</td>
</tr>
<tr>
<td><code>Nfs:server</code></td>
<td>N</td>
<td>NFS 服务端地址，如果使用本地部署不需要配置</td>
</tr>
<tr>
<td><code>Nfs:path</code></td>
<td>N</td>
<td>NFS 共享目录，如果使用本地部署不需要配置</td>
</tr>
</tbody>
</table>
</div></div></section><footer class="footer-container"><div class="footer-body"><img src="/img/nacos_gray.png"/><div class="cols-container"><div class="col col-12"><h3>愿景</h3><p>Nacos 通过提供简单易用的动态服务发现、服务配置、服务共享与管理等服务基础设施，帮助用户在云原生时代，在私有云、混合云或者公有云等所有云环境中，更好的构建、交付、管理自己的微服务平台，更快的复用和组合业务服务，更快的交付商业创新的价值，从而为用户赢得市场。</p></div><div class="col col-6"><dl><dt>文档</dt><dd><a href="/zh-cn/docs/what-is-nacos.html" target="_self">概览</a></dd><dd><a href="/zh-cn/docs/quick-start.html" target="_self">快速开始</a></dd><dd><a href="/zh-cn/docs/contributing.html" target="_self">开发者指南</a></dd></dl></div><div class="col col-6"><dl><dt>资源</dt><dd><a href="/zh-cn/community/index.html" target="_self">社区</a></dd><dd><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" target="_self">云服务 MSE</a></dd><dd><a href="https://www.aliyun.com/product/edas?source_type=nacos_pc_20181219" target="_self">云服务 EDAS</a></dd><dd><a href="https://www.aliyun.com/product/ahas?source_type=nacos_pc_20190225" target="_self">云服务 AHAS</a></dd></dl></div></div><div class="copyright"><span>@ 2022 The Nacos Authors | An Alibaba Middleware (Aliware) Project</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/documentation.js">
	</script>
	<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e3a5cec56ef8619cf9d7c2abebd509e3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
</body>
</html>