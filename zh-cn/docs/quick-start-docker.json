{
  "filename": "quick-start-docker.md",
  "__html": "<h1>Nacos Docker 快速开始</h1>\n<h2>操作步骤</h2>\n<ul>\n<li>\n<p>Clone 项目</p>\n<pre><code class=\"language-powershell\">git clone https://github.com/nacos<span class=\"hljs-literal\">-group</span>/nacos<span class=\"hljs-literal\">-docker</span>.git\ncd nacos<span class=\"hljs-literal\">-docker</span>\n</code></pre>\n</li>\n<li>\n<p>单机模式 Derby</p>\n<pre><code class=\"language-powershell\">docker<span class=\"hljs-literal\">-compose</span> <span class=\"hljs-operator\">-f</span> example/standalone<span class=\"hljs-literal\">-derby</span>.yaml up\n</code></pre>\n</li>\n<li>\n<p>单机模式 MySQL</p>\n</li>\n</ul>\n<p>如果希望使用MySQL5.7</p>\n<pre><code class=\"language-powershell\">docker<span class=\"hljs-literal\">-compose</span> <span class=\"hljs-operator\">-f</span> example/standalone<span class=\"hljs-literal\">-mysql</span><span class=\"hljs-literal\">-5</span>.<span class=\"hljs-number\">7</span>.yaml up\n</code></pre>\n<p>如果希望使用MySQL8</p>\n<pre><code class=\"language-powershell\">docker<span class=\"hljs-literal\">-compose</span> <span class=\"hljs-operator\">-f</span> example/standalone<span class=\"hljs-literal\">-mysql</span><span class=\"hljs-literal\">-8</span>.yaml up\n</code></pre>\n<ul>\n<li>\n<p>集群模式</p>\n<pre><code class=\"language-powershell\">docker<span class=\"hljs-literal\">-compose</span> <span class=\"hljs-operator\">-f</span> example/cluster<span class=\"hljs-literal\">-hostname</span>.yaml up \n</code></pre>\n</li>\n<li>\n<p>服务注册</p>\n<pre><code class=\"language-powershell\">curl <span class=\"hljs-literal\">-X</span> POST <span class=\"hljs-string\">'http://127.0.0.1:8848/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;ip=20.18.7.10&amp;port=8080'</span>\n</code></pre>\n</li>\n<li>\n<p>服务发现</p>\n<pre><code class=\"language-powershell\">curl <span class=\"hljs-literal\">-X</span> GET <span class=\"hljs-string\">'http://127.0.0.1:8848/nacos/v1/ns/instance/list?serviceName=nacos.naming.serviceName'</span>\n</code></pre>\n</li>\n<li>\n<p>发布配置</p>\n<pre><code class=\"language-powershell\">curl <span class=\"hljs-literal\">-X</span> POST <span class=\"hljs-string\">\"http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;group=test&amp;content=helloWorld\"</span>\n</code></pre>\n</li>\n<li>\n<p>获取配置</p>\n<pre><code class=\"language-powershell\">  curl <span class=\"hljs-literal\">-X</span> GET <span class=\"hljs-string\">\"http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;group=test\"</span>\n</code></pre>\n</li>\n<li>\n<p>Nacos 控制台</p>\n<p>link：<a href=\"http://127.0.0.1:8848/nacos/\">http://127.0.0.1:8848/nacos/</a></p>\n</li>\n</ul>\n<h2>Common property configuration</h2>\n<table>\n<thead>\n<tr>\n<th>属性名称</th>\n<th>描述</th>\n<th>选项</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>MODE</td>\n<td>系统启动方式: 集群/单机</td>\n<td>cluster/standalone默认 <strong>cluster</strong></td>\n</tr>\n<tr>\n<td>NACOS_SERVERS</td>\n<td>集群地址</td>\n<td>p1:port1空格ip2:port2 空格ip3:port3</td>\n</tr>\n<tr>\n<td>PREFER_HOST_MODE</td>\n<td>支持IP还是域名模式</td>\n<td>hostname/ip 默认 <strong>ip</strong></td>\n</tr>\n<tr>\n<td>NACOS_SERVER_PORT</td>\n<td>Nacos 运行端口</td>\n<td>默认 <strong>8848</strong></td>\n</tr>\n<tr>\n<td>NACOS_SERVER_IP</td>\n<td>多网卡模式下可以指定IP</td>\n<td></td>\n</tr>\n<tr>\n<td>SPRING_DATASOURCE_PLATFORM</td>\n<td>单机模式下支持MYSQL数据库</td>\n<td>mysql / 空 默认:空</td>\n</tr>\n<tr>\n<td>MYSQL_SERVICE_HOST</td>\n<td>数据库 连接地址</td>\n<td></td>\n</tr>\n<tr>\n<td>MYSQL_SERVICE_PORT</td>\n<td>数据库端口</td>\n<td>默认 : <strong>3306</strong></td>\n</tr>\n<tr>\n<td>MYSQL_SERVICE_DB_NAME</td>\n<td>数据库库名</td>\n<td></td>\n</tr>\n<tr>\n<td>MYSQL_SERVICE_USER</td>\n<td>数据库用户名</td>\n<td></td>\n</tr>\n<tr>\n<td>MYSQL_SERVICE_PASSWORD</td>\n<td>数据库用户密码</td>\n<td></td>\n</tr>\n<tr>\n<td>MYSQL_SERVICE_DB_PARAM</td>\n<td>数据库连接参数</td>\n<td>default : <strong>characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true&amp;useSSL=false</strong></td>\n</tr>\n<tr>\n<td>MYSQL_DATABASE_NUM</td>\n<td>数据库编号</td>\n<td>默认 :<strong>1</strong></td>\n</tr>\n<tr>\n<td>JVM_XMS</td>\n<td>-Xms</td>\n<td>默认 :1g</td>\n</tr>\n<tr>\n<td>JVM_XMX</td>\n<td>-Xmx</td>\n<td>默认 :1g</td>\n</tr>\n<tr>\n<td>JVM_XMN</td>\n<td>-Xmn</td>\n<td>默认 :512m</td>\n</tr>\n<tr>\n<td>JVM_MS</td>\n<td>-XX:MetaspaceSize</td>\n<td>默认 :128m</td>\n</tr>\n<tr>\n<td>JVM_MMS</td>\n<td>-XX:MaxMetaspaceSize</td>\n<td>默认 :320m</td>\n</tr>\n<tr>\n<td>NACOS_DEBUG</td>\n<td>是否开启远程DEBUG</td>\n<td>y/n 默认 :n</td>\n</tr>\n<tr>\n<td>TOMCAT_ACCESSLOG_ENABLED</td>\n<td>server.tomcat.accesslog.enabled</td>\n<td>默认 :false</td>\n</tr>\n<tr>\n<td>NACOS_AUTH_SYSTEM_TYPE</td>\n<td>权限系统类型选择,目前只支持nacos类型</td>\n<td>默认 :nacos</td>\n</tr>\n<tr>\n<td>NACOS_AUTH_ENABLE</td>\n<td>是否开启权限系统</td>\n<td>默认 :false</td>\n</tr>\n<tr>\n<td>NACOS_AUTH_TOKEN_EXPIRE_SECONDS</td>\n<td>token 失效时间</td>\n<td>默认 :18000</td>\n</tr>\n<tr>\n<td>NACOS_AUTH_TOKEN</td>\n<td>token</td>\n<td>默认 :SecretKey012345678901234567890123456789012345678901234567890123456789</td>\n</tr>\n<tr>\n<td>NACOS_AUTH_CACHE_ENABLE</td>\n<td>权限缓存开关 ,开启后权限缓存的更新默认有15秒的延迟</td>\n<td>默认 : false</td>\n</tr>\n<tr>\n<td>MEMBER_LIST</td>\n<td>通过环境变量的方式设置集群地址</td>\n<td>例子:192.168.16.101:8847?raft_port=8807,192.168.16.101?raft_port=8808,192.168.16.101:8849?raft_port=8809</td>\n</tr>\n<tr>\n<td>EMBEDDED_STORAGE</td>\n<td>是否开启集群嵌入式存储模式</td>\n<td><code>embedded</code>  默认 : none</td>\n</tr>\n<tr>\n<td>NACOS_AUTH_CACHE_ENABLE</td>\n<td>nacos.core.auth.caching.enabled</td>\n<td>default : false</td>\n</tr>\n<tr>\n<td>NACOS_AUTH_USER_AGENT_AUTH_WHITE_ENABLE</td>\n<td>nacos.core.auth.enable.userAgentAuthWhite</td>\n<td>default : false</td>\n</tr>\n<tr>\n<td>NACOS_AUTH_IDENTITY_KEY</td>\n<td>nacos.core.auth.server.identity.key</td>\n<td>default : serverIdentity</td>\n</tr>\n<tr>\n<td>NACOS_AUTH_IDENTITY_VALUE</td>\n<td>nacos.core.auth.server.identity.value</td>\n<td>default : security</td>\n</tr>\n<tr>\n<td>NACOS_SECURITY_IGNORE_URLS</td>\n<td>nacos.security.ignore.urls</td>\n<td>default : <code>/,/error,/**/*.css,/**/*.js,/**/*.html,/**/*.map,/**/*.svg,/**/*.png,/**/*.ico,/console-fe/public/**,/v1/auth/**,/v1/console/health/**,/actuator/**,/v1/console/server/**</code></td>\n</tr>\n</tbody>\n</table>\n<h2>Nacos + Grafana + Prometheus</h2>\n<p>参考：<a href=\"https://nacos.io/zh-cn/docs/monitor-guide.html\">Nacos监控指南</a></p>\n<p><strong>Note</strong>:  grafana创建一个新数据源时，数据源地址必须是 <strong><a href=\"http://prometheus:9090\">http://prometheus:9090</a></strong></p>\n<h2>相关项目</h2>\n<ul>\n<li><a href=\"https://github.com/alibaba/nacos\">Nacos</a></li>\n<li><a href=\"https://github.com/nacos-group/nacos-docker\">Nacos Docker</a></li>\n</ul>\n",
  "link": "/zh-cn/docs/quick-start-docker.html",
  "meta": {
    "title": "Nacos Docker 快速开始",
    "keywords": "Nacos,Docker",
    "description": "Nacos Docker 快速开始"
  }
}