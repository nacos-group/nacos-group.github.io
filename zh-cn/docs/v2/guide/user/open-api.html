<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="aes-config" content="pid=xux-opensource&user_type=101&uid=&username=&dim10=nacos"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="Open API,指南" />
	<meta name="description" content="Open API 指南" />
  <meta name="baidu-site-verification" content="code-wzq5sw7io3" />
	<!-- 网页标签标题 -->
	<title>Open API 指南</title>
	<link rel="shortcut icon" href="https://img.alicdn.com/tfs/TB1hgJpHAPoK1RjSZKbXXX1IXXa-64-64.png"/>
	<link rel="stylesheet" href="/build/documentation.css" />
	<link rel="stylesheet" href="https://g.alicdn.com/mamba/assets/0.0.8/mse-arc-ui.min.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/zh-cn/index.html"><img class="logo" src="/img/nacos_colorful.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">En</span><div class="header-menu"><img class="header-menu-toggle" src="/img/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><span><a href="/zh-cn/index.html">首页</a></span></li><li class="menu-item menu-item-normal menu-item-normal-active"><div class="nav-container"><div class="word"><a>文档</a></div><ul class="sub-nav-container" style="width:220px"><li><a href="/zh-cn/docs/v2/quickstart/quick-start.html" target="_blank">2.X（推荐）</a></li><li><a href="/zh-cn/docs/quick-start.html" target="_blank">1.X</a></li></ul> </div></li><li class="menu-item menu-item-normal"><div class="nav-container"><div class="word"><a>解决方案</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png"/></div><ul class="sub-nav-container" style="width:220px"><li><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" target="_blank">微服务解决方案</a></li><li><a href="https://cn.aliyun.com/product/aliware/sae?spm=nacos-website.topbar.0.0.0" target="_blank">微服务Serverless解决方案</a></li><li><a href="https://www.aliyun.com/product/edas?spm=nacos-website.topbar.0.0.0" target="_blank">PaaS解决方案</a></li></ul> </div></li><li class="menu-item menu-item-normal"><span><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0">企业版NACOS</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png"/></span></li><li class="menu-item menu-item-normal"><span><a href="https://developer.aliyun.com/ebook/36?spm=a2c6h.20345107.ebook-index.18.152c2984fsi5ST">NACOS架构与原理</a><img class="menu-img" src="https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png"/></span></li><li class="menu-item menu-item-normal"><span><a href="/zh-cn/blog/index.html">博客</a></span></li><li class="menu-item menu-item-normal"><span><a href="/zh-cn/community/index.html">社区</a></span></li><li class="menu-item menu-item-normal"><span><a href="http://console.nacos.io/nacos/index.html">控制台样例</a></span></li></ul></div></div></header><div class="bar"><div class="bar-body"><img src="/img/docs.png" class="front-img"/><div class="bar-title"><span>Nacos 文档</span><div class="bone bone-light"></div></div><img src="/img/docs.png" class="back-img"/></div></div><section class="content-section"><div class="content-body"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>Nacos </span><ul><li style="height:144px;overflow:hidden" class="menu-item menu-item-level-2"><span>Nacos是什么?<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/what-is-nacos.html" target="_self">Nacos简介</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/concepts.html" target="_self">概念</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/architecture.html" target="_self">架构</a></li></ul></li><li style="height:324px;overflow:hidden" class="menu-item menu-item-level-2"><span>快速开始<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/quick-start.html" target="_self">Nacos</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/quick-start-spring.html" target="_self">Nacos Spring</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/quick-start-spring-boot.html" target="_self">Nacos Spring Boot</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/quick-start-spring-cloud.html" target="_self">Nacos Spring Cloud</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/quick-start-docker.html" target="_self">Nacos Docker</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/use-nacos-with-dubbo.html" target="_self">Nacos Dubbo</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/use-nacos-with-kubernetes.html" target="_self">Nacos k8s</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos-sync.html" target="_self">Nacos Sync</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>用户指南<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/sdk.html" target="_self">Java的SDK</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/other-language.html" target="_self">其他语言的SDK</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/open-api.html" target="_self">Open-API指南</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos-spring.html" target="_self">Nacos Spring</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/system-configurations.html" target="_self">Nacos系统参数介绍</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/auth.html" target="_self">权限认证</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/faq.html" target="_self">FAQ</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>运维指南<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/deployment.html" target="_self">部署手册</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/cluster-mode-quick-start.html" target="_self">集群部署说明</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/management-api.html" target="_self">运维API</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/console-guide.html" target="_self">控制台手册</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/monitor-guide.html" target="_self">监控手册</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos-config-benchmark.html" target="_self">Nacos配置模块压测报告</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos-naming-benchmark.html" target="_self">Nacos服务发现模块压测报告</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos-sync-use.html" target="_self">其他环境迁移到Nacos</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>开源共建<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/contributing.html" target="_self">贡献源码</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/contributing-flow.html" target="_self">贡献流程</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/pull-request.html" target="_self">pull request模板</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/how-to-reporting-bugs.html" target="_self">如何提交问题报告</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>社区<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/community.html" target="_self">社区</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nacos-dev.html" target="_self">开发团队</a></li></ul></li></ul></li></ul></div><div class="doc-content markdown-body"><h1>Open API 指南</h1>
<p>Nacos 2.X 版本兼容 Nacos1.X 版本的OpenAPI, 请参考文档<a href="../../../open-api.md">Nacos1.X OpenAPI</a>使用。</p>
<blockquote>
<p>注意：未特殊注明支持版本的OpenAPI均从2.2.0版本开始支持。</p>
</blockquote>
<ul>
<li>
<p>文档约定</p>
<ul>
<li><a href="#0.1">API 统一返回体格式</a></li>
<li><a href="#0.2">API 错误码汇总</a></li>
</ul>
</li>
<li>
<p>配置管理</p>
<ul>
<li><a href="#1.1">获取配置</a></li>
<li><a href="#1.2">发布配置</a></li>
<li><a href="#1.3">删除配置</a></li>
<li><a href="#1.4">查询配置历史版本列表</a></li>
<li><a href="#1.5">查询具体版本的历史配置</a></li>
<li><a href="#1.6">查询配置上一版本信息</a></li>
<li><a href="#1.7">查询指定命名空间下的配置列表</a></li>
</ul>
</li>
<li>
<p>服务发现</p>
<ul>
<li><a href="#2.1">注册实例</a></li>
<li><a href="#2.2">注销实例</a></li>
<li><a href="#2.3">更新实例</a></li>
<li><a href="#2.4">查询实例详情</a></li>
<li><a href="#2.5">查询指定服务下的实例列表</a></li>
<li><a href="#2.6">批量更新实例元数据(Beta)</a></li>
<li><a href="#2.7">批量删除实例元数据(Beta)</a></li>
<li><a href="#2.8">创建服务</a></li>
<li><a href="#2.9">删除服务</a></li>
<li><a href="#2.10">修改服务</a></li>
<li><a href="#2.11">查询服务详情</a></li>
<li><a href="#2.12">查询服务列表</a></li>
<li><a href="#2.13">查询系统开关</a></li>
<li><a href="#2.14">修改系统开关</a></li>
<li><a href="#2.15">查看系统当前数据指标</a></li>
<li><a href="#2.16">更新实例的健康状态</a></li>
<li><a href="#2.17">查询客户端列表（新）</a></li>
<li><a href="#2.18">查询客户端信息（新）</a></li>
<li><a href="#2.19">查询客户端的注册信息（新）</a></li>
<li><a href="#2.20">查询客户端的订阅信息（新）</a></li>
<li><a href="#2.21">查询注册指定服务的客户端信息（新）</a></li>
<li><a href="#2.22">查询订阅指定服务的客户端信息（新）</a></li>
</ul>
</li>
<li>
<p>命名空间</p>
<ul>
<li><a href="#3.1">查询命名空间列表</a></li>
<li><a href="#3.2">查询具体命名空间</a></li>
<li><a href="#3.3">新增命名空间</a></li>
<li><a href="#3.4">编辑命名空间</a></li>
<li><a href="#3.5">删除命名空间</a></li>
</ul>
</li>
<li>
<p>集群管理</p>
<ul>
<li><a href="#4.1">查询当前节点信息</a></li>
<li><a href="#4.2">查询集群节点列表</a></li>
<li><a href="#4.3">查询当前节点健康状态</a></li>
<li><a href="#4.4">切换寻址模式</a></li>
</ul>
</li>
</ul>
<h2>文档规定</h2>
<h2 id="0.1">API 统一返回体格式</h2>
<p>2.0版本Open API，所有接口请求的响应均为<code>json</code>类型的返回体，返回体具有相同的格式</p>
<pre><code class="language-json">{
  <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
  <span class="hljs-attr">"data"</span>: {}
}
</code></pre>
<p>返回体中各字段的含义如下表所示</p>
<table>
<thead>
<tr>
<th style="text-align:center">名称</th>
<th style="text-align:center">类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>code</code></td>
<td style="text-align:center"><code>int</code></td>
<td>错误码，<code>0</code>代表执行成功，非<code>0</code>代表执行失败的某一种情况</td>
</tr>
<tr>
<td style="text-align:center"><code>message</code></td>
<td style="text-align:center"><code>String</code></td>
<td>错误码提示信息，执行成功为&quot;<code>success</code>&quot;</td>
</tr>
<tr>
<td style="text-align:center"><code>data</code></td>
<td style="text-align:center">任意类型</td>
<td>返回数据，执行失败时为详细出错信息</td>
</tr>
</tbody>
</table>
<blockquote>
<p>由于执行成功的情况下code字段与message字段相同，后续在介绍接口的返回结果时，只介绍返回数据的data字段</p>
</blockquote>
<h2 id="0.2">API 错误码汇总</h2>
<p>API接口返回体中的错误码及对应提示信息汇总见下表</p>
<table>
<thead>
<tr>
<th>错误码</th>
<th>提示信息</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code></td>
<td><code>success</code></td>
<td>成功执行</td>
</tr>
<tr>
<td><code>10000</code></td>
<td><code>parameter missing</code></td>
<td>参数缺失</td>
</tr>
<tr>
<td><code>10001</code></td>
<td><code>access denied</code></td>
<td>访问拒绝</td>
</tr>
<tr>
<td><code>10002</code></td>
<td><code>data access error</code></td>
<td>数据访问错误</td>
</tr>
<tr>
<td><code>20001</code></td>
<td><code>'tenant' parameter error</code></td>
<td><code>tenant</code>参数错误</td>
</tr>
<tr>
<td><code>20002</code></td>
<td><code>parameter validate error</code></td>
<td>参数验证错误</td>
</tr>
<tr>
<td><code>20003</code></td>
<td><code>MediaType Error</code></td>
<td>请求的<code>MediaType</code>错误</td>
</tr>
<tr>
<td><code>20004</code></td>
<td><code>resource not found</code></td>
<td>资源未找到</td>
</tr>
<tr>
<td><code>20005</code></td>
<td><code>resource conflict</code></td>
<td>资源访问冲突</td>
</tr>
<tr>
<td><code>20006</code></td>
<td><code>config listener is null</code></td>
<td>监听配置为空</td>
</tr>
<tr>
<td><code>20007</code></td>
<td><code>config listener error</code></td>
<td>监听配置错误</td>
</tr>
<tr>
<td><code>20008</code></td>
<td><code>invalid dataId</code></td>
<td>无效的<code>dataId</code>（鉴权失败）</td>
</tr>
<tr>
<td><code>20009</code></td>
<td><code>parameter mismatch</code></td>
<td>请求参数不匹配</td>
</tr>
<tr>
<td><code>21000</code></td>
<td><code>service name error</code></td>
<td><code>serviceName</code>服务名错误</td>
</tr>
<tr>
<td><code>21001</code></td>
<td><code>weight error</code></td>
<td><code>weight</code>权重参数错误</td>
</tr>
<tr>
<td><code>21002</code></td>
<td><code>instance metadata error</code></td>
<td>实例<code>metadata</code>元数据错误</td>
</tr>
<tr>
<td><code>21003</code></td>
<td><code>instance not found</code></td>
<td><code>instance</code>实例不存在</td>
</tr>
<tr>
<td><code>21004</code></td>
<td><code>instance error</code></td>
<td><code>instance</code>实例信息错误</td>
</tr>
<tr>
<td><code>21005</code></td>
<td><code>service metadata error</code></td>
<td>服务<code>metadata</code>元数据错误</td>
</tr>
<tr>
<td><code>21006</code></td>
<td><code>selector error</code></td>
<td>访问策略<code>selector</code>错误</td>
</tr>
<tr>
<td><code>21007</code></td>
<td><code>service already exist</code></td>
<td>服务已存在</td>
</tr>
<tr>
<td><code>21008</code></td>
<td><code>service not exist</code></td>
<td>服务不存在</td>
</tr>
<tr>
<td><code>21009</code></td>
<td><code>service delete failure</code></td>
<td>存在服务实例，服务删除失败</td>
</tr>
<tr>
<td><code>21010</code></td>
<td><code>healthy param miss</code></td>
<td><code>healthy</code>参数缺失</td>
</tr>
<tr>
<td><code>21011</code></td>
<td><code>health check still running</code></td>
<td>健康检查仍在运行</td>
</tr>
<tr>
<td><code>22000</code></td>
<td><code>illegal namespace</code></td>
<td>命名空间<code>namespace</code>不合法</td>
</tr>
<tr>
<td><code>22001</code></td>
<td><code>namespace not exist</code></td>
<td>命名空间不存在</td>
</tr>
<tr>
<td><code>22002</code></td>
<td><code>namespace already exist</code></td>
<td>命名空间已存在</td>
</tr>
<tr>
<td><code>23000</code></td>
<td><code>illegal state</code></td>
<td>状态<code>state</code>不合法</td>
</tr>
<tr>
<td><code>23001</code></td>
<td><code>node info error</code></td>
<td>节点信息错误</td>
</tr>
<tr>
<td><code>23002</code></td>
<td><code>node down failure</code></td>
<td>节点离线操作出错</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td>30000</td>
<td><code>server error</code></td>
<td>其他内部错误</td>
</tr>
</tbody>
</table>
<h2>配置管理</h2>
<h2 id="1.1">获取配置</h2>
<h3>接口描述</h3>
<p>获取指定配置</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/cs/config</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>必填</th>
<th>参数描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间，默认为<code>public</code>与 <code>''</code>相同</td>
</tr>
<tr>
<td><code>group</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>配置分组名</td>
</tr>
<tr>
<td><code>dataId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>配置名</td>
</tr>
<tr>
<td><code>tag</code></td>
<td><code>String</code></td>
<td>否</td>
<td>标签</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>String</code></td>
<td>配置内容</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/cs/config?dataId=nacos.example&amp;group=DEFAULT_GROUP&amp;namespaceId=public'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-string">"contentTest"</span>
}
</code></pre>
</li>
</ul>
<h2 id="1.2">发布配置</h2>
<h3>接口描述</h3>
<p>发布指定配置</p>
<blockquote>
<p>当配置已存在时，则对配置进行更新</p>
</blockquote>
<h3>请求方式</h3>
<p><code>POST</code></p>
<p><code>Content-Type:application/x-www-form-urlencoded</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/cs/config</code></p>
<h3>请求Body</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>必填</th>
<th>参数描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间，默认为<code>public</code>与 <code>''</code>相同</td>
</tr>
<tr>
<td><code>group</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>配置组名</td>
</tr>
<tr>
<td><code>dataId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>配置名</td>
</tr>
<tr>
<td><code>content</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>配置内容</td>
</tr>
<tr>
<td><code>tag</code></td>
<td><code>String</code></td>
<td>否</td>
<td>标签</td>
</tr>
<tr>
<td><code>appName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>应用名</td>
</tr>
<tr>
<td><code>srcUser</code></td>
<td><code>String</code></td>
<td>否</td>
<td>源用户</td>
</tr>
<tr>
<td><code>configTags</code></td>
<td><code>String</code></td>
<td>否</td>
<td>配置标签列表，可多个，逗号分隔</td>
</tr>
<tr>
<td><code>desc</code></td>
<td><code>String</code></td>
<td>否</td>
<td>配置描述</td>
</tr>
<tr>
<td><code>use</code></td>
<td><code>String</code></td>
<td>否</td>
<td>-</td>
</tr>
<tr>
<td><code>effect</code></td>
<td><code>String</code></td>
<td>否</td>
<td>-</td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>String</code></td>
<td>否</td>
<td>配置类型</td>
</tr>
<tr>
<td><code>schema</code></td>
<td><code>String</code></td>
<td>否</td>
<td>-</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'dataId=nacos.example' \
  -d 'group=DEFAULT_GROUP' \
  -d 'namespaceId=public' \
  -d 'content=contentTest' \
  -X POST 'http://127.0.0.1:8848/nacos/v2/cs/config'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
<h2 id="1.3">删除配置</h2>
<h3>接口描述</h3>
<p>删除指定配置</p>
<h3>请求方式</h3>
<p><code>DELETE</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/cs/config</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>必填</th>
<th>参数描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间，默认为<code>public</code>与 <code>''</code>相同</td>
</tr>
<tr>
<td><code>group</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>配置分组名</td>
</tr>
<tr>
<td><code>dataId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>配置名</td>
</tr>
<tr>
<td><code>tag</code></td>
<td><code>String</code></td>
<td>否</td>
<td>标签</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X DELETE 'http://127.0.0.1:8848/nacos/v2/cs/config?dataId=nacos.example&amp;group=DEFAULT_GROUP&amp;namespaceId=public'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
<h2 id="1.4">查询配置历史列表</h2>
<h3>接口描述</h3>
<p>获取指定配置的历史版本列表</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/cs/history/list</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>必填</th>
<th>参数描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间，默认为<code>public</code>与 <code>''</code>相同</td>
</tr>
<tr>
<td><code>group</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>配置分组名</td>
</tr>
<tr>
<td><code>dataId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>配置名</td>
</tr>
<tr>
<td><code>pageNo</code></td>
<td><code>int</code></td>
<td>否</td>
<td>当前页，默认为<code>1</code></td>
</tr>
<tr>
<td><code>pageSize</code></td>
<td><code>int</code></td>
<td>否</td>
<td>页条目数，默认为<code>100</code>，最大为<code>500</code></td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object</code></td>
<td>分页查询结果</td>
</tr>
<tr>
<td><code>data.totalCount</code></td>
<td><code>int</code></td>
<td>总数</td>
</tr>
<tr>
<td><code>data.pageNumber</code></td>
<td><code>int</code></td>
<td>当前页</td>
</tr>
<tr>
<td><code>data.pagesAvailable</code></td>
<td><code>int</code></td>
<td>总页数</td>
</tr>
<tr>
<td><code>data.pageItems</code></td>
<td><code>Object[]</code></td>
<td>历史配置项列表，参见<a href="#ConfigHistoryInfo">历史配置项信息</a></td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/cs/history/list?dataId=nacos.example&amp;group=com.alibaba.nacos&amp;namespaceId='
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: {
		<span class="hljs-attr">"totalCount"</span>: <span class="hljs-number">1</span>,
		<span class="hljs-attr">"pageNumber"</span>: <span class="hljs-number">1</span>,
		<span class="hljs-attr">"pagesAvailable"</span>: <span class="hljs-number">1</span>,
		<span class="hljs-attr">"pageItems"</span>: [
			{
                <span class="hljs-attr">"id"</span>: <span class="hljs-string">"203"</span>,
                <span class="hljs-attr">"lastId"</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"dataId"</span>: <span class="hljs-string">"nacos.example"</span>,
                <span class="hljs-attr">"group"</span>: <span class="hljs-string">"com.alibaba.nacos"</span>,
                <span class="hljs-attr">"tenant"</span>: <span class="hljs-string">""</span>,
                <span class="hljs-attr">"appName"</span>: <span class="hljs-string">""</span>,
                <span class="hljs-attr">"md5"</span>: <span class="hljs-string">"9f67e6977b100e00cab385a75597db58"</span>,
  				<span class="hljs-attr">"content"</span>: <span class="hljs-string">"contentTest"</span>,
                <span class="hljs-attr">"srcIp"</span>: <span class="hljs-string">"0:0:0:0:0:0:0:1"</span>,
                <span class="hljs-attr">"srcUser"</span>: <span class="hljs-literal">null</span>,
                <span class="hljs-attr">"opType"</span>: <span class="hljs-string">"I"</span>,
                <span class="hljs-attr">"createdTime"</span>: <span class="hljs-string">"2010-05-04T16:00:00.000+0000"</span>,
                <span class="hljs-attr">"lastModifiedTime"</span>: <span class="hljs-string">"2020-12-05T01:48:03.380+0000"</span>
			}
		]
	}
}
</code></pre>
</li>
</ul>
<h2 id="1.5">查询具体版本的历史配置</h2>
<h3>接口描述</h3>
<p>获取指定版本的历史配置</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/cs/history</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>必填</th>
<th>参数描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间，默认为<code>public</code>与 <code>''</code>相同</td>
</tr>
<tr>
<td><code>group</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>配置分组名</td>
</tr>
<tr>
<td><code>dataId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>配置名</td>
</tr>
<tr>
<td><code>nid</code></td>
<td><code>long</code></td>
<td><strong>是</strong></td>
<td>历史配置id</td>
</tr>
</tbody>
</table>
<h3 id="ConfigHistoryInfo">返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object</code></td>
<td>历史配置项</td>
</tr>
<tr>
<td><code>data.id</code></td>
<td><code>String</code></td>
<td>配置<code>id</code></td>
</tr>
<tr>
<td><code>data.lastId</code></td>
<td><code>int</code></td>
<td></td>
</tr>
<tr>
<td><code>data.dataId</code></td>
<td><code>String</code></td>
<td>配置名</td>
</tr>
<tr>
<td><code>data.group</code></td>
<td><code>String</code></td>
<td>配置分组</td>
</tr>
<tr>
<td><code>data.tenant</code></td>
<td><code>String</code></td>
<td>租户信息（命名空间）</td>
</tr>
<tr>
<td><code>data.appName</code></td>
<td><code>String</code></td>
<td>应用名</td>
</tr>
<tr>
<td><code>data.md5</code></td>
<td><code>String</code></td>
<td>配置内容的md5值</td>
</tr>
<tr>
<td><code>data.content</code></td>
<td><code>String</code></td>
<td>配置内容</td>
</tr>
<tr>
<td><code>data.srcIp</code></td>
<td><code>String</code></td>
<td>源ip</td>
</tr>
<tr>
<td><code>data.srcUser</code></td>
<td><code>String</code></td>
<td>源用户</td>
</tr>
<tr>
<td><code>data.opType</code></td>
<td><code>String</code></td>
<td>操作类型</td>
</tr>
<tr>
<td><code>data.createdTime</code></td>
<td><code>String</code></td>
<td>创建时间</td>
</tr>
<tr>
<td><code>data.lastModifiedTime</code></td>
<td><code>String</code></td>
<td>上次修改时间</td>
</tr>
<tr>
<td><code>data.encryptedDataKey</code></td>
<td><code>String</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/cs/history?dataId=nacos.example&amp;group=com.alibaba.nacos&amp;namespaceId=&amp;nid=203'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"203"</span>,
        <span class="hljs-attr">"lastId"</span>: <span class="hljs-number">-1</span>,
        <span class="hljs-attr">"dataId"</span>: <span class="hljs-string">"nacos.example"</span>,
        <span class="hljs-attr">"group"</span>: <span class="hljs-string">"com.alibaba.nacos"</span>,
        <span class="hljs-attr">"tenant"</span>: <span class="hljs-string">""</span>,
        <span class="hljs-attr">"appName"</span>: <span class="hljs-string">""</span>,
        <span class="hljs-attr">"md5"</span>: <span class="hljs-string">"9f67e6977b100e00cab385a75597db58"</span>,
  		<span class="hljs-attr">"content"</span>: <span class="hljs-string">"contentTest"</span>,
        <span class="hljs-attr">"srcIp"</span>: <span class="hljs-string">"0:0:0:0:0:0:0:1"</span>,
        <span class="hljs-attr">"srcUser"</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-attr">"opType"</span>: <span class="hljs-string">"I"</span>,
        <span class="hljs-attr">"createdTime"</span>: <span class="hljs-string">"2010-05-04T16:00:00.000+0000"</span>,
        <span class="hljs-attr">"lastModifiedTime"</span>: <span class="hljs-string">"2020-12-05T01:48:03.380+0000"</span>
	}
}
</code></pre>
</li>
</ul>
<h2 id="1.6">查询配置上一版本信息</h2>
<h3>接口描述</h3>
<p>获取指定配置的上一版本</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/cs/history/previous</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>必填</th>
<th>参数描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间，默认为<code>public</code>与 <code>''</code>相同</td>
</tr>
<tr>
<td><code>group</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>配置分组名</td>
</tr>
<tr>
<td><code>dataId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>配置名</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>long</code></td>
<td><strong>是</strong></td>
<td>配置id</td>
</tr>
</tbody>
</table>
<h3 id="ConfigHistoryInfo">返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object</code></td>
<td>历史配置项，参见<a href="#ConfigHistoryInfo">历史配置项信息</a></td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/cs/history/previous?id=309135486247505920&amp;dataId=nacos.example&amp;group=com.alibaba.nacos&amp;namespaceId='
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"203"</span>,
        <span class="hljs-attr">"lastId"</span>: <span class="hljs-number">-1</span>,
        <span class="hljs-attr">"dataId"</span>: <span class="hljs-string">"nacos.example"</span>,
        <span class="hljs-attr">"group"</span>: <span class="hljs-string">"com.alibaba.nacos"</span>,
        <span class="hljs-attr">"tenant"</span>: <span class="hljs-string">""</span>,
        <span class="hljs-attr">"appName"</span>: <span class="hljs-string">""</span>,
        <span class="hljs-attr">"md5"</span>: <span class="hljs-string">"9f67e6977b100e00cab385a75597db58"</span>,
  		<span class="hljs-attr">"content"</span>: <span class="hljs-string">"contentTest"</span>,
        <span class="hljs-attr">"srcIp"</span>: <span class="hljs-string">"0:0:0:0:0:0:0:1"</span>,
        <span class="hljs-attr">"srcUser"</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-attr">"opType"</span>: <span class="hljs-string">"I"</span>,
        <span class="hljs-attr">"createdTime"</span>: <span class="hljs-string">"2010-05-04T16:00:00.000+0000"</span>,
        <span class="hljs-attr">"lastModifiedTime"</span>: <span class="hljs-string">"2020-12-05T01:48:03.380+0000"</span>
	}
}
</code></pre>
</li>
</ul>
<h2 id="1.7">查询指定命名空间下的配置列表</h2>
<h3>接口描述</h3>
<p>获取指定命名空间下的配置信息列表</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/cs/history/configs</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>必填</th>
<th>参数描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>命名空间</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object[]</code></td>
<td>配置信息列表</td>
</tr>
<tr>
<td><code>data.id</code></td>
<td><code>String</code></td>
<td>配置<code>id</code></td>
</tr>
<tr>
<td><code>data.dataId</code></td>
<td><code>String</code></td>
<td>配置名</td>
</tr>
<tr>
<td><code>data.group</code></td>
<td><code>String</code></td>
<td>配置分组</td>
</tr>
<tr>
<td><code>data.content</code></td>
<td><code>String</code></td>
<td>配置内容</td>
</tr>
<tr>
<td><code>data.md5</code></td>
<td><code>String</code></td>
<td>配置内容的md5值</td>
</tr>
<tr>
<td><code>data.encryptedDataKey</code></td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td><code>data.tenant</code></td>
<td><code>String</code></td>
<td>租户信息（命名空间）</td>
</tr>
<tr>
<td><code>data.appName</code></td>
<td><code>String</code></td>
<td>应用名</td>
</tr>
<tr>
<td><code>data.type</code></td>
<td><code>String</code></td>
<td>配置文件类型</td>
</tr>
<tr>
<td><code>data.lastModified</code></td>
<td><code>long</code></td>
<td>上次修改时间</td>
</tr>
</tbody>
</table>
<blockquote>
<p>返回数据中的配置信息只有<code>dataId</code>, <code>group</code>, <code>tenant</code>, <code>appName</code>, <code>type</code>字段有效，其他字段为默认值</p>
</blockquote>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/cs/history/configs?namespaceId='
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: [
		{
			<span class="hljs-attr">"id"</span>: <span class="hljs-string">"0"</span>,
			<span class="hljs-attr">"dataId"</span>: <span class="hljs-string">"nacos.example"</span>,
        	<span class="hljs-attr">"group"</span>: <span class="hljs-string">"com.alibaba.nacos"</span>,
			<span class="hljs-attr">"content"</span>: <span class="hljs-literal">null</span>,
			<span class="hljs-attr">"md5"</span>: <span class="hljs-literal">null</span>,
			<span class="hljs-attr">"encryptedDataKey"</span>: <span class="hljs-literal">null</span>,
			<span class="hljs-attr">"tenant"</span>: <span class="hljs-string">""</span>,
			<span class="hljs-attr">"appName"</span>: <span class="hljs-string">""</span>,
			<span class="hljs-attr">"type"</span>: <span class="hljs-string">"yaml"</span>,
			<span class="hljs-attr">"lastModified"</span>: <span class="hljs-number">0</span>
		}
    ]
}
</code></pre>
</li>
</ul>
<h2>服务发现</h2>
<h2 id="2.1">注册实例</h2>
<h3>接口描述</h3>
<p>注册一个实例</p>
<h3>请求方式</h3>
<p><code>POST</code></p>
<p><code>Content-Type:application/x-www-form-urlencoded</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/instance</code></p>
<h3>请求Body</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
<tr>
<td><code>ip</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td><code>IP</code>地址</td>
</tr>
<tr>
<td><code>port</code></td>
<td><code>int</code></td>
<td><strong>是</strong></td>
<td>端口号</td>
</tr>
<tr>
<td><code>clusterName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>集群名称，默认为<code>DEFAULT</code></td>
</tr>
<tr>
<td><code>healthy</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>是否只查找健康实例，默认为<code>true</code></td>
</tr>
<tr>
<td><code>weight</code></td>
<td><code>double</code></td>
<td>否</td>
<td>实例权重，默认为<code>1.0</code></td>
</tr>
<tr>
<td><code>enabled</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>是否可用，默认为<code>true</code></td>
</tr>
<tr>
<td><code>metadata</code></td>
<td><code>JSON格式String</code></td>
<td>否</td>
<td>实例元数据</td>
</tr>
<tr>
<td><code>ephemeral</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>是否为临时实例</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'serviceName=test_service' \
  -d 'ip=127.0.0.1' \
  -d 'port=8090' \
  -d 'weight=0.9' \
  -d 'ephemeral=true' \
  -X POST 'http://127.0.0.1:8848/nacos/v2/ns/instance'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
<h2 id="2.2">注销实例</h2>
<h3>接口描述</h3>
<p>注销指定实例</p>
<h3>请求方式</h3>
<p><code>DELETE</code></p>
<p><code>Content-Type:application/x-www-form-urlencoded</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/instance</code></p>
<h3>请求Body</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
<tr>
<td><code>ip</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td><code>IP</code>地址</td>
</tr>
<tr>
<td><code>port</code></td>
<td><code>int</code></td>
<td><strong>是</strong></td>
<td>端口号</td>
</tr>
<tr>
<td><code>clusterName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>集群名称，默认为<code>DEFAULT</code></td>
</tr>
<tr>
<td><code>healthy</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>是否只查找健康实例，默认为<code>true</code></td>
</tr>
<tr>
<td><code>weight</code></td>
<td><code>double</code></td>
<td>否</td>
<td>实例权重，默认为<code>1.0</code></td>
</tr>
<tr>
<td><code>enabled</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>是否可用，默认为<code>true</code></td>
</tr>
<tr>
<td><code>metadata</code></td>
<td><code>JSON格式String</code></td>
<td>否</td>
<td>实例元数据</td>
</tr>
<tr>
<td><code>ephemeral</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>是否为临时实例</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'serviceName=test_service' \
  -d 'ip=127.0.0.1' \
  -d 'port=8090' \
  -d 'weight=0.9' \
  -d 'ephemeral=true' \
  -X DELETE 'http://127.0.0.1:8848/nacos/v2/ns/instance'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
<h2 id="2.3">更新实例</h2>
<h3>接口描述</h3>
<p>修改实例信息</p>
<blockquote>
<p>通过该接口更新的元数据拥有更高的优先级，且具有记忆能力；会在对应实例删除后，依旧存在一段时间，如果在此期间实例重新注册，该元数据依旧生效；您可以通过<code>nacos.naming.clean.expired-metadata.expired-time</code>及<code>nacos.naming.clean.expired-metadata.interval</code>对记忆时间进行修改</p>
</blockquote>
<h3>请求方式</h3>
<p><code>PUT</code></p>
<p><code>Content-Type:application/x-www-form-urlencoded</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/instance</code></p>
<h3>请求Body</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
<tr>
<td><code>ip</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td><code>IP</code>地址</td>
</tr>
<tr>
<td><code>port</code></td>
<td><code>int</code></td>
<td><strong>是</strong></td>
<td>端口号</td>
</tr>
<tr>
<td><code>clusterName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>集群名称，默认为<code>DEFAULT</code></td>
</tr>
<tr>
<td><code>healthy</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>是否只查找健康实例，默认为<code>true</code></td>
</tr>
<tr>
<td><code>weight</code></td>
<td><code>double</code></td>
<td>否</td>
<td>实例权重，默认为<code>1.0</code></td>
</tr>
<tr>
<td><code>enabled</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>是否可用，默认为<code>true</code></td>
</tr>
<tr>
<td><code>metadata</code></td>
<td><code>JSON格式String</code></td>
<td>否</td>
<td>实例元数据</td>
</tr>
<tr>
<td><code>ephemeral</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>是否为临时实例</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'serviceName=test_service' \
  -d 'ip=127.0.0.1' \
  -d 'port=8090' \
  -d 'weight=0.9' \
  -d 'ephemeral=true' \
  -X PUT 'http://127.0.0.1:8848/nacos/v2/ns/instance'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
<h2 id="2.4">查询实例详情</h2>
<h3>接口描述</h3>
<p>查询某个具体实例的详情信息</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/instance</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
<tr>
<td><code>clusterName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>集群名称，默认为<code>DEFAULT</code></td>
</tr>
<tr>
<td><code>ip</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td><code>IP</code>地址</td>
</tr>
<tr>
<td><code>port</code></td>
<td><code>int</code></td>
<td><strong>是</strong></td>
<td>端口号</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object</code></td>
<td>实例详情信息</td>
</tr>
<tr>
<td><code>data.serviceName</code></td>
<td><code>String</code></td>
<td>服务名</td>
</tr>
<tr>
<td><code>data.ip</code></td>
<td><code>String</code></td>
<td><code>IP</code>地址</td>
</tr>
<tr>
<td><code>data.port</code></td>
<td><code>int</code></td>
<td>端口号</td>
</tr>
<tr>
<td><code>data.clusterName</code></td>
<td><code>String</code></td>
<td>集群名称</td>
</tr>
<tr>
<td><code>data.weight</code></td>
<td><code>double</code></td>
<td>实例权重</td>
</tr>
<tr>
<td><code>data.healthy</code></td>
<td><code>boolean</code></td>
<td>是否健康</td>
</tr>
<tr>
<td><code>data.instanceId</code></td>
<td><code>String</code></td>
<td>实例<code>id</code></td>
</tr>
<tr>
<td><code>data.metadata</code></td>
<td><code>map</code></td>
<td>实例元数据</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/instance?namespaceId=public&amp;groupName=&amp;serviceName=test_service&amp;ip=127.0.0.1&amp;port=8080'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: {
		<span class="hljs-attr">"serviceName"</span>: <span class="hljs-string">"DEFAULT_GROUP@@test_service"</span>,
		<span class="hljs-attr">"ip"</span>: <span class="hljs-string">"127.0.0.1"</span>,
		<span class="hljs-attr">"port"</span>: <span class="hljs-number">8080</span>,
		<span class="hljs-attr">"clusterName"</span>: <span class="hljs-string">"DEFAULT"</span>,
		<span class="hljs-attr">"weight"</span>: <span class="hljs-number">1.0</span>,
		<span class="hljs-attr">"healthy"</span>: <span class="hljs-literal">true</span>,
		<span class="hljs-attr">"instanceId"</span>: <span class="hljs-literal">null</span>,
		<span class="hljs-attr">"metadata"</span>: {
			<span class="hljs-attr">"value"</span>: <span class="hljs-string">"1"</span>
		}
	}
}
</code></pre>
</li>
</ul>
<h2 id="2.5">查询指定服务的实例列表</h2>
<h3>接口描述</h3>
<p>查询指定服务下的实例详情信息列表</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/instance/list</code></p>
<h3>请求头</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>User-Agent</code></td>
<td><code>String</code></td>
<td>否</td>
<td>用户代理，默认为空</td>
</tr>
<tr>
<td><code>Client-Version</code></td>
<td><code>String</code></td>
<td>否</td>
<td>客户端版本，默认为空</td>
</tr>
</tbody>
</table>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
<tr>
<td><code>clusterName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>集群名称，默认为<code>DEFAULT</code></td>
</tr>
<tr>
<td><code>ip</code></td>
<td><code>String</code></td>
<td>否</td>
<td><code>IP</code>地址，默认为空，表示不限制<code>IP</code>地址</td>
</tr>
<tr>
<td><code>port</code></td>
<td><code>int</code></td>
<td>否</td>
<td>端口号，默认为<code>0</code>，表示不限制端口号</td>
</tr>
<tr>
<td><code>healthyOnly</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>是否只获取健康实例，默认为<code>false</code></td>
</tr>
<tr>
<td><code>app</code></td>
<td><code>String</code></td>
<td>否</td>
<td>应用名，默认为空</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td></td>
<td>指定服务的实例列表</td>
</tr>
<tr>
<td><code>data.name</code></td>
<td><code>String</code></td>
<td>分组名@@服务名</td>
</tr>
<tr>
<td><code>data.groupName</code></td>
<td><code>String</code></td>
<td>分组名</td>
</tr>
<tr>
<td><code>data.clusters</code></td>
<td><code>String</code></td>
<td>集群名</td>
</tr>
<tr>
<td><code>data.cacheMillis</code></td>
<td><code>int</code></td>
<td>缓存时间</td>
</tr>
<tr>
<td><code>data.hosts</code></td>
<td><code>Object[]</code></td>
<td>实例列表</td>
</tr>
<tr>
<td><code>data.hosts.ip</code></td>
<td><code>String</code></td>
<td>实例<code>IP</code></td>
</tr>
<tr>
<td><code>data.hosts.port</code></td>
<td><code>int</code></td>
<td>实例端口号</td>
</tr>
<tr>
<td><code>data.hosts.weight</code></td>
<td><code>double</code></td>
<td>实例权重</td>
</tr>
<tr>
<td><code>data.hosts.healthy</code></td>
<td><code>boolean</code></td>
<td>实例是否健康</td>
</tr>
<tr>
<td><code>data.hosts.enabled</code></td>
<td><code>boolean</code></td>
<td>实例是否可用</td>
</tr>
<tr>
<td><code>data.hosts.ephemeral</code></td>
<td><code>boolean</code></td>
<td>是否为临时实例</td>
</tr>
<tr>
<td><code>data.hosts.clusterName</code></td>
<td><code>String</code></td>
<td>实例所在的集群名称</td>
</tr>
<tr>
<td><code>data.hosts.serviceName</code></td>
<td><code>String</code></td>
<td>服务名</td>
</tr>
<tr>
<td><code>data.hosts.metadata</code></td>
<td><code>map</code></td>
<td>实例元数据</td>
</tr>
<tr>
<td><code>data.hosts.instanceHeartBeatTimeOut</code></td>
<td><code>int</code></td>
<td>实例心跳超时时间</td>
</tr>
<tr>
<td><code>data.hosts.ipDeleteTimeout</code></td>
<td><code>int</code></td>
<td>实例删除超时时间</td>
</tr>
<tr>
<td><code>data.hosts.instanceHeartBeatInterval</code></td>
<td><code>int</code></td>
<td>实例心跳间隔</td>
</tr>
<tr>
<td><code>data.lastRefTime</code></td>
<td><code>int</code></td>
<td>上次刷新时间</td>
</tr>
<tr>
<td><code>data.checksum</code></td>
<td><code>int</code></td>
<td>校验码</td>
</tr>
<tr>
<td><code>data.allIPs</code></td>
<td><code>boolean</code></td>
<td></td>
</tr>
<tr>
<td><code>data.reachProtectionThreshold</code></td>
<td><code>boolean</code></td>
<td>是否到达保护阈值</td>
</tr>
<tr>
<td><code>data.valid</code></td>
<td><code>boolean</code></td>
<td>是否有效</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/instance/list?serviceName=test_service&amp;ip=127.0.0.1'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: {
		<span class="hljs-attr">"name"</span>: <span class="hljs-string">"DEFAULT_GROUP@@test_service"</span>,
		<span class="hljs-attr">"groupName"</span>: <span class="hljs-string">"DEFAULT_GROUP"</span>,
		<span class="hljs-attr">"clusters"</span>: <span class="hljs-string">""</span>,
		<span class="hljs-attr">"cacheMillis"</span>: <span class="hljs-number">10000</span>,
		<span class="hljs-attr">"hosts"</span>: [
			{
				<span class="hljs-attr">"ip"</span>: <span class="hljs-string">"127.0.0.1"</span>,
				<span class="hljs-attr">"port"</span>: <span class="hljs-number">8080</span>,
				<span class="hljs-attr">"weight"</span>: <span class="hljs-number">1.0</span>,
				<span class="hljs-attr">"healthy"</span>: <span class="hljs-literal">true</span>,
				<span class="hljs-attr">"enabled"</span>: <span class="hljs-literal">true</span>,
				<span class="hljs-attr">"ephemeral"</span>: <span class="hljs-literal">true</span>,
				<span class="hljs-attr">"clusterName"</span>: <span class="hljs-string">"DEFAULT"</span>,
				<span class="hljs-attr">"serviceName"</span>: <span class="hljs-string">"DEFAULT_GROUP@@test_service"</span>,
				<span class="hljs-attr">"metadata"</span>: {
					<span class="hljs-attr">"value"</span>: <span class="hljs-string">"1"</span>
				},
				<span class="hljs-attr">"instanceHeartBeatTimeOut"</span>: <span class="hljs-number">15000</span>,
				<span class="hljs-attr">"ipDeleteTimeout"</span>: <span class="hljs-number">30000</span>,
				<span class="hljs-attr">"instanceHeartBeatInterval"</span>: <span class="hljs-number">5000</span>
			}
		],
		<span class="hljs-attr">"lastRefTime"</span>: <span class="hljs-number">1662554390814</span>,
		<span class="hljs-attr">"checksum"</span>: <span class="hljs-string">""</span>,
		<span class="hljs-attr">"allIPs"</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">"reachProtectionThreshold"</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">"valid"</span>: <span class="hljs-literal">true</span>
	}
}
</code></pre>
</li>
</ul>
<h2 id="2.6">批量更新实例元数据</h2>
<h3>接口描述</h3>
<p>批量更新实例的元数据,</p>
<blockquote>
<p>对应元数据的键不存在时，则添加对应元数据</p>
</blockquote>
<h3>请求方式</h3>
<p><code>PUT</code></p>
<p><code>Content-Type:application/x-www-form-urlencoded</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/instance/metadata/batch</code></p>
<h3>请求Body</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
<tr>
<td><code>consistencyType</code></td>
<td><code>String</code></td>
<td>否</td>
<td>持久化类型，默认为空</td>
</tr>
<tr>
<td><code>instances</code></td>
<td><code>JSON格式String</code></td>
<td>否</td>
<td>需要更新的实例列表，默认为空</td>
</tr>
<tr>
<td><code>metadata</code></td>
<td><code>JSON格式String</code></td>
<td><strong>是</strong></td>
<td>实例元数据</td>
</tr>
</tbody>
</table>
<h3>参数说明</h3>
<blockquote>
<ul>
<li><code>consistencyType</code>: 实例的持久化类型，当为‘<code>persist</code>’，表示对持久化实例的元数据进行更新；否则表示对临时实例的元数据进行更新</li>
<li><code>instances</code>: 待更新的实例列表，<code>json</code>数组，通过<code>ip+port+ephemeral+cluster</code>定位到某一实例，为空则表示更新指定服务下所有实例的元数据</li>
</ul>
</blockquote>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'serviceName=test_service' \
  -d 'consistencyType=ephemeral' \
  -d 'instances=[{"ip":"3.3.3.3","port": "8080","ephemeral":"true","clusterName":"xxxx-cluster"},{"ip":"2.2.2.2","port":"8080","ephemeral":"true","clusterName":"xxxx-cluster"}]' \
  -d 'metadata={"age":"20","name":"cocolan"}' \
  -X PUT 'http://127.0.0.1:8848/nacos/v2/ns/instance/metadata/batch'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
<h2 id="2.7">批量删除实例元数据</h2>
<h3>接口描述</h3>
<p>批量删除实例的元数据,</p>
<blockquote>
<p>对应元数据的键不存在时，则不做操作</p>
</blockquote>
<h3>请求方式</h3>
<p><code>DELETE</code></p>
<p><code>Content-Type:application/x-www-form-urlencoded</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/instance/metadata/batch</code></p>
<h3>请求Body</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
<tr>
<td><code>consistencyType</code></td>
<td><code>String</code></td>
<td>否</td>
<td>持久化类型，默认为空</td>
</tr>
<tr>
<td><code>instances</code></td>
<td><code>JSON格式String</code></td>
<td>否</td>
<td>需要更新的实例列表，默认为空</td>
</tr>
<tr>
<td><code>metadata</code></td>
<td><code>JSON格式String</code></td>
<td><strong>是</strong></td>
<td>实例元数据</td>
</tr>
</tbody>
</table>
<h3>参数说明</h3>
<blockquote>
<ul>
<li><code>consistencyType</code>: 实例的持久化类型，当为‘<code>persist</code>’，表示对持久化实例的元数据进行删除；否则表示对临时实例的元数据进行</li>
<li><code>instances</code>: 待更新的实例列表，<code>json</code>数组，通过<code>ip+port+ephemeral+cluster</code>定位到某一实例，为空则表示更新指定服务下所有实例的元数据</li>
</ul>
</blockquote>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'serviceName=test_service' \
  -d 'consistencyType=ephemeral' \
  -d 'instances=[{"ip":"3.3.3.3","port": "8080","ephemeral":"true","clusterName":"xxxx-cluster"},{"ip":"2.2.2.2","port":"8080","ephemeral":"true","clusterName":"xxxx-cluster"}]' \
  -d 'metadata={"age":"20","name":"cocolan"}' \
  -X DELETE 'http://127.0.0.1:8848/nacos/v2/ns/instance/metadata/batch'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
<h2 id="2.8">创建服务</h2>
<h3>接口描述</h3>
<p>创建一个服务</p>
<blockquote>
<p>服务已存在时会创建失败</p>
</blockquote>
<h3>请求方式</h3>
<p><code>POST</code></p>
<p><code>Content-Type:application/x-www-form-urlencoded</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/service</code></p>
<h3>请求Body</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
<tr>
<td><code>metadata</code></td>
<td><code>JSON格式String</code></td>
<td>否</td>
<td>服务元数据，默认为空</td>
</tr>
<tr>
<td><code>ephemeral</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>是否为临时实例，默认为<code>false</code></td>
</tr>
<tr>
<td><code>protectThreshold</code></td>
<td><code>float</code></td>
<td>否</td>
<td>保护阈值，默认为<code>0</code></td>
</tr>
<tr>
<td><code>selector</code></td>
<td><code>JSON格式String</code></td>
<td>否</td>
<td>访问策略，默认为空</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'serviceName=nacos.test.1' \
  -d 'ephemeral=true' \
  -d 'metadata={"k1":"v1"}' \
  -X POST 'http://127.0.0.1:8848/nacos/v2/ns/service'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
<h2 id="2.9">删除服务</h2>
<h3>接口描述</h3>
<p>删除指定服务</p>
<blockquote>
<p>服务不存在时会报错，且服务还存在实例时会删除失败</p>
</blockquote>
<h3>请求方式</h3>
<p><code>DELETE</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/service</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X DELETE 'http://127.0.0.1:8848/nacos/v2/ns/service?serviceName=nacos.test.1'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
<h2 id="2.10">修改服务</h2>
<h3>接口描述</h3>
<p>更新指定服务</p>
<blockquote>
<p>服务不存在时会报错</p>
</blockquote>
<h3>请求方式</h3>
<p><code>POST</code></p>
<p><code>Content-Type:application/x-www-form-urlencoded</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/service</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
<tr>
<td><code>metadata</code></td>
<td><code>JSON格式String</code></td>
<td>否</td>
<td>服务元数据，默认为空</td>
</tr>
<tr>
<td><code>protectThreshold</code></td>
<td><code>float</code></td>
<td>否</td>
<td>保护阈值，默认为<code>0</code></td>
</tr>
<tr>
<td><code>selector</code></td>
<td><code>JSON格式String</code></td>
<td>否</td>
<td>访问策略，默认为空</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'serviceName=nacos.test.1' \
  -d 'metadata={"k1":"v2"}' \
  -X PUT 'http://127.0.0.1:8848/nacos/v2/ns/service'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
<h2 id="2.11">查询服务详情</h2>
<h3>接口描述</h3>
<p>查询某个具体服务的详情信息</p>
<blockquote>
<p>服务不存在时会报错</p>
</blockquote>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/service</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td></td>
<td>服务信息</td>
</tr>
<tr>
<td><code>data.namespace</code></td>
<td><code>String</code></td>
<td>命名空间</td>
</tr>
<tr>
<td><code>data.groupName</code></td>
<td><code>String</code></td>
<td>分组名</td>
</tr>
<tr>
<td><code>data.serviceName</code></td>
<td><code>String</code></td>
<td>服务名</td>
</tr>
<tr>
<td><code>data.clusterMap</code></td>
<td><code>map</code></td>
<td>集群信息</td>
</tr>
<tr>
<td><code>data.metadata</code></td>
<td><code>map</code></td>
<td>服务元数据</td>
</tr>
<tr>
<td><code>data.protectThreshold</code></td>
<td><code>float</code></td>
<td>保护阈值</td>
</tr>
<tr>
<td><code>data.selector</code></td>
<td><code>Object</code></td>
<td>访问策略</td>
</tr>
<tr>
<td><code>data.ephemeral</code></td>
<td><code>Boolean</code></td>
<td>是否为临时实例</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/service?serviceName=nacos.test.1'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: {
		<span class="hljs-attr">"namespace"</span>: <span class="hljs-string">"public"</span>,
		<span class="hljs-attr">"serviceName"</span>: <span class="hljs-string">"nacos.test.1"</span>,
		<span class="hljs-attr">"groupName"</span>: <span class="hljs-string">"DEFAULT_GROUP"</span>,
		<span class="hljs-attr">"clusterMap"</span>: {},
		<span class="hljs-attr">"metadata"</span>: {},
		<span class="hljs-attr">"protectThreshold"</span>: <span class="hljs-number">0</span>,
		<span class="hljs-attr">"selector"</span>: {
			<span class="hljs-attr">"type"</span>: <span class="hljs-string">"none"</span>,
			<span class="hljs-attr">"contextType"</span>: <span class="hljs-string">"NONE"</span>
		},
		<span class="hljs-attr">"ephemeral"</span>: <span class="hljs-literal">false</span>
	}
}
</code></pre>
</li>
</ul>
<h2 id="2.12">查询服务列表</h2>
<h3>接口描述</h3>
<p>查询符合条件的服务列表</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/service/list</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>selector</code></td>
<td><code>JSON格式String</code></td>
<td><strong>是</strong></td>
<td>访问策略</td>
</tr>
<tr>
<td><code>pageNo</code></td>
<td><code>int</code></td>
<td>否</td>
<td>当前页，默认为<code>1</code></td>
</tr>
<tr>
<td><code>pageSize</code></td>
<td><code>int</code></td>
<td>否</td>
<td>页条目数，默认为<code>20</code>，最大为<code>500</code></td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td></td>
<td>服务列表信息</td>
</tr>
<tr>
<td><code>data.count</code></td>
<td><code>String</code></td>
<td>服务数目</td>
</tr>
<tr>
<td><code>data.services</code></td>
<td><code>String[]</code></td>
<td>分页后的服务列表</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/service/list'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: {
		<span class="hljs-attr">"count"</span>: <span class="hljs-number">2</span>,
		<span class="hljs-attr">"services"</span>: [
			<span class="hljs-string">"nacos.test.1"</span>,
			<span class="hljs-string">"nacos.test.2"</span>
		]
	}
}
</code></pre>
</li>
</ul>
<h2 id="2.13">查询系统开关</h2>
<h3>接口描述</h3>
<p>查询系统开关</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/operator/switches</code></p>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object</code></td>
<td>系统开关信息</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/operator/switches'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: {
		<span class="hljs-attr">"masters"</span>: <span class="hljs-literal">null</span>,
		<span class="hljs-attr">"adWeightMap"</span>: {},
		<span class="hljs-attr">"defaultPushCacheMillis"</span>: <span class="hljs-number">10000</span>,
		<span class="hljs-attr">"clientBeatInterval"</span>: <span class="hljs-number">5000</span>,
		<span class="hljs-attr">"defaultCacheMillis"</span>: <span class="hljs-number">3000</span>,
		<span class="hljs-attr">"distroThreshold"</span>: <span class="hljs-number">0.7</span>,
		<span class="hljs-attr">"healthCheckEnabled"</span>: <span class="hljs-literal">true</span>,
		<span class="hljs-attr">"autoChangeHealthCheckEnabled"</span>: <span class="hljs-literal">true</span>,
		<span class="hljs-attr">"distroEnabled"</span>: <span class="hljs-literal">true</span>,
		<span class="hljs-attr">"enableStandalone"</span>: <span class="hljs-literal">true</span>,
		<span class="hljs-attr">"pushEnabled"</span>: <span class="hljs-literal">true</span>,
		<span class="hljs-attr">"checkTimes"</span>: <span class="hljs-number">3</span>,
		<span class="hljs-attr">"httpHealthParams"</span>: {
			<span class="hljs-attr">"max"</span>: <span class="hljs-number">5000</span>,
			<span class="hljs-attr">"min"</span>: <span class="hljs-number">500</span>,
			<span class="hljs-attr">"factor"</span>: <span class="hljs-number">0.85</span>
		},
		<span class="hljs-attr">"tcpHealthParams"</span>: {
			<span class="hljs-attr">"max"</span>: <span class="hljs-number">5000</span>,
			<span class="hljs-attr">"min"</span>: <span class="hljs-number">1000</span>,
			<span class="hljs-attr">"factor"</span>: <span class="hljs-number">0.75</span>
		},
		<span class="hljs-attr">"mysqlHealthParams"</span>: {
			<span class="hljs-attr">"max"</span>: <span class="hljs-number">3000</span>,
			<span class="hljs-attr">"min"</span>: <span class="hljs-number">2000</span>,
			<span class="hljs-attr">"factor"</span>: <span class="hljs-number">0.65</span>
		},
		<span class="hljs-attr">"incrementalList"</span>: [],
		<span class="hljs-attr">"serverStatusSynchronizationPeriodMillis"</span>: <span class="hljs-number">2000</span>,
		<span class="hljs-attr">"serviceStatusSynchronizationPeriodMillis"</span>: <span class="hljs-number">5000</span>,
		<span class="hljs-attr">"disableAddIP"</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">"sendBeatOnly"</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">"lightBeatEnabled"</span>: <span class="hljs-literal">true</span>,
		<span class="hljs-attr">"doubleWriteEnabled"</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">"limitedUrlMap"</span>: {},
		<span class="hljs-attr">"distroServerExpiredMillis"</span>: <span class="hljs-number">10000</span>,
		<span class="hljs-attr">"pushGoVersion"</span>: <span class="hljs-string">"0.1.0"</span>,
		<span class="hljs-attr">"pushJavaVersion"</span>: <span class="hljs-string">"0.1.0"</span>,
		<span class="hljs-attr">"pushPythonVersion"</span>: <span class="hljs-string">"0.4.3"</span>,
		<span class="hljs-attr">"pushCVersion"</span>: <span class="hljs-string">"1.0.12"</span>,
		<span class="hljs-attr">"pushCSharpVersion"</span>: <span class="hljs-string">"0.9.0"</span>,
		<span class="hljs-attr">"enableAuthentication"</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">"overriddenServerStatus"</span>: <span class="hljs-literal">null</span>,
		<span class="hljs-attr">"defaultInstanceEphemeral"</span>: <span class="hljs-literal">true</span>,
		<span class="hljs-attr">"healthCheckWhiteList"</span>: [],
		<span class="hljs-attr">"name"</span>: <span class="hljs-string">"00-00---000-NACOS_SWITCH_DOMAIN-000---00-00"</span>,
		<span class="hljs-attr">"checksum"</span>: <span class="hljs-literal">null</span>
	}
}
</code></pre>
</li>
</ul>
<h2 id="2.14">修改系统开关</h2>
<h3>接口描述</h3>
<p>修改系统开关</p>
<h3>请求方式</h3>
<p><code>PUT</code></p>
<p><code>Content-Type:application/x-www-form-urlencoded</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/operator/switches</code></p>
<h3>请求Body</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entry</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>开关名</td>
</tr>
<tr>
<td><code>value</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>开关值</td>
</tr>
<tr>
<td><code>debug</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>是否只在本机生效,<code>true</code>表示本机生效,<code>false</code>表示集群生效</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>String</code></td>
<td>“<code>ok</code>”表示执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'entry=pushEnabled' \
  -d 'value=false' \
  -d 'debug=true' \
  -X PUT 'http://127.0.0.1:8848/nacos/v2/ns/operator/switches'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-string">"ok"</span>
}
</code></pre>
</li>
</ul>
<h2 id="2.15">查询系统当前数据指标</h2>
<h3>接口描述</h3>
<p>查询系统当前数据指标</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/operator/metrics</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>onlyStatus</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>只显示状态，默认为<code>true</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>当<code>onlyStatus</code>设置为<code>true</code>时，只返回表示系统状态的字符串</p>
</blockquote>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object</code></td>
<td>系统当前数据指标</td>
</tr>
<tr>
<td><code>data.status</code></td>
<td><code>String</code></td>
<td>系统状态</td>
</tr>
<tr>
<td><code>data.serviceCount</code></td>
<td><code>int</code></td>
<td>服务数量</td>
</tr>
<tr>
<td><code>data.instanceCount</code></td>
<td><code>int</code></td>
<td>实例数量</td>
</tr>
<tr>
<td><code>data.subscribeCount</code></td>
<td><code>int</code></td>
<td>订阅数量</td>
</tr>
<tr>
<td><code>data.raftNotifyTaskCount</code></td>
<td><code>int</code></td>
<td><code>Raft</code>通知任务数量</td>
</tr>
<tr>
<td><code>data.responsibleServiceCount</code></td>
<td><code>int</code></td>
<td></td>
</tr>
<tr>
<td><code>data.responsibleInstanceCount</code></td>
<td><code>int</code></td>
<td></td>
</tr>
<tr>
<td><code>data.clientCount</code></td>
<td><code>int</code></td>
<td>客户端数量</td>
</tr>
<tr>
<td><code>data.connectionBasedClientCount</code></td>
<td><code>int</code></td>
<td>连接数量</td>
</tr>
<tr>
<td><code>data.ephemeralIpPortClientCount</code></td>
<td><code>int</code></td>
<td>临时客户端数量</td>
</tr>
<tr>
<td><code>data.persistentIpPortClientCount</code></td>
<td><code>int</code></td>
<td>持久客户端数量</td>
</tr>
<tr>
<td><code>data.responsibleClientCount</code></td>
<td><code>int</code></td>
<td></td>
</tr>
<tr>
<td><code>data.cpu</code></td>
<td><code>float</code></td>
<td><code>cpu</code>使用率</td>
</tr>
<tr>
<td><code>data.load</code></td>
<td><code>float</code></td>
<td>负载</td>
</tr>
<tr>
<td><code>data.mem</code></td>
<td><code>float</code></td>
<td>内存使用率</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/operator/metrics'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: {
		<span class="hljs-attr">"status"</span>: <span class="hljs-string">"UP"</span>,
		<span class="hljs-attr">"serviceCount"</span>: <span class="hljs-number">2</span>,
		<span class="hljs-attr">"instanceCount"</span>: <span class="hljs-number">2</span>,
		<span class="hljs-attr">"subscribeCount"</span>: <span class="hljs-number">2</span>,
		<span class="hljs-attr">"raftNotifyTaskCount"</span>: <span class="hljs-number">0</span>,
		<span class="hljs-attr">"responsibleServiceCount"</span>: <span class="hljs-number">0</span>,
		<span class="hljs-attr">"responsibleInstanceCount"</span>: <span class="hljs-number">0</span>,
		<span class="hljs-attr">"clientCount"</span>: <span class="hljs-number">2</span>,
		<span class="hljs-attr">"connectionBasedClientCount"</span>: <span class="hljs-number">2</span>,
		<span class="hljs-attr">"ephemeralIpPortClientCount"</span>: <span class="hljs-number">0</span>,
		<span class="hljs-attr">"persistentIpPortClientCount"</span>: <span class="hljs-number">0</span>,
		<span class="hljs-attr">"responsibleClientCount"</span>: <span class="hljs-number">2</span>,
		<span class="hljs-attr">"cpu"</span>: <span class="hljs-number">0</span>,
		<span class="hljs-attr">"load"</span>: <span class="hljs-number">-1</span>,
		<span class="hljs-attr">"mem"</span>: <span class="hljs-number">1</span>
	}
}
</code></pre>
</li>
</ul>
<h2 id="2.16">更新实例健康状态</h2>
<h3>接口描述</h3>
<p>更新实例的健康状态</p>
<h3>请求方式</h3>
<p><code>PUT</code></p>
<p><code>Content-Type:application/x-www-form-urlencoded</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/health/instance</code></p>
<h3>请求Body</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
<tr>
<td><code>clusterName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>集群名，默认为<code>DEFAULT</code></td>
</tr>
<tr>
<td><code>ip</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td><code>IP</code>地址</td>
</tr>
<tr>
<td><code>port</code></td>
<td><code>int</code></td>
<td><strong>是</strong></td>
<td>端口号</td>
</tr>
<tr>
<td><code>healthy</code></td>
<td><code>boolean</code></td>
<td><strong>是</strong></td>
<td>是否健康</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>String</code></td>
<td>“<code>ok</code>”表示执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'serviceName=nacos.test.1' \
  -d 'ip=127.0.0.1' \
  -d 'port=8080' \
  -d 'healthy=false' \
  -X PUT 'http://127.0.0.1:8848/nacos/v2/ns/health/instance'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-string">"ok"</span>
}
</code></pre>
</li>
</ul>
<h2 id="2.17">查询客户端列表（新）</h2>
<h3>接口描述</h3>
<p>查询当前所有的客户端列表</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/client/list</code></p>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>String[]</code></td>
<td>客户端<code>id</code>列表</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/client/list'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: [
		<span class="hljs-string">"10.128.164.35:9956#true"</span>,
		<span class="hljs-string">"1664358687402_127.0.0.1_2300"</span>,
		<span class="hljs-string">"1664358642902_127.0.0.1_2229"</span>,
		<span class="hljs-string">"192.168.139.1:49825#true"</span>,
		<span class="hljs-string">"10.128.164.35:9954#true"</span>,
		<span class="hljs-string">"192.168.139.1:53556#true"</span>
	]
}
</code></pre>
</li>
</ul>
<blockquote>
<p>对于不同版本的nacos client，建立客户端的方式不同。</p>
<p>对于<code>1.x</code>版本，每个实例会建立两个基于<code>ip+port</code>的客户端，分别对应实例注册与服务订阅，<code>clientId</code>格式为 <code>ip:port#ephemeral</code></p>
<p>对于<code>2.x</code>版本的<code>nacos client</code>, 每个实例会建立一个<code>RPC</code>连接，对应一个基于<code>RPC</code>连接的客户端，兼具注册与订阅功能，<code>clientId</code>
格式为<code>time_ip_port</code></p>
</blockquote>
<h2 id="2.18">查询客户端信息（新）</h2>
<h3>接口描述</h3>
<p>查询指定客户端的详细信息</p>
<blockquote>
<p>客户端不存在时会报错</p>
</blockquote>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/client</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>clientId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>客户端<code>id</code></td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object</code></td>
<td>客户端信息</td>
</tr>
<tr>
<td><code>data.clientId</code></td>
<td><code>String</code></td>
<td>客户端<code>id</code></td>
</tr>
<tr>
<td><code>data.ephemeral</code></td>
<td><code>boolean</code></td>
<td>是否为临时实例</td>
</tr>
<tr>
<td><code>data.lastUpdatedTime</code></td>
<td><code>int</code></td>
<td>上次更新时间</td>
</tr>
<tr>
<td><code>data.clientType</code></td>
<td><code>String</code></td>
<td>客户端类型</td>
</tr>
<tr>
<td><code>data.clientIp</code></td>
<td><code>String</code></td>
<td>客户端<code>IP</code></td>
</tr>
<tr>
<td><code>data.clientPort</code></td>
<td><code>String</code></td>
<td>客户端端口</td>
</tr>
<tr>
<td><code>data.connectType</code></td>
<td><code>String</code></td>
<td>连接类型</td>
</tr>
<tr>
<td><code>data.appName</code></td>
<td><code>String</code></td>
<td>应用名</td>
</tr>
<tr>
<td><code>data.Version</code></td>
<td><code>String</code></td>
<td>客户端版本</td>
</tr>
</tbody>
</table>
<blockquote>
<p>只有当<code>clientType</code>为<code>connection</code>时，会显示<code>connectType</code>，<code>appName</code>和<code>appName</code>字段</p>
</blockquote>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/client?clientId=1664527081276_127.0.0.1_4400'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: {
		<span class="hljs-attr">"clientId"</span>: <span class="hljs-string">"1664527081276_127.0.0.1_4400"</span>,
		<span class="hljs-attr">"ephemeral"</span>: <span class="hljs-literal">true</span>,
		<span class="hljs-attr">"lastUpdatedTime"</span>: <span class="hljs-number">1664527081642</span>,
		<span class="hljs-attr">"clientType"</span>: <span class="hljs-string">"connection"</span>,
		<span class="hljs-attr">"connectType"</span>: <span class="hljs-string">"GRPC"</span>,
		<span class="hljs-attr">"appName"</span>: <span class="hljs-string">"-"</span>,
		<span class="hljs-attr">"version"</span>: <span class="hljs-string">"Nacos-Java-Client:v2.1.0"</span>,
		<span class="hljs-attr">"clientIp"</span>: <span class="hljs-string">"10.128.164.35"</span>,
		<span class="hljs-attr">"clientPort"</span>: <span class="hljs-string">"4400"</span>
	}
}
</code></pre>
</li>
</ul>
<h2 id="2.19">查询客户端的注册信息（新）</h2>
<h3>接口描述</h3>
<p>查询指定客户端的注册信息</p>
<blockquote>
<p>客户端不存在时会报错</p>
</blockquote>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/client/publish/list</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>clientId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>客户端<code>id</code></td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object[]</code></td>
<td>客户端注册的服务列表</td>
</tr>
<tr>
<td><code>data.namespace</code></td>
<td><code>String</code></td>
<td>命名空间</td>
</tr>
<tr>
<td><code>data.group</code></td>
<td><code>String</code></td>
<td>分组名</td>
</tr>
<tr>
<td><code>data.serviceName</code></td>
<td><code>String</code></td>
<td>服务名</td>
</tr>
<tr>
<td><code>data.registeredInstance</code></td>
<td><code>Object</code></td>
<td>该服务下注册的实例</td>
</tr>
<tr>
<td><code>data.registeredInstance.ip</code></td>
<td><code>String</code></td>
<td><code>IP</code>地址</td>
</tr>
<tr>
<td><code>data.registeredInstance.port</code></td>
<td><code>int</code></td>
<td>端口号</td>
</tr>
<tr>
<td><code>data.registeredInstance.cluster</code></td>
<td><code>String</code></td>
<td>集群名</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/client/publish/list?clientId=1664527081276_127.0.0.1_4400'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: [
		{
			<span class="hljs-attr">"namespace"</span>: <span class="hljs-string">"public"</span>,
			<span class="hljs-attr">"group"</span>: <span class="hljs-string">"DEFAULT_GROUP"</span>,
			<span class="hljs-attr">"serviceName"</span>: <span class="hljs-string">"nacos.test.1"</span>,
			<span class="hljs-attr">"registeredInstance"</span>: {
				<span class="hljs-attr">"ip"</span>: <span class="hljs-string">"10.128.164.35"</span>,
				<span class="hljs-attr">"port"</span>: <span class="hljs-number">9950</span>,
				<span class="hljs-attr">"cluster"</span>: <span class="hljs-string">"DEFAULT"</span>
			}
		}
	]
}
</code></pre>
</li>
</ul>
<h2 id="2.20">查询客户端的订阅信息（新）</h2>
<h3>接口描述</h3>
<p>查询指定客户端的订阅信息</p>
<blockquote>
<p>客户端不存在时会报错</p>
</blockquote>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/client/subscribe/list</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>clientId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>客户端<code>id</code></td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object[]</code></td>
<td>客户端订阅的服务列表</td>
</tr>
<tr>
<td><code>data.namespace</code></td>
<td><code>String</code></td>
<td>命名空间</td>
</tr>
<tr>
<td><code>data.group</code></td>
<td><code>String</code></td>
<td>分组名</td>
</tr>
<tr>
<td><code>data.serviceName</code></td>
<td><code>String</code></td>
<td>服务名</td>
</tr>
<tr>
<td><code>data.subscriberInfo</code></td>
<td><code>Object</code></td>
<td>订阅信息</td>
</tr>
<tr>
<td><code>data.subscriberInfo.app</code></td>
<td><code>String</code></td>
<td>应用</td>
</tr>
<tr>
<td><code>data.subscriberInfo.agent</code></td>
<td><code>String</code></td>
<td>客户端信息</td>
</tr>
<tr>
<td><code>data.subscriberInfo.addr</code></td>
<td><code>String</code></td>
<td>地址</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/client/subscribe/list?clientId=1664527081276_127.0.0.1_4400'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: [
		{
			<span class="hljs-attr">"namespace"</span>: <span class="hljs-string">"public"</span>,
			<span class="hljs-attr">"group"</span>: <span class="hljs-string">"DEFAULT_GROUP"</span>,
			<span class="hljs-attr">"serviceName"</span>: <span class="hljs-string">"nacos.test.1"</span>,
			<span class="hljs-attr">"subscriberInfo"</span>: {
				<span class="hljs-attr">"app"</span>: <span class="hljs-string">"unknown"</span>,
				<span class="hljs-attr">"agent"</span>: <span class="hljs-string">"Nacos-Java-Client:v2.1.0"</span>,
				<span class="hljs-attr">"addr"</span>: <span class="hljs-string">"10.128.164.35"</span>
			}
		}
	]
}
</code></pre>
</li>
</ul>
<h2 id="2.21">查询注册指定服务的客户端信息（新）</h2>
<h3>接口描述</h3>
<p>查询注册指定服务的客户端信息</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/client/service/publisher/list</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td><code>String</code></td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
<tr>
<td><code>ephemeral</code></td>
<td><code>boolean</code></td>
<td>否</td>
<td>是否为临时实例</td>
</tr>
<tr>
<td><code>ip</code></td>
<td><code>String</code></td>
<td>否</td>
<td><code>IP</code>地址，默认为空，不限制<code>IP</code>地址</td>
</tr>
<tr>
<td><code>port</code></td>
<td><code>int</code></td>
<td>否</td>
<td>端口号，默认为空，表示不限制端口号</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td></td>
<td>客户端列表</td>
</tr>
<tr>
<td><code>data.clientId</code></td>
<td><code>String</code></td>
<td>客户端<code>id</code></td>
</tr>
<tr>
<td><code>data.ip</code></td>
<td><code>String</code></td>
<td>客户端<code>IP</code></td>
</tr>
<tr>
<td><code>data.port</code></td>
<td><code>int</code></td>
<td>客户端端口</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/client/service/publisher/list?serviceName=nacos.test.1&amp;ip=&amp;port='
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: [
		{
			<span class="hljs-attr">"clientId"</span>: <span class="hljs-string">"1664527081276_127.0.0.1_4400"</span>,
			<span class="hljs-attr">"ip"</span>: <span class="hljs-string">"10.128.164.35"</span>,
			<span class="hljs-attr">"port"</span>: <span class="hljs-number">9950</span>
		},
		{
			<span class="hljs-attr">"clientId"</span>: <span class="hljs-string">"10.128.164.35:9954#true"</span>,
			<span class="hljs-attr">"ip"</span>: <span class="hljs-string">"10.128.164.35"</span>,
			<span class="hljs-attr">"port"</span>: <span class="hljs-number">9954</span>
		}
	]
}
</code></pre>
</li>
</ul>
<h2 id="2.22">查询订阅指定服务的客户端信息（新）</h2>
<h3>接口描述</h3>
<p>查询订阅指定服务的客户端信息</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/ns/client/service/subscriber/list</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td>String</td>
<td>否</td>
<td>命名空间<code>Id</code>，默认为<code>public</code></td>
</tr>
<tr>
<td><code>groupName</code></td>
<td>String</td>
<td>否</td>
<td>分组名，默认为<code>DEFAULT_GROUP</code></td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td>String</td>
<td><strong>是</strong></td>
<td>服务名</td>
</tr>
<tr>
<td><code>ephemeral</code></td>
<td>boolean</td>
<td>否</td>
<td>是否为临时实例</td>
</tr>
<tr>
<td><code>ip</code></td>
<td>String</td>
<td>否</td>
<td><code>IP</code>地址，默认为空，不限制<code>IP</code>地址</td>
</tr>
<tr>
<td><code>port</code></td>
<td>int</td>
<td>否</td>
<td>端口号，默认为空，表示不限制端口号</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td></td>
<td>客户端列表</td>
</tr>
<tr>
<td><code>data.clientId</code></td>
<td><code>String</code></td>
<td>客户端<code>id</code></td>
</tr>
<tr>
<td><code>data.ip</code></td>
<td><code>String</code></td>
<td>客户端<code>IP</code></td>
</tr>
<tr>
<td><code>data.port</code></td>
<td><code>int</code></td>
<td>客户端端口</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/ns/client/service/subscriber/list?serviceName=nacos.test.1&amp;ip=&amp;port='
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: [
		{
			<span class="hljs-attr">"clientId"</span>: <span class="hljs-string">"1664527125645_127.0.0.1_4443"</span>,
			<span class="hljs-attr">"ip"</span>: <span class="hljs-string">"10.128.164.35"</span>,
			<span class="hljs-attr">"port"</span>: <span class="hljs-number">0</span>
		},
		{
			<span class="hljs-attr">"clientId"</span>: <span class="hljs-string">"172.24.144.1:54126#true"</span>,
			<span class="hljs-attr">"ip"</span>: <span class="hljs-string">"172.24.144.1"</span>,
			<span class="hljs-attr">"port"</span>: <span class="hljs-number">54126</span>
		}
	]
}
</code></pre>
</li>
</ul>
<h2>命名空间</h2>
<h2 id="3.1">查询命名空间列表</h2>
<h3>接口描述</h3>
<p>查询当前所有的命名空间</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/console/namespace/list</code></p>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object[]</code></td>
<td>命名空间列表</td>
</tr>
<tr>
<td><code>data.namespace</code></td>
<td><code>String</code></td>
<td>命名空间<code>ID</code></td>
</tr>
<tr>
<td><code>data.namespaceShowName</code></td>
<td><code>String</code></td>
<td>命名空间名称</td>
</tr>
<tr>
<td><code>data.namespaceDesc</code></td>
<td><code>String</code></td>
<td>命名空间描述</td>
</tr>
<tr>
<td><code>data.quota</code></td>
<td><code>int</code></td>
<td>命名空间的容量</td>
</tr>
<tr>
<td><code>data.configCount</code></td>
<td><code>int</code></td>
<td>命名空间下的配置数量</td>
</tr>
<tr>
<td><code>data.type</code></td>
<td><code>int</code></td>
<td>命名空间类型</td>
</tr>
</tbody>
</table>
<blockquote>
<p>命名空间分为3种类型，<code>0</code>- 全局命名空间   <code>1</code> - 默认私有命名空间  <code>2</code>- 自定义命名空间</p>
</blockquote>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/console/namespace/list'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: [
		{
			<span class="hljs-attr">"namespace"</span>: <span class="hljs-string">""</span>,
			<span class="hljs-attr">"namespaceShowName"</span>: <span class="hljs-string">"public"</span>,
			<span class="hljs-attr">"namespaceDesc"</span>: <span class="hljs-literal">null</span>,
			<span class="hljs-attr">"quota"</span>: <span class="hljs-number">200</span>,
			<span class="hljs-attr">"configCount"</span>: <span class="hljs-number">1</span>,
			<span class="hljs-attr">"type"</span>: <span class="hljs-number">0</span>
		}
	]
}
</code></pre>
</li>
</ul>
<h2 id="3.2">查询具体命名空间</h2>
<h3>接口描述</h3>
<p>查询具体命名空间的信息</p>
<blockquote>
<p>命名空间不存在时会报错</p>
</blockquote>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/console/namespace</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>命名空间<code>Id</code></td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object</code></td>
<td>命名空间信息</td>
</tr>
<tr>
<td><code>data.namespace</code></td>
<td><code>String</code></td>
<td>命名空间<code>ID</code></td>
</tr>
<tr>
<td><code>data.namespaceShowName</code></td>
<td><code>String</code></td>
<td>命名空间名称</td>
</tr>
<tr>
<td><code>data.namespaceDesc</code></td>
<td><code>String</code></td>
<td>命名空间描述</td>
</tr>
<tr>
<td><code>data.quota</code></td>
<td><code>int</code></td>
<td>命名空间的容量</td>
</tr>
<tr>
<td><code>data.configCount</code></td>
<td><code>int</code></td>
<td>命名空间下的配置数量</td>
</tr>
<tr>
<td><code>data.type</code></td>
<td><code>int</code></td>
<td>命名空间类型</td>
</tr>
</tbody>
</table>
<blockquote>
<p>命名空间分为3种类型，<code>0</code> - 全局命名空间   <code>1</code> - 默认私有命名空间  <code>2</code> - 自定义命名空间</p>
</blockquote>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/console/namespace?namespaceId=test_namespace'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: {
		<span class="hljs-attr">"namespace"</span>: <span class="hljs-string">"test_namespace"</span>,
		<span class="hljs-attr">"namespaceShowName"</span>: <span class="hljs-string">"test"</span>,
		<span class="hljs-attr">"namespaceDesc"</span>: <span class="hljs-literal">null</span>,
		<span class="hljs-attr">"quota"</span>: <span class="hljs-number">200</span>,
		<span class="hljs-attr">"configCount"</span>: <span class="hljs-number">0</span>,
		<span class="hljs-attr">"type"</span>: <span class="hljs-number">2</span>
	}
}
</code></pre>
</li>
</ul>
<h2 id="3.3">创建命名空间</h2>
<h3>接口描述</h3>
<p>创建一个命名空间</p>
<blockquote>
<p>命名空间已存在时会报错</p>
</blockquote>
<h3>请求方式</h3>
<p><code>POST</code></p>
<p><code>Content-Type:application/x-www-form-urlencoded</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/console/namespace</code></p>
<h3>请求Body</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>命名空间<code>Id</code></td>
</tr>
<tr>
<td><code>namespaceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>命名空间名称</td>
</tr>
<tr>
<td><code>namespaceDesc</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间描述</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'namespaceId=test_namespace' \
  -d 'namespaceName=test' \
  -X POST 'http://127.0.0.1:8848/nacos/v2/console/namespace'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
<h2 id="3.4">编辑命名空间</h2>
<h3>接口描述</h3>
<p>编辑命名空间信息</p>
<h3>请求方式</h3>
<p><code>PUT</code></p>
<p><code>Content-Type:application/x-www-form-urlencoded</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/console/namespace</code></p>
<h3>请求Body</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>命名空间<code>Id</code></td>
</tr>
<tr>
<td><code>namespaceName</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>命名空间名称</td>
</tr>
<tr>
<td><code>namespaceDesc</code></td>
<td><code>String</code></td>
<td>否</td>
<td>命名空间描述</td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'namespaceId=test_namespace' \
  -d 'namespaceName=test.nacos' \
  -X PUT 'http://127.0.0.1:8848/nacos/v2/console/namespace'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
<h2 id="3.5">删除命名空间</h2>
<h3>接口描述</h3>
<p>删除指定命名空间</p>
<h3>请求方式</h3>
<p><code>DELETE</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/console/namespace</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaceId</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>命名空间<code>Id</code></td>
</tr>
</tbody>
</table>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'namespaceId=test_namespace' \
  -X DELETE 'http://127.0.0.1:8848/nacos/v2/console/namespace'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
      <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
<h2>集群管理</h2>
<h2 id="4.1">查询当前节点信息</h2>
<h3>接口描述</h3>
<p>查询当前<code>nacos</code>节点信息</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/core/cluster/node/self</code></p>
<h3 id="Member">返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object</code></td>
<td>当前节点信息</td>
</tr>
<tr>
<td><code>data.ip</code></td>
<td><code>String</code></td>
<td>节点<code>IP</code>地址</td>
</tr>
<tr>
<td><code>data.port</code></td>
<td><code>int</code></td>
<td>节点端口</td>
</tr>
<tr>
<td><code>data.state</code></td>
<td><code>String</code></td>
<td>节点状态</td>
</tr>
<tr>
<td><code>data.extendInfo</code></td>
<td><code>Object</code></td>
<td>节点扩展信息</td>
</tr>
<tr>
<td><code>data.address</code></td>
<td><code>String</code></td>
<td>节点地址（<code>IP:port</code>）</td>
</tr>
<tr>
<td><code>data.failAccessCnt</code></td>
<td><code>int</code></td>
<td>失败访问次数</td>
</tr>
<tr>
<td><code>data.abilities</code></td>
<td><code>Object</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/core/cluster/node/self'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: {
		<span class="hljs-attr">"ip"</span>: <span class="hljs-string">"10.128.164.35"</span>,
		<span class="hljs-attr">"port"</span>: <span class="hljs-number">8848</span>,
		<span class="hljs-attr">"state"</span>: <span class="hljs-string">"UP"</span>,
		<span class="hljs-attr">"extendInfo"</span>: {
			<span class="hljs-attr">"lastRefreshTime"</span>: <span class="hljs-number">1664521263623</span>,
			<span class="hljs-attr">"raftMetaData"</span>: {
				<span class="hljs-attr">"metaDataMap"</span>: {
					<span class="hljs-attr">"naming_instance_metadata"</span>: {
						<span class="hljs-attr">"leader"</span>: <span class="hljs-string">"10.128.164.35:7848"</span>,
						<span class="hljs-attr">"raftGroupMember"</span>: [
							<span class="hljs-string">"10.128.164.35:7848"</span>
						],
						<span class="hljs-attr">"term"</span>: <span class="hljs-number">12</span>
					},
					<span class="hljs-attr">"naming_persistent_service_v2"</span>: {
						<span class="hljs-attr">"leader"</span>: <span class="hljs-string">"10.128.164.35:7848"</span>,
						<span class="hljs-attr">"raftGroupMember"</span>: [
							<span class="hljs-string">"10.128.164.35:7848"</span>
						],
						<span class="hljs-attr">"term"</span>: <span class="hljs-number">12</span>
					},
					<span class="hljs-attr">"naming_service_metadata"</span>: {
						<span class="hljs-attr">"leader"</span>: <span class="hljs-string">"10.128.164.35:7848"</span>,
						<span class="hljs-attr">"raftGroupMember"</span>: [
							<span class="hljs-string">"10.128.164.35:7848"</span>
						],
						<span class="hljs-attr">"term"</span>: <span class="hljs-number">12</span>
					}
				}
			},
			<span class="hljs-attr">"raftPort"</span>: <span class="hljs-string">"7848"</span>,
			<span class="hljs-attr">"readyToUpgrade"</span>: <span class="hljs-literal">true</span>,
			<span class="hljs-attr">"version"</span>: <span class="hljs-string">"2.1.0"</span>
		},
		<span class="hljs-attr">"address"</span>: <span class="hljs-string">"10.128.164.35:8848"</span>,
		<span class="hljs-attr">"failAccessCnt"</span>: <span class="hljs-number">0</span>,
		<span class="hljs-attr">"abilities"</span>: {
			<span class="hljs-attr">"remoteAbility"</span>: {
				<span class="hljs-attr">"supportRemoteConnection"</span>: <span class="hljs-literal">true</span>
			},
			<span class="hljs-attr">"configAbility"</span>: {
				<span class="hljs-attr">"supportRemoteMetrics"</span>: <span class="hljs-literal">false</span>
			},
			<span class="hljs-attr">"namingAbility"</span>: {
				<span class="hljs-attr">"supportJraft"</span>: <span class="hljs-literal">true</span>
			}
		}
	}
}
</code></pre>
</li>
</ul>
<h2 id="4.2">查询集群节点列表</h2>
<h3>接口描述</h3>
<p>查询集群节点列表</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/core/cluster/node/list</code></p>
<h3>请求参数</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>address</code></td>
<td><code>String</code></td>
<td>否</td>
<td>节点地址，默认为空</td>
</tr>
<tr>
<td><code>state</code></td>
<td><code>String</code></td>
<td>否</td>
<td>节点状态，默认为空</td>
</tr>
</tbody>
</table>
<blockquote>
<p><code>address</code>对应于需要查询的节点地址的前缀匹配条件，为空时不做限制</p>
<p><code>state</code>对应节点状态的筛选条件，为空时不做限制</p>
</blockquote>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>Object[]</code></td>
<td>节点列表，详情参见<a href="#Member">节点详情</a></td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/core/cluster/node/list'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: [
		{
			<span class="hljs-attr">"ip"</span>: <span class="hljs-string">"10.128.164.35"</span>,
			<span class="hljs-attr">"port"</span>: <span class="hljs-number">8848</span>,
			<span class="hljs-attr">"state"</span>: <span class="hljs-string">"UP"</span>,
			<span class="hljs-attr">"extendInfo"</span>: {
				<span class="hljs-attr">"lastRefreshTime"</span>: <span class="hljs-number">1664521263623</span>,
				<span class="hljs-attr">"raftMetaData"</span>: {
					<span class="hljs-attr">"metaDataMap"</span>: {
						<span class="hljs-attr">"naming_instance_metadata"</span>: {
							<span class="hljs-attr">"leader"</span>: <span class="hljs-string">"10.128.164.35:7848"</span>,
							<span class="hljs-attr">"raftGroupMember"</span>: [
								<span class="hljs-string">"10.128.164.35:7848"</span>
							],
							<span class="hljs-attr">"term"</span>: <span class="hljs-number">12</span>
						},
						<span class="hljs-attr">"naming_persistent_service_v2"</span>: {
							<span class="hljs-attr">"leader"</span>: <span class="hljs-string">"10.128.164.35:7848"</span>,
							<span class="hljs-attr">"raftGroupMember"</span>: [
								<span class="hljs-string">"10.128.164.35:7848"</span>
							],
							<span class="hljs-attr">"term"</span>: <span class="hljs-number">12</span>
						},
						<span class="hljs-attr">"naming_service_metadata"</span>: {
							<span class="hljs-attr">"leader"</span>: <span class="hljs-string">"10.128.164.35:7848"</span>,
							<span class="hljs-attr">"raftGroupMember"</span>: [
								<span class="hljs-string">"10.128.164.35:7848"</span>
							],
							<span class="hljs-attr">"term"</span>: <span class="hljs-number">12</span>
						}
					}
				},
				<span class="hljs-attr">"raftPort"</span>: <span class="hljs-string">"7848"</span>,
				<span class="hljs-attr">"readyToUpgrade"</span>: <span class="hljs-literal">true</span>,
				<span class="hljs-attr">"version"</span>: <span class="hljs-string">"2.1.0"</span>
			},
			<span class="hljs-attr">"address"</span>: <span class="hljs-string">"10.128.164.35:8848"</span>,
			<span class="hljs-attr">"failAccessCnt"</span>: <span class="hljs-number">0</span>,
			<span class="hljs-attr">"abilities"</span>: {
				<span class="hljs-attr">"remoteAbility"</span>: {
					<span class="hljs-attr">"supportRemoteConnection"</span>: <span class="hljs-literal">true</span>
				},
				<span class="hljs-attr">"configAbility"</span>: {
					<span class="hljs-attr">"supportRemoteMetrics"</span>: <span class="hljs-literal">false</span>
				},
				<span class="hljs-attr">"namingAbility"</span>: {
					<span class="hljs-attr">"supportJraft"</span>: <span class="hljs-literal">true</span>
				}
			}
		}
	]
}
</code></pre>
</li>
</ul>
<h2 id="4.3">查询当前节点健康状态</h2>
<h3>接口描述</h3>
<p>查询当前<code>nacos</code>节点健康状态</p>
<h3>请求方式</h3>
<p><code>GET</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/core/cluster/node/self/health</code></p>
<h3 id="Member">返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>String</code></td>
<td>当前节点健康状态</td>
</tr>
</tbody>
</table>
<blockquote>
<p>节点共有 <code>STARTING</code>， <code>UP</code>，<code>SUSPICIOUS</code>，<code>DOWN</code>，<code>ISOLATION</code>五种状态</p>
</blockquote>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -X GET 'http://127.0.0.1:8848/nacos/v2/core/cluster/node/self/health'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: <span class="hljs-string">"UP"</span>
}
</code></pre>
</li>
</ul>
<h2 id="4.4">切换集群寻址模式</h2>
<h3>接口描述</h3>
<p>切换集群寻址模式</p>
<h3>请求方式</h3>
<p><code>PUT</code></p>
<p><code>Content-Type:application/x-www-form-urlencoded</code></p>
<h3>请求URL</h3>
<p><code>/nacos/v2/core/cluster/lookup</code></p>
<h3>请求Body</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>描述说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>type</code></td>
<td><code>String</code></td>
<td><strong>是</strong></td>
<td>寻址模式</td>
</tr>
</tbody>
</table>
<blockquote>
<p>寻址模式有两种：<code>file</code>（文件配置）和 <code>address-server</code>（地址服务器）</p>
</blockquote>
<h3>返回数据</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>boolean</code></td>
<td>是否执行成功</td>
</tr>
</tbody>
</table>
<h3>示例</h3>
<ul>
<li>
<p>请求示例</p>
<pre><code class="language-shell">curl -d 'type=file' \
  -X PUT 'http://127.0.0.1:8848/nacos/v2/core/cluster/lookup'
</code></pre>
</li>
<li>
<p>返回示例</p>
<pre><code class="language-json">{
	<span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
	<span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>,
	<span class="hljs-attr">"data"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</li>
</ul>
</div></div></section><footer class="footer-container"><div class="footer-body"><img src="/img/nacos_gray.png"/><div class="cols-container"><div class="col col-12"><h3>愿景</h3><p>Nacos 通过提供简单易用的动态服务发现、服务配置、服务共享与管理等服务基础设施，帮助用户在云原生时代，在私有云、混合云或者公有云等所有云环境中，更好的构建、交付、管理自己的微服务平台，更快的复用和组合业务服务，更快的交付商业创新的价值，从而为用户赢得市场。</p></div><div class="col col-6"><dl><dt>文档</dt><dd><a href="/zh-cn/docs/what-is-nacos.html" target="_self">概览</a></dd><dd><a href="/zh-cn/docs/quick-start.html" target="_self">快速开始</a></dd><dd><a href="/zh-cn/docs/contributing.html" target="_self">开发者指南</a></dd></dl></div><div class="col col-6"><dl><dt>资源</dt><dd><a href="/zh-cn/community/index.html" target="_self">社区</a></dd><dd><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" target="_self">云服务 MSE</a></dd><dd><a href="https://www.aliyun.com/product/edas?source_type=nacos_pc_20181219" target="_self">云服务 EDAS</a></dd><dd><a href="https://www.aliyun.com/product/ahas?source_type=nacos_pc_20190225" target="_self">云服务 AHAS</a></dd></dl></div></div><div class="copyright"><span>@ 2022 The Nacos Authors | An Alibaba Middleware (Aliware) Project</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script src="//g.alicdn.com/alilog/mlog/aplus_v2.js" id="beacon-aplus" exparams="clog=o&aplus&sidx=aplusSidx&ckx=aplusCkx"></script>
  <script src="//g.alicdn.com/aes/??tracker/1.0.34/index.js,tracker-plugin-pv/2.4.5/index.js,tracker-plugin-event/1.2.5/index.js,tracker-plugin-jserror/1.0.13/index.js,tracker-plugin-api/1.1.14/index.js,tracker-plugin-perf/1.1.8/index.js,tracker-plugin-eventTiming/1.0.4/index.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/documentation.js">
	</script>
	<script src="https://g.alicdn.com/mamba/assets/0.0.8/mse-arc-ui.min.js"></script>
	<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e3a5cec56ef8619cf9d7c2abebd509e3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
</body>
</html>
